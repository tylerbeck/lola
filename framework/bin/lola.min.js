(function(c){var d={window:c,guid:0,initialized:false,initializers:[],dependencies:{},safeDeleteHooks:[],urlvars:{},hash:"",debugMode:false,initialize:function(a){if(!d.initialized){d.debug("lola::initialize");d.initialized=true;c=a;document.addEventListener?document.removeEventListener("DOMContentLoaded",d.initialize,false):document.attachEvent&&document.detachEvent("onreadystatechange",d.initialize);d.checkDependencies(d.dependencies);for(var e=d.initializers.length,a=0;a<e;a++)d.hasFn(initializers,
a)&&(d.initializers[a](),delete d.initializers[a])}},checkDependencies:function(a){var c=[],g;for(g in a){var d=this.checkModules(a[g]);d.length>0&&c.push(g+": "+d.join(", "))}if(c.length>0)throw Error("module dependency checks failed for: \n\t"+c.join("\n\t"));},checkModules:function(a){var c=[];Object.forEach(a,function(a){d.hasPackage(d,a)||c.push(a)});return c},getPackage:function(a,c){var d=a;if(typeof c==="string")for(var h=c.split("."),j;j=h.shift();)d[j]==null&&(d[j]={}),d=d[j];return d},
hasPackage:function(a,c){var d=a;if(typeof c==="string")for(var h=c.split("."),j;j=h.shift();)if(d[j]==null)return false;else d=d[j];return true},extend:function(a,c,d,h){d==void 0&&(d=false);h==void 0&&(h=false);for(var j in c)if(d||a[j]==null)a[j]=c[j];else if(h)throw Error("property "+j+" already exists on extend target!");},evaluate:function(a,c){if(c==null&&(c=document.getElementsByTagName("head")[0],!c))c=document.documentElement;var d=document.createElement("script");d.type="text/javascript";
this.support.domEval?d.appendChild(document.createTextNode(a)):d.text=a;c.insertBefore(d,c.firstChild);c.removeChild(d)},loadScript:function(a,c){var g=document.getElementsByTagName("head")[0];if(!g)g=document.documentElement;var h=document.createElement("script");typeof c=="function"&&d.event.addListener(h,"load",function(){c.apply()});h.src=a;g.insertBefore(h,g.firstChild)},registerModule:function(a){var c=a.getNamespace();d.debug("lola::registerModule - "+c);d.hasFn(a,"getDependencies")&&(d.dependencies[c]=
a.getDependencies());d.extend(d.getPackage(d,c),a,false,false);d.hasFn(a,"getSelectorMethods")&&(d.extend(d.Selector.prototype,a.getSelectorMethods(),false,false),delete a.getSelectorMethods);d.hasFn(a,"initialize")&&d.addInitializer(function(){a.initialize()});d.hasFn(a,"preinitialize")&&a.preinitialize()},safeDelete:function(a,c){for(var d=c?a[c]:a,h=this.safeDeleteHooks.length-1;h>=0;h--)if(d){var j=this.safeDeleteHooks[h];j.fn.call(j.scope,d)}a&&c&&delete a[c]},toString:Object.prototype.toString,
hasFn:function(a,c){return a.hasOwnProperty(c)&&typeof a[c]=="function"},addInitializer:function(a){d.initializers.push(a)},debug:function(){d.debugMode&&console.log("["+d.now()+"]",arguments.join(" "))},now:function(){return(new Date).getTime()},__:function(a){return a.length==1?a[0]:a},upgradeObjectPrototype:function(){if(!Object.keys)Object.keys=function(a){var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);return c};if(!Object.forEach)Object.forEach=function(a,c,d){if(a===
void 0||a===null)throw new TypeError;a=Object(a);if(typeof c!=="function")throw new TypeError;for(var h in a)a.hasOwnProperty(h)&&c.call(d,a[h],h,a)}},Selector:function(a,c){return this.initialize(a,c)},Module:function(){return this},URL:function(a){return this.init(a)}};d.Selector.prototype={elements:[],initialize:function(a,e){if(typeof a==="string")if(c.Sizzle)this.elements=Sizzle(a,e);else try{e||(e=document);var d=e.querySelectorAll(a),h=d.length;this.elements=[];for(var j=0;j<h;j++)this.elements.push(d.item(j))}catch(k){console.log("Exception:",
a)}else this.elements=Array.isArray(a)?a:[a];return this},identify:function(){this.forEach(function(a){if(!a.id)a.id="lola-guid-"+d.guid++});return this},get:function(a){a==void 0&&(a=0);return this.elements[a]},getAll:function(){return this.elements},count:function(){return this.elements.length},concat:function(a,c){if(a instanceof d.Selector)this.elements=this.elements.concat(a.getAll());else if(a instanceof Array)for(var g;g=a.pop();)this.concat(g,c);else this.elements.push(a);if(c==void 0||c===
true)this.elements=d.array.unique(this.elements);return this}};d.Module.prototype={initialize:function(){},getNamespace:function(){return""},getDependencies:function(){return[]},getSelectorMethods:function(){return{}}};d.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",init:function(a){this.parse(a);return this},parse:function(a){a=a.split("#",2);this.hash=a[1]?a[1]:"";var c={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,f,d){c[f]=d;return""});this.vars=c;a=a.split(":");
a.length==2?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=this.domain==""?"":"/";if(a.length>0)this.path=this.path+a.join("/")+"/"},toString:function(){var a=[];Object.forEach(this.vars,function(c,e){a.push(e+"="+c)});var c=a.length?"?"+a.join("&"):"",d=this.hash==""?"":"#"+this.hash;return this.protocol!=""?this.protocol+"://"+this.domain+this.path+this.page+c+d:this.path+this.page+c+d}};var a=function(a,c){return new d.Selector(a,
c)};d.upgradeObjectPrototype();delete d.upgradeObjectPrototype;d.extend(a,d,true);d=a;c.$=d;c.lola=d;d.url=new d.URL(c.location.href);d.debugMode=d.url.vars.debug=="true";document.readyState==="complete"?d.initialize(c):document.addEventListener?(document.addEventListener("DOMContentLoaded",d.initialize,false),c.addEventListener("load",d.initialize,false)):document.attachEvent&&(document.attachEvent("onreadystatechange",d.initialize),c.attachEvent("onload",d.initialize))})(window);
(function(c){var d={initialize:function(){c.debug("lola.array::initialize");if(!c)throw Error("lola not defined!");delete c.array.initialize},getNamespace:function(){return"array"},getDependencies:function(){return[]},hasObjectWithProperty:function(a,c,e){return a.some(function(a){return a[c]==e})},unique:function(a){for(var c=[],e=a.length-1;e>=0;e--)c.indexOf(a[e])==-1&&c.push(a[e]);return c},isIn:function(a,c){return a.indexOf(c)>=0},pruneNulls:function(a){var c=[];a.forEach(function(a){a!=null&&
c.push(a)});return c},getSortFunction:function(a){return function(c,e){var d=c[a],h=e[a];return d<h?-1:d>h?1:0}},sortOn:function(a,f){return f.sort(c.array.getSortFunction(a))},getSelectorMethods:function(){return{forEach:function(a){this.elements.forEach(a);return this},every:function(a){return this.elements.every(a)},some:function(a){return this.elements.some(a)}}},upgradeArrayPrototype:function(){if(!Array.prototype.forEach)Array.prototype.forEach=function(a,c){if(this===void 0||this===null)throw new TypeError;
var e=Object(this),d=e.length>>>0;if(typeof a!=="function")throw new TypeError;for(var h=0;h<d;h++)h in e&&a.call(c,e[h],h,e)};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a){if(this===void 0||this===null)throw new TypeError;var c=Object(this),e=c.length>>>0;if(e===0)return-1;var d=0;arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=e)return-1;for(d=d>=0?d:Math.max(e-Math.abs(d),0);d<e;d++)if(d in c&&c[d]===
a)return d;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(a){if(this===void 0||this===null)throw new TypeError;var c=Object(this),e=c.length>>>0;if(e===0)return-1;var d=e;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(e=d>=0?Math.min(d,e-1):e-Math.abs(d);e>=0;e--)if(e in c&&c[e]===a)return e;return-1};if(!Array.prototype.filter)Array.prototype.filter=function(a,c){if(this===void 0||this===
null)throw new TypeError;var e=Object(this),d=e.length>>>0;if(typeof a!=="function")throw new TypeError;for(var h=[],j=0;j<d;j++)if(j in e){var k=e[j];a.call(c,k,j,e)&&h.push(k)}return h};if(!Array.prototype.every)Array.prototype.every=function(a,c){if(this===void 0||this===null)throw new TypeError;var e=Object(this),d=e.length>>>0;if(typeof a!=="function")throw new TypeError;for(var h=0;h<d;h++)if(h in e&&!a.call(c,e[h],h,e))return false;return true};if(!Array.prototype.map)Array.prototype.map=function(a,
c){if(this===void 0||this===null)throw new TypeError;var e=Object(this),d=e.length>>>0;if(typeof a!=="function")throw new TypeError;for(var h=Array(d),j=0;j<d;j++)j in e&&(h[j]=a.call(c,e[j],j,e));return h};if(!Array.prototype.some)Array.prototype.some=function(a,c){if(this===void 0||this===null)throw new TypeError;var e=Object(this),d=e.length>>>0;if(typeof a!=="function")throw new TypeError;for(var h=0;h<d;h++)if(h in e&&a.call(c,e[h],h,e))return true;return false};if(!Array.prototype.reduce)Array.prototype.reduce=
function(a){var c,e=this.length,d;if(typeof a!=="function")throw new TypeError("First argument is not callable");if((e==0||e===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");if(arguments.length<=1){for(;c=e;)throw new TypeError("Empty array and no second argument");d=this[c++]}else d=arguments[1];for(c=c||0;c<e;c++)c in this&&(d=a.call(void 0,d,this[c],c,this));return d};if(!Array.isArray)Array.isArray=function(a){return Object.prototype.toString.call(a)===
"[object Array]"||a instanceof Array}}};d.upgradeArrayPrototype();delete d.upgradeArrayPrototype;c.registerModule(d)})(lola);
(function(c){var d={propertyCache:{},selectorCache:{},propertyHooks:{},stylesheets:{},preinitialize:function(){c.debug("lola.css::preinitialize");if(!c)throw Error("lola not defined!");delete c.css.preinitialize},initialize:function(){c.debug("lola.css::initialize");if(!c)throw Error("lola not defined!");c.support.cssRules=document.styleSheets.length>0&&document.styleSheets[0].cssRules||!document.createStyleSheet?true:false;"padding margin background-position border-top-width border-right-width border-bottom-width border-left-width border-width bottom font-size height left line-height list-style-position margin margin-top margin-right margin-bottom margin-left max-height max-width min-height min-width outline-width padding padding-top padding-right padding-bottom padding-left right text-indent top width".split(" ").forEach(function(a){c.css.registerStyleHook(a,
c.css.dimensionalHook)});this.addStyleSheet("_default");this.propertyCache["float"]=c.support.cssFloat?"cssFloat":"styleFloat";delete c.css.initialize},getNamespace:function(){return"css"},getDependencies:function(){return[]},canStyle:function(){return true},getSelector:function(a){this.selectorCache[a]||(this.selectorCache[a]=c.string.camelCase(a));return this.selectorCache(a)},getProperty:function(a){this.propertyCache[a]||(this.propertyCache[a]=c.string.camelCase(a));return this.propertyCache[a]},
style:function(a,f,e){var g=c.css.getProperty(f);if(c.css.canStyle(a))if(c.css.propertyHooks[g]!=null)return c.css.propertyHooks[g].apply(a,arguments);else e==void 0?d.getRawStyle(a,g):d.setRawStyle(a,g,e);return false},getRawStyle:function(a,f){var e=c.css.getProperty(f);return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,void 0)[e]:typeof document.body.currentStyle!=="undefined"?a.currentStyle[e]:a.style[e]},setRawStyle:function(a,f,e){f=c.css.getProperty(f);
return a.style[f]=e},registerStyleHook:function(a,f){var e=c.css.getProperty(a);d.propertyHooks[e]=f},dimensionalHook:function(a,f,e){if(e==void 0)return a=d.getRawStyle(a,f),parseFloat(a.replace(c.regex.isDimension,"$1"));else e=String(e).match(c.regex.isDimension)?e:e+"px",d.setRawStyle(a,f,e)},addStyleSheet:function(a,f){var e=c.support.cssRules?document.createElement("style"):document.createStyleSheet();if(f)e.source=f;a&&this.registerStyleSheet(e,a);c("head").appendChild(e)},registerStyleSheet:function(a,
c){this.stylesheets[c]=a},addSelector:function(a,f,e){c.type.get(e)=="string"&&(e=this.stylesheets._default);var e=e||this.stylesheets._default,f=f||[],d=c.support.cssRules?e.cssRules.length:e.rules.length;e.addRule?e.addRule(a,null,d):e.insertRule(a+" { }",d);var h=c.support.cssRules?e.cssRules[d]:e.rules[d];f&&f.keys().forEach(function(a){c.css.style(h,a,f[a])});return h},performRuleAction:function(a,f,e){for(var a=a.toLowerCase(),e=e?e.toLowerCase():"",d=0;d<document.styleSheets.length;d++){var h=
document.styleSheets[d];if(!e||e==h.mediaText){var h=c.support.cssRules?h.cssRules:h.rules,j;for(j in h)h[j]&&h[j].selectorText&&h[j].selectorText.toLowerCase()==a&&(console.info("matched rule: "+h[j].selectorText),f(d,j))}}},getRules:function(a,f){var e=[];c.css.performRuleAction(a,function(a,f){c.support.cssRules?e.push(document.styleSheets[a].cssRules[f]):e.push(document.styleSheets[a].rules[f])},f);return e},updateRules:function(a,f,e){var d=c.css.getRules(a,e);f.keys().forEach(function(a){d.forEach(function(e){c.css.style(e,
a,f[a])})});return d},deleteRules:function(a,f){c.css.performRuleAction(a,function(a,f){c.support.cssRules?document.styleSheets[a].deleteRule(f):document.styleSheets[a].removeRule(f)},f)},classes:function(a,f){return f!=void 0?(c.type.get(f)!="array"&&(f=c.type.get(f)=="string"?[f]:[]),a.className=f.join(" "),f):a.className.replace(c.regex.extraSpace," ").split(" ").reverse()},hasClass:function(a,f){var e=c.css.classes(a);return c.array.isIn(e,f)},addClass:function(a,f){var e=c.css.classes(a);c.array.isIn(e,
f)||(e.push(f),c.css.classes(a,e))},removeClass:function(a,f){var e=c.css.classes(a),d=e.indexOf(f);d>=0&&(e.splice(d,1),c.css.classes(a,e))},clearStyle:function(a,f){delete a.style[c.css.getProperty(f)]},parseRGBColor:function(a){var f={r:0,g:0,b:0,a:1},a=a.match(c.type.rIsRGBColor);if(a!=null)a=a[1].replace(/\s+/g,""),a=a.split(","),f.r=c.css.parseColorPart(a[0],255),f.g=c.css.parseColorPart(a[1],255),f.b=c.css.parseColorPart(a[2],255),f.a=a.length>3?c.css.parseColorPart(a[3],1):1;return f},parseHSLColor:function(a){var f=
{h:0,s:0,l:0,a:1},a=a.match(c.type.rIsHSLColor);if(a!=null)a=a[1].replace(/\s+/g,""),a=a.split(","),f.h=c.css.parseColorPart(a[0],360),f.s=c.css.parseColorPart(a[1],1),f.l=c.css.parseColorPart(a[2],1),f.a=a.length>3?c.css.parseColorPart(a[3],1):1;return f},parseColorPart:function(a,c){return a?a.indexOf("%")>0?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/c:0},Color:function(a){return this.init(a)},getSelectorMethods:function(){return{style:function(a,f){if(f!=void 0)return this.forEach(function(e){c.css.style(e,
a,f)}),this;else{var e=[];this.forEach(function(f){e.push(c.css.style(f,a))});return c.__(e)}},classes:function(a){if(a!=void 0)return this.forEach(function(f){c.css.classes(f,a)}),this;else{var f=[];this.forEach(function(a){f.push(c.css.classes(a))});return c.__(f)}},hasClass:function(a){var f=true;this.forEach(function(e){c.css.hasClass(e,a)||(f=false)});return f},addClass:function(a){this.forEach(function(f){c.css.addClass(f,a)});return this},removeClass:function(a){this.forEach(function(f){c.css.removeClass(f,
a)});return this}}}};d.Color.prototype={outputType:"",hexValue:null,rgbValue:null,hslValue:null,init:function(a){a&&this.parseString(a);return this},parseString:function(a){var f=a.match(c.regex.isColor);if(f){var e,d,h;switch(f[1]){case "#":a=a.match(c.regex.isHexColor);h=a!=null?a[1]:"000000";e=c.math.color.hex2rgb(h);d=c.math.color.rgb2hsl(e.r,e.g,e.b);e.a=d.a=1;break;case "rgb":case "rgba":e=c.css.parseRGBColor(a);d=c.math.color.rgb2hsl(e.r,e.g,e.b);h=c.math.color.rgb2hex(e.r,e.g,e.b);d.a=e.a;
this.valueType="rgba";break;case "hsl":case "hsla":d=c.css.parseHSLColor(a),e=c.math.color.hsl2rgb(d.h,d.s,d.l),h=c.math.color.rgb2hex(e.r,e.g,e.b),e.a=d.a,this.valueType="hsla"}this.hexValue=h;this.rgbValue=e;this.hslValue=d}},toString:function(){switch(this.outputType){case "#":return this.toHexString();case "hsl":return this.toHslString();case "hsla":return this.toHslaString();case "rgb":return this.toRgbString();default:return this.toRgbaString()}},toInt:function(){return parseInt("0x"+this.hexValue)},
toHexString:function(){return"#"+this.hexValue},toHslString:function(){return"hsl("+Math.round(this.hslValue.h*360)+","+Math.round(this.hslValue.s*100)+"%,"+Math.round(this.hslValue.l*100)+"%)"},toHslaString:function(){return"hsla("+Math.round(this.hslValue.h*360)+","+Math.round(this.hslValue.s*100)+"%,"+Math.round(this.hslValue.l*100)+"%,"+this.hslValue.a+"%)"},toRgbString:function(){return"rgb("+Math.round(this.rgbValue.r*255)+","+Math.round(this.rgbValue.g*255)+","+Math.round(this.rgbValue.b*255)+
")"},toRgbaString:function(){return"rgba("+Math.round(this.rgbValue.r*255)+","+Math.round(this.rgbValue.g*255)+","+Math.round(this.rgbValue.b*255)+","+this.rgbValue.a+")"}};c.registerModule(d)})(lola);
(function(c){c.registerModule({cache:{},uid:1,cacheIDProp:"LOLA-DATA-UID",preinitialize:function(){c.debug("lola.data::preinitialize");if(!c)throw Error("lola not defined!");c.safeDeleteHooks.push({scope:this,fn:this.remove});delete c.data.preinitialize},initialize:function(){c.debug("lola.data::initialize");if(!c)throw Error("lola not defined!");delete c.data.initialize},getNamespace:function(){return"data"},getDependencies:function(){return["support"]},nextUid:function(){return c.data.uid++},getCacheId:function(d,
a){var a=a==void 0?true:a,f=c.dom.attr(d,c.data.cacheIDProp);if(f==null)switch(c.type.get(d)){case "function":case "object":f=d[c.data.cacheIDProp];f==null&&a&&(f=c.data.nextUid(),d[c.data.cacheIDProp]=f);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:f=c.dom.attr(d,c.data.cacheIDProp),f==null&&a&&(f=c.data.nextUid(),c.dom.attr(d,c.data.cacheIDProp,f))}return f},
get:function(d,a,f){var e=c.data.getCacheId(d,false);return c.data.cache[a]==null||e==null?f?c.data.set(d,{},a,false):null:c.data.cache[a][e]},getNamespaceData:function(d){return c.data.cache[d]},set:function(d,a,f,e){d=c.data.getCacheId(d,true);c.data.cache[f]==null&&(c.data.cache[f]={});e||c.data.cache[f][d]==null?c.data.cache[f][d]=a:c.extend(c.data.cache[f][d],a,true);return c.data.cache[f][d]},remove:function(d,a,f){var e=c.data.getCacheId(d,false);if(e){if(a==null||a==void 0){var a=[],g;for(g in c.data.cache)a.push(g)}else c.type.get(a)!=
"array"&&(a=[a]);a.forEach(function(a){delete c.data.cache[a][e]})}f&&d.childNodes&&d.childNodes.forEach(function(f){c.data.remove(f,a,true)})},getSelectorMethods:function(){return{getData:function(d,a){var f=[];this.forEach(function(e){f.push(c.data.get(e,d,a))});return c.__(f)},putData:function(d,a){this.forEach(function(f){c.data.set(f,d,a,true)});return this},updateData:function(d,a){this.forEach(function(f){c.data.set(f,d,a,false)});return this},removeData:function(d,a){this.forEach(function(f){c.data.remove(f,
d,a)});return this},removeAllData:function(c){return this.removeData(null,c)}}}})})(lola);
(function(c){c.registerModule({attributeHooks:{},preinitialize:function(){c.debug("lola.dom::preinitialize");if(!c)throw Error("lola not defined!");delete c.dom.preinitialize},initialize:function(){c.debug("lola.dom::initialize");if(!c)throw Error("lola not defined!");delete c.dom.initialize},getNamespace:function(){return"dom"},getDependencies:function(){return[]},attr:function(d,a,f){if(this.attributeHooks[a])return this.attributeHooks[a].apply(d,arguments);else if(f||f=="")if(c(f).isPrimitive())return d[a]=
f;else throw Error("attribute values must be primitives");else return d[a]},deleteExpando:function(d,a){c.support.deleteExpando?delete d[a]:d[a]=null},isDescendant:function(d,a){return c.dom.isAncestor(a,d)},isAncestor:function(c,a){for(var f=a;f&&(f=f.parentNode)&&f.nodeName!="BODY";)if(c==f)return true;return false},getSelectorMethods:function(){return{find:function(d){var a=c([]);this.forEach(function(f){f=c(d,f);a.concat(f)});return a},generation:function(d){d||(d=1);var a=c([]);this.forEach(function(c){for(var e=
0;c=c.parentNode&&e<d;)e++;c&&a.concat([c])});return a},html:function(d){if(arguments.length==0){var a=[];this.forEach(function(c){a.push(c?c.innerHTML:null)});return c.__(a)}else return this.forEach(function(a){if(a.hasOwnProperty("childNodes")){for(var e=a.childNodes.length,g=0;g<e;g++){var h=a.childNodes.item(g);c.safeDelete(h)}switch(c.type.get(d)){case "null":case "undefined":a.innerHTML="";break;case "string":a.innerHTML=d;break;case "array":a.innerHTML="";for(var j in d)a.appendChild(j);break;
default:a.innerHTML="",a.appendChild(d)}}}),this},appendChild:function(c){this.elements.length>0&&this.get().appendChild(c);return this},prependChild:function(c){this.elements.length>0&&this.get().insertBefore(c,this.get().firstChild);return this},cloneNode:function(c){return this.elements.length>0?this.get().cloneNode(c):null},insertBefore:function(c){this.elements.length>0&&this.get().insertBefore(c);return this},removeChild:function(d){this.elements.length>0&&(c.safeDelete(d),this.get().removeChild(d));
return this},replaceChild:function(d,a){this.elements.length>0&&(c.safeDelete(a),this.get().replaceChild(d,a));return this},attr:function(d,a){if(a!=void 0)return this.forEach(function(f){c.dom.attr(f,d,a)}),this;else{var f=[];this.forEach(function(a){f.push(c.dom.attr(a,d))});return c.__(f)}},removeAttr:function(c){this.forEach(function(a){a.removeAttribute(c)});return this},parent:function(d){if(d!=void 0)return this.forEach(function(a){c(d).appendChild(a)}),this;else{var a=[];this.forEach(function(c){a.push(c?
c.parentNode:null)});return c.__(a)}},deleteExpando:function(d){this.forEach(function(a){c.deleteExpando(a,d)});return this}}}})})(lola);
(function(c){var d={map:{mousewheel:["mousewheel","DOMMouseScroll"]},hooks:{},uid:0,preinitialize:function(){c.debug("lola.event::preinitialize");if(!c)throw Error("lola not defined!");delete c.event.preinitialize},initialize:function(){c.debug("lola.event::initialize");if(!c)throw Error("lola not defined!");delete c.event.initialize},getNamespace:function(){return"event"},getDependencies:function(){return[]},addListener:function(a,f,e,g,h,j){if(c.util.checkArgs("ERROR: lola.event.addListener( "+
f+" )",[["target",a],["type",f],["handler",e]],[a,"type: "+f,"useCapture: "+g]))if(c.event.hooks[f]!=null)return c.event.hooks[f].addListener.call(c.event.hooks[f],a,f,e,g,h,j);else{var k=c.data.get(a,c.event.dataNs);k||(k={capture:{},bubble:{}},c.data.set(a,k,c.event.dataNs,true));g=c.event.phaseString(a,g);h=h||d.PRIORITY_NORMAL;if(e.uid==null)e.uid=c.event.uid++;var l=e.uid;k[g][f]==null&&(k[g][f]={});k[g][f][l]={priority:h,huid:l,handler:e,scope:j||a};g=="capture"?c.event.addDOMListener(a,f,c.event.captureHandler,
true):c.event.addDOMListener(a,f,c.event.bubbleHandler,false);return l}},removeListener:function(a,f,e,d){if(c.util.checkArgs("ERROR: lola.event.removeListener( "+f+" )",[["target",a],["type",f],["handler",e]],[a,"type: "+f,"useCapture: "+d]))if(c.event.hooks[f]!=null)c.event.hooks[f].removeListener.call(c.event.hooks[f],a,f,e,d);else{var h=c.data.get(a,c.event.dataNs);h||(h={capture:{},bubble:{}});d=c.event.phaseString(a,d);e=c.type.get(e)=="function"?e.uid:e;delete h[d][f][e];Object.keys(h[d][f]).length==
0&&(d=="capture"?c.event.removeDOMListener(a,f,c.event.captureHandler,true):c.event.removeDOMListener(a,f,c.event.bubbleHandler,false))}},removeHandler:function(a,f,e){if(c.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a=c.type.get(a)=="function"?a.uid:a,d=c.data.getNamespace(c.event.dataNs);if(d){var e=useCaputure==void 0?["capture","bubble"]:e?["capture"]:["bubble"],h;for(h in d){f!=void 0&&(f=c.type.get(f)=="array"?f:[f]);for(var j in e){var k;if(f)for(k in f)d[h][j][k]&&
delete d[h][j][k][a];else for(k in d[h][j])delete d[h][j][k][a];Object.keys(d[h][j][k]).length==0&&c.event.removeDOMListener(target,k,j=="capture"?c.event.captureHandler:c.event.bubbleHandler,j=="capture")}}}}},captureHandler:function(a){a=a||c.window.event;c.event.handler(a,"capture")},bubbleHandler:function(a){a=a||c.window.event;c.event.handler(a,"bubble")},handler:function(a,f){var d=a.hasOwnProperty("originalEvent")?a:new c.event.LolaEvent(a),g=c.data.get(d.currentTarget,c.event.dataNs);if(g&&
g[f]&&g[f][a.type]){var h=[],j;for(j in g[f][a.type])h.push(g[f][a.type][j]);var h=c.array.sortOn("priority",h),k;for(k in h){if(d._immediatePropagationStopped)break;j=h[k];j.handler?j.handler.call(j.scope,d):delete g[f][a.type][j.huid]}}},trigger:function(a,f,d,g,h){if(c.util.checkArgs([a,f],["target","type"],"lola.event.trigger: type="+f+" bubbles="+d)){d==void 0&&(d=true);g==void 0&&(g=true);var j=f;if(c.type.get(j)==="string")j=document.createEvent("Event"),j.initEvent(f,d,g),j.data=h;a.hasOwnProperty("dispatchEvent")?
a.dispatchEvent(j):(j=new c.event.LolaEvent(j,a),c.event.handler(j,"capture"),c.event.handler(j,"bubble"))}},addDOMListener:function(a,f,d,g){f=c.event.map[f]?c.event.map[f]:[f];f.forEach(function(h){try{a.addEventListener?a.addEventListener(h,d,g):c.support.msEvent?a.attachEvent("on"+h,d):a["on"+h.toLowerCase()]==null&&(a["on"+f.toLowerCase()]=d)}catch(j){}})},removeDOMListener:function(a,f,d){f=c.event.map[f]?c.event.map[f]:[f];f.forEach(function(){try{a.removeEventListener?a.removeEventListener(f,
d,false):c.support.msEvent?a.detachEvent("on"+f,d):a["on"+f.toLowerCase()]==null&&delete a["on"+f.toLowerCase()]}catch(g){}})},getDOMTarget:function(a,c){if(a){if(a.currentTarget)c=a.currentTarget;else if(a.srcElement)c=a.srcElement;if(c&&c.nodeType==3)c=c.parentNode}return c},getDOMKeycode:function(a){var c;if(a.keyCode)c=a.keyCode;else if(a.which)c=a.which;return c},getDOMKey:function(a){return String.fromCharCode(c.event.getDOMKeycode(a))},getDOMGlobalXY:function(a){var c=0,d=0;if(a.pageX||a.pageY)c=
a.pageX,d=a.pageY;else if(a.clientX||a.clientY)c=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,d=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:c,y:d}},getDOMLocalXY:function(a){return{x:a.layerX||a.offsetX||0,y:a.layerY||a.offsetY||0}},phaseString:function(a,f){return f&&(c.support.domEvent||c.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"},preventDefault:function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),
a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=true,a.cancel=true,a.returnValue=false;return false},LolaEvent:function(a,c){return this.init(a,c)},getSelectorMethods:function(){return{addListener:function(a,f,d,g,h){this.forEach(function(j){c.event.addListener(j,a,f,d,g,h)});return this},removeListener:function(a,f,d){this.forEach(function(g){c.event.removeListener(g,a,f,d)});return this},removeHandler:function(a,f,d){this.forEach(function(g){c.event.removeHandler(g,
a,f,d)});return this},trigger:function(a,f,d,g){this.forEach(function(h){c.event.trigger(h,a,f,d,g)});return this}}}};d.LolaEvent.prototype={originalEvent:null,propagationStopped:false,immediatePropagationStopped:false,target:null,currentTarget:null,globalX:null,globalY:null,key:null,init:function(a,f){c.extend(this,a,false,false);this.originalEvent=a;if(f)this.target=f;this.currentTarget=c.event.getDOMTarget(a,f);var d=c.event.getDOMGlobalXY(a);this.globalX=d.x;this.globalY=d.y;d=c.event.getDOMLocalXY(a);
this.localX=d.x;this.localY=d.y;this.key=c.event.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();this.propagationStopped=true},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();this.immediatePropagationStopped=true}};d.hooks.hover={event:"hoverConfirmed",getData:function(a){var f=c.dom.attr(a,"hoverDelay"),f=f==null||f==void 0?250:parseInt(f),d=c.data.get(a,"eventHover");
d||(d={hasIntent:false,wait:f,timeout:-1},c.data.set(a,d,"eventHover",true));return d},mouseOver:function(a){c.event.addListener(a.currentTarget,"mouseout",c.event.hooks.hover.mouseOut);var f=c.event.hooks.hover.getData(a.currentTarget);f.hasIntent=true;if(f.timeout<0)f.timeout=setTimeout(c.event.hooks.hover.confirm,f.wait,a.currentTarget)},mouseOut:function(a){c.event.removeListener(a.currentTarget,"mouseout",c.event.hooks.hover.mouseOut);c.event.hooks.hover.getData(a.currentTarget).hasIntent=false},
confirm:function(a){c.event.removeListener(a,"mouseout",c.event.hooks.hover.mouseOut);var f=c.event.hooks.hover.getData(a);f.timeout=-1;f.hasIntent&&c.event.trigger(a,c.event.hooks.hover.event)},addListener:function(a,f,d,g,h,j){f=c.event.addListener(a,c.event.hooks.hover.event,d,g,h,j);c.event.hooks.hover.getData(a);c.event.addListener(a,"mouseover",c.event.hooks.hover.mouseOver);return f},removeListener:function(a,f,d,g){f=c.data.get(a,c.event.dataNs);c.event.removeListener(a,c.event.hooks.hover.event,
d,g);d=c.event.phaseString(a,g);if(f[d][c.event.hooks.hover.event]==null||Object.keys(f[d][c.event.hooks.hover.event]).length==0)c.event.removeListener(a,"mouseover",c.event.hooks.hover.mouseOver),c.data.remove(a,"eventHover")}};d.hooks.mouseenterstate={e1:"domouseenter",e2:"domouseleave",getData:function(a){var f=c.data.get(a,"eventMouseEnterState");f||(f={within:false},c.data.set(a,f,"eventMouseEnterState",true));return f},getEnhancedType:function(a){c.support.msEvent||(a="do"+a);return a},mouseOver:function(a){var f=
c.event.hooks.mouseenterstate.getData(a.currentTarget);if(!f.within&&a.currentTarget!=a.relatedTarget)f.within=true,c.event.trigger(a.currentTarget,c.event.hooks.mouseenterstate.e1,false)},mouseOut:function(a){var f=c.event.hooks.mouseenterstate.getData(a.currentTarget);if(f.within&&!c.util.isAncestor(a.currentTarget,a.relatedTarget)&&a.currentTarget!=a.relatedTarget)f.within=false,c.event.trigger(a.currentTarget,c.event.hooks.mouseenterstate.e2,false)},addListener:function(a,f,d,g,h,j){c.support.msEvent||
(c.event.addListener(a,"mouseover",c.event.hooks.mouseenterstate.mouseOver,g,h,j),c.event.addListener(a,"mouseout",c.event.hooks.mouseenterstate.mouseOut,g,h,j));return c.event.addListener(a,c.event.hooks.mouseenterstate.getEnhancedType(f),d,g,h,j)},removeListener:function(a,f,d,g){var h=c.data.get(a,c.event.dataNs),j=c.event.phaseString(a,g),f=c.event.hooks.mouseenterstate.getEnhancedType(f);c.event.removeListener(a,f,d,g);if(!c.support.msEvent&&h[j][c.event.hooks.mouseenterstate.getEnhancedType(f)]==
null||h[j][c.event.hooks.mouseenterstate.getEnhancedType(f)].keys().length==0)c.event.removeListener(a,"mouseover",c.event.hooks.mouseenterstate.mouseOver,g),c.event.removeListener(a,"mouseout",c.event.hooks.mouseenterstate.mouseOut,g)}};d.hooks.mouseleave=d.hooks.mouseenterstate;d.hooks.mouseenter=d.hooks.mouseenterstate;d.PRIORITY_BEFORE=1;d.PRIORITY_FIRST=4194304;d.PRIORITY_NORMAL=8388608;d.PRIORITY_LAST=12582912;d.PRIORITY_AFTER=16777215;c.registerModule(d)})(lola);
(function(c){c.registerModule({preinitialize:function(){c.debug("lola.math::preinitialize");if(!c)throw Error("lola not defined!");delete c.math.preinitialize},initialize:function(){c.debug("lola.math::initialize");if(!c)throw Error("lola not defined!");delete c.math.initialize},getNamespace:function(){return"math"},getDependencies:function(){return[]},normalizeRadians:function(c){for(var a=2*Math.PI;c<a;)c+=a;return c%a},normalizeDegrees:function(c){for(;c<360;)c+=360;return c%360},normalizeRange:function(c,
a,f){return Math.max(c,Math.min(f,a))},getSelectorMethods:function(){return{maxValue:function(c){return this.compareValues(c,Math.max,Number.MIN_VALUE)},minValue:function(c){return this.compareValues(c,Math.min,Number.MAX_VALUE)},totalValue:function(c){return this.compareValues(c,function(a,c){return a+c},0)},avgValue:function(c){return this.totalValue(c)/this.elements.length}}}})})(lola);
(function(c){c.registerModule({extraSpace:/\s\s+/g,isNumber:/^-?\d*(?:\.\d+)?$/,isDimension:/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/,isColor:/^(#|rgb|rgba|hsl|hsla)(.*)$/,isHexColor:/^#([A-F0-9]{3,6})$/,isRGBColor:/^rgba?\(([^\)]+)\)$/,isHSLColor:/^hsla?\(([^\)]+)\)$/,preinitialize:function(){c.debug("lola.regex::preinitialize");if(!c)throw Error("lola not defined!");delete c.regex.preinitialize},initialize:function(){c.debug("lola.regex::initialize");if(!c)throw Error("lola not defined!");
delete c.regex.initialize},getNamespace:function(){return"regex"},getDependencies:function(){return[]},getSelectorMethods:function(){return{}}})})(lola);
(function(c){var d={preinitialize:function(){c.debug("lola.string::preinitialize");if(!c)throw Error("lola not defined!");delete c.string.preinitialize},initialize:function(){c.debug("lola.string::initialize");if(!c)throw Error("lola not defined!");delete c.string.initialize},getNamespace:function(){return"string"},getDependencies:function(){return[]},padFront:function(a,c,d){for(a=a.toString();a.length<d;)a=c[0]+a;return a},padEnd:function(a,c,d){for(a=a.toString();a.length<d;)a+=c[0];return a},
camelCase:function(a){for(var a=a.split("-"),c=a.length,d=1;d<c;d++)a[d].length>0&&(a[d]=a[d].charAt(0).toUpperCase()+a[d].slice(1));return a.join("")},getSelectorMethods:function(){return{}},upgradeStringPrototype:function(){if(!String.prototype.trim)String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}};d.upgradeStringPrototype();delete d.upgradeStringPrototype;c.registerModule(d)})(lola);
(function(c){c.registerModule({domEval:false,deleteExpando:true,domEvent:false,msEvent:false,browserAnimationFrame:false,style:false,cssFloat:false,colorAlpha:false,preinitialize:function(){c.debug("lola.support::preinitialize");var d=document.documentElement,a=document.createElement("script"),f="scriptCheck"+(new Date).getTime();a.type="text/javascript";try{a.appendChild(document.createTextNode("window."+f+"=true;"))}catch(e){}d.insertBefore(a,d.firstChild);d.removeChild(a);if(window[f])this.domEval=
true,delete window[f];d=document.createElement("div");d.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true'>test</div>";d=d.firstChild;this.style=typeof d.getAttribute("style")==="string";this.cssFloat=/^left$/.test(d.style.cssFloat);this.colorAlpha=/^rgba.*/.test(d.style.backgroundColor);try{delete d.test}catch(g){this.deleteExpando=false}if(document.addEventListener)this.domEvent=true;else if(document.attachEvent)this.msEvent=true;delete c.support.preinitialize},
initialize:function(){c.debug("lola.support::initialize");if(!c)throw Error("lola not defined!");delete c.support.initialize},getNamespace:function(){return"support"},getDependencies:function(){return[]},getSelectorMethods:function(){return{}}})})(lola);
(function(c){c.registerModule({map:{},primitives:["boolean","number","string","undefined","null"],preinitialize:function(){c.debug("lola.type::preinitialize");if(!c)throw Error("lola not defined!");c.type.createMap();delete c.type.createMap;delete c.type.mapTag;delete c.type.mapSpecialTag;delete c.type.mapObject;delete c.type.preinitialize},initialize:function(){c.debug("lola.type::initialize");if(!c)throw Error("lola not defined!");delete c.type.initialize},getNamespace:function(){return"type"},
getDependencies:function(){return[]},createMap:function(){"String Number Date Array Boolean RegExp Function Object".split(" ").forEach(this.mapObject);"a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command datalist dd del details dfn dir div dl dt em embed fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins keygen kbd label legend li link map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup svg table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr xmp".split(" ").forEach(this.mapTag);
"object".split(" ").forEach(this.mapSpecialTag);var d=document.createTextNode("test"),a=document.createComment("test"),d=c.toString.call(d),a=c.toString.call(a);c.type.map[d]="textnode";c.type.map[a]="commentnode";delete c.type.mapTag;delete c.type.mapObject;delete c.type.mapSpecialTag},mapTag:function(d){var d=document.createElement(d),d=c.toString.call(d),a=d.replace(/\[object HTML/g,"").replace(/Element\]/g,""),a=a==""?"Element":a;c.type.map[d]=a.toLowerCase();d="lola.Selector.prototype['is"+a+
"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(d)},mapSpecialTag:function(d){var d=document.createElement(d),d=c.toString.call(d),a=d.replace(/\[object /g,"").replace(/Element\]/g,""),a=a==""?"Element":a;c.type.map[d]=a.toLowerCase();d="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(d)},mapObject:function(d){c.type.map["[object "+d+"]"]=d.toLowerCase();d="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+
d.toLowerCase()+"',index); };";c.evaluate(d)},get:function(d){return d?(d=c.type.map[c.toString.call(d)])?d:"other ":"null"},isPrimitive:function(c){return this.primitives.indexOf(this.get(c))>=0},getSelectorMethods:function(){return{getType:function(){var d=[];this.forEach(function(a){d.push(c.type.get(a))});return c.__(d)},isType:function(d,a){return a!=void 0&&a>=0?c.type.get(this.get(a))==d:this.elements.every(function(a){return c.type.get(a)==d})},isPrimitive:function(d){return d!=void 0&&d>=
0?c.type.primitives.indexOf(this.getType(d)):this.elements.every(function(a){return c.type.primitives.indexOf(c.type.get(a))>=0})}}}})})(lola);
(function(c){c.registerModule({preinitialize:function(){c.debug("lola.util::preinitialize");if(!c)throw Error("lola not defined!");delete c.util.preinitialize},initialize:function(){c.debug("lola.util::initialize");if(!c)throw Error("lola not defined!");delete c.util.initialize},getNamespace:function(){return"util"},getDependencies:function(){return[]},copyPrimitives:function(d,a){for(var f in d)c.type.isPrimitive(d[f])&&(a[f]=d[f])},checkArgs:function(d,a,f){for(var e=true,g=[],h=a.length-1;h>=0;h--)if(a[h][1]===
void 0||a[h][1]===null)e=false,g.push(a[h][0]+" is not set!");e||(console.groupCollapsed?console.groupCollapsed(d):console.group(d),c.type.get(f)=="array"&&f.forEach(function(a){console.info(a)}),g.forEach(function(a){console.warn(a)}),console.groupEnd());return e},getSelectorMethods:function(){return{compareValues:function(c,a,f){var e=f;typeof c==="string"?this.foreach(function(f){e=a.call(this,e,Number(f[c]))}):typeof c==="function"&&this.foreach(function(f){e=a.call(this,e,c.call(this,f))});return e}}}})})(lola);
(function(c){c.registerModule({index:0,map:{},initializers:[],dependencies:{},preinitialize:function(){c.debug("lola.agent::preinitialize");if(!c)throw Error("lola not defined!");c.safeDeleteHooks.push({scope:this,fn:this.drop});delete c.agent.preinitialize},initialize:function(){c.debug("lola.agent::initialize");if(!c)throw Error("lola not defined!");c.checkDependencies(this.dependencies);var d=c.agent.initializers.length;for(i=0;i<d;i++)c.hasFn(c.agent.initializers,i)&&(c.agent.initializers[i](),
delete c.agent.initializers[i]);delete c.agent.initialize},getNamespace:function(){return"agent"},getDependencies:function(){return["event","data"]},registerAgent:function(d){var a=d.getNamespace();console.info("register agent: "+a);if(a&&d.sign&&d.drop){var f=c.getPackage(c.agent,a);c.extend(f,d,true);c.hasFn(d,"getDependencies")&&(this.dependencies["agent."+a]=d.getDependencies());this.map[a]=f;c.hasFn(d,"initialize")&&c.agent.initializers.push(function(){d.initialize()});c.hasFn(d,"preinitialize")&&
d.preinitialize()}else console.error("invalid agent implementation: "+name)},assign:function(d,a){var f=c.agent.map[a];if(f)f.sign(d);else throw Error("unknown agent: "+a);},drop:function(d,a){var f={};a==true?f=c.agent.map:typeof a=="string"&&a.split(",").forEach(function(a){f[a]=c.agent.map[a]});for(var e in f){var g=f[e];g&&g.drop(d)}},getSelectorMethods:function(){return{assignAgent:function(d){this.forEach(function(a){c.agent.assign(a,d)});return this},dropAgent:function(d){this.forEach(function(a){c.agent.drop(a,
d)})}}}})})(lola);
(function(c){var d={getNamespace:function(){return"chart"},getDependencies:function(){return["graphics"]},Grid:function(a,c,d,g,h,j){return this.init(a,c,d,g,h,j)},Axis:function(a,c,d,g,h,j){return this.init(a,c,d,g,h,j)},getSelectorMethods:function(){return{}}};d.Grid.HORIZONTAL=1;d.Grid.VERTICAL=2;d.Grid.prototype={x:0,y:0,width:100,height:100,spacing:10,flags:3,init:function(a,c,d,g,h,j){this.x=a||0;this.y=c||0;this.width=d||100;this.height=g||100;this.spacing=h||10;this.flags=j==void 0?3:j;return this},
draw:function(a,d){var d=d==void 0?this.flags:d,e;if(d&c.chart.Grid.VERTICAL)for(e=this.x+this.spacing;e<=this.width+this.x;e+=this.spacing)a.beginPath(),a.moveTo(e,this.y),a.lineTo(e,this.y+this.height),a.stroke(),a.closePath();if(d&c.chart.Grid.HORIZONTAL)for(e=this.y+this.spacing;e<=this.height+this.y;e+=this.spacing)a.beginPath(),a.moveTo(this.x,e),a.lineTo(this.x+this.width,e),a.stroke(),a.closePath()}};d.Axis.VERTICAL=1;d.Axis.prototype={x:0,y:0,size:100,label:void 0,labelOffset:{x:0,y:0},flags:2,
init:function(a,c,d,g,h,j){this.x=a||0;this.y=c||0;this.size=d||100;this.label=g;if(h)this.labelOffset=h;this.flags=j==void 0?0:j;return this},draw:function(a,d){d=d==void 0?this.flags:d;a.beginPath();a.moveTo(this.x,this.y);d&c.chart.Axis.VERTICAL?a.lineTo(this.x,this.y+this.size):a.lineTo(this.x+this.size,this.y);a.stroke();a.closePath();if(this.label)d&c.chart.Axis.VERTICAL?(a.textAlign="center",a.fillText(this.label,this.x+this.labelOffset.x,this.y+this.size+this.labelOffset.y)):(a.textAlign=
"right",a.fillText(this.label,this.x+this.labelOffset.x,this.y+this.labelOffset.y))}};c.registerModule(d)})(lola);
(function(c){var d={registry:{},callLater:{},getNamespace:function(){return"cmd"},getDependencies:function(){return["event"]},register:function(a,d){if(typeof a!="string"&&d==void 0)d=a.name;c.debug("register command: "+d);this.registry[d]!=null&&typeof this.registry[d]!="string"&&console.warn('command "'+d+'" has already been registered... overwriting');this.registry[d]=a;c.event.addListener(this,d,this.executeCommand)},execute:function(a,d,e){if(this.registry[a])if(e||(e=new g.Responder),typeof this.registry[a]==
"string")this.callLater[a]||(c.loadScript(this.registry[a],function(){if(c.hasFn(this.registry,a)){for(var d=c.cmd.callLater[a].length,f=0;f<d;f++){var e=c.cmd.callLater[a][f];c.cmd.execute(e.name,e.params,e.responder)}delete c.cmd.callLater[a]}else throw Error('The command loaded from "'+c.cmd.registry[a]+'" is not named "'+a+'"');}),this.callLater[a]=[]),this.callLater[a].push({name:a,params:d,responder:e});else{if(g=this.registry[a]){var g=new g;e&&(c.event.addListener(g,"result",e.handleResult),
c.event.addListener(g,"fault",e.handleFault),c.event.addListener(g,"status",e.handleStatus));g.execute(d)}}else throw Error("Unknown command type: "+a);return e},executeCommand:function(a){c.cmd.execute(a.type,a.data.parameters,a.data.responder)},Responder:function(){return this.init()},Data:function(a,c){return this.init(a,c)},getSelectorMethods:function(){return{}}};d.Responder.prototype={resultHandler:void 0,faultHandler:void 0,statusHandler:void 0,lastResponse:void 0,init:function(a,c,d){this.resultHandler=
a;this.faultHandler=c;this.statusHandler=d},handleStatus:function(a){if(!this.lastResponse||this.lastResponse.type=="status")this.lastResponse=a;typeof this.statusHandler=="function"&&this.statusHandler.apply(c.window,[a])},handleResult:function(a){this.lastResponse=a;typeof this.resultHandler=="function"&&this.resultHandler.apply(c.window,[a])},handleFault:function(a){this.lastResponse=a;typeof this.faultHandler=="function"&&this.faultHandler.apply(c.window,[a])},getLastResponse:function(){return this.lastResponse}};
d.Data.prototype={parameters:void 0,responder:void 0,init:function(a,c){this.parameters=a;this.responder=c}};c.registerModule(d)})(lola);
(function(c){var d={methods:{},defaultResolution:1E3,defaultEase:"ease",initialize:function(){c.debug("lola.easing::initialize");if(!c)throw Error("lola not defined!");this.registerSimpleEasing("none",0,0,1,1);this.registerSimpleEasing("ease",0.25,0.1,0.25,1);this.registerSimpleEasing("linear",0,0,1,1);this.registerSimpleEasing("ease-in",0.42,0,1,1);this.registerSimpleEasing("ease-out",0,0,0.58,1);this.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);delete c.easing.initialize},getNamespace:function(){return"easing"},
getDependencies:function(){return["math.point","geometry"]},cubicBezier:function(a,d,e,g,h){var j=1-a;return c.math.point.add(c.math.point.multiply(d,j*j*j),c.math.point.multiply(e,3*j*j*a),c.math.point.multiply(g,3*j*a*a),c.math.point.multiply(h,a*a*a))},sampleSpline:function(a,c){var d=a.getPoints(),g=d.length-1,h=[];if(g>0){c*=g;for(var j=[],k=1;k<=g;k++)j.push(d[k].getAnchor().x);for(var k=g=0,l=j[0],m=0;m<=c;m++){var n=m/c;n<=l?(n=(n-g)/(l-g),n=this.cubicBezier(n,d[k].getAnchor(),d[k].getControl2(),
d[k+1].getControl1(),d[k+1].getAnchor()),h.push(n)):(k++,g=l,l=j[k],m--)}}return h},register:function(a,f,e,g){var g=g===true,e=f.getPoint(0).getAnchor(),h=f.getPoint(f.getPoints().length-1).getAnchor();if(e.x==0&&e.y==0&&h.x==1&&h.y==1)if(e=function(){return this},f=d.sampleSpline(f,1E3),e.prototype={samples:f,sampleCount:f.length,lastIndex:1,exec:function(a,c,d,f){a/=f;for(var e=this.samples,f=this.lastIndex,g=this.sampleCount;a>e[f].x&&f<g;)if(f++,a<=e[f].x)return g=e[f-1],e=e[f],a=(a-g.x)/(e.x-
g.x),this.lastIndex=f,c+d*(g.y+a*(e.y-g.y))}},!d.methods[a]||g)c.easing.methods[a]=e;else throw Error("easing id already taken");else throw Error("invalid easing spline");},registerSimpleEasing:function(a,f,e,g,h){var j=c.geometry,k=new j.Spline,f=new j.Point(f,e),g=new j.Point(g,h),h=f.toVector(),g=g.toVector();k.addPoint(new j.SplinePoint(0,0,0,0,h.velocity,h.angle));k.addPoint(new j.SplinePoint(1,1,g.velocity,g.angle,1,1));d.register(a,k)},get:function(a){return this.methods[a]?new this.methods[a]:
(console.warn('easing method "'+a+'" not found.'),new this.methods[this.defaultEase])},setDefaultEase:function(a){if(this.methods[a])this.defaultEase=a},getSelectorMethods:function(){return{}}};c.registerModule(d)})(lola);
(function(c){var d={rDropPx:/px/g,getNamespace:function(){return"geometry"},getDependencies:function(){return["math","regex"]},normalizeSpline:function(a,d,e,g,h,j,k){for(var j=j===true,k=k===true,l=c.math.point,m=new c.geometry.Spline,a=a.getPoints(),n=a.length,o=l.subtract(e,d),q=l.subtract(h,g),e=function(a){a=l.divide(l.subtract(a,d),o);if(j)a.x=1-a.x;if(k)a.y=1-a.y;return l.multiply(a,q)},g=0;g<n;g++){var r=a[g].getControl1(),p=a[g].getAnchor(),h=a[g].getControl2(),p=e(p),r=l.subtract(p,e(r)).toVector(),
h=l.subtract(e(h),p).toVector(),h=new c.geometry.SplinePoint(p.x,p.y,r.velocity,r.angle,h.velocity,h.angle);m.addPoint(h)}return m},getOffset:function(a,f){f||(f=false);var e=new d.Point(a.offsetLeft,a.offsetTop);if(f&&a.offsetParent)var g=d.getOffset(a.offsetParent,true),e=c.math.point.add(e,g);return e},absolutePosition:function(a){return d.getOffset(a,true)},relativePosition:function(a){return d.getOffset(a,false)},width:function(a,d){if(d){var e=c.css.style(a,"borderLeft"),g=c.css.style(a,"borderRight"),
h=c.css.style(a,"paddingLeft"),j=c.css.style(a,"paddingRight");d-=e+g+h+j;return c.css.style(a,"width",d)}else return a.offsetWidth?a.offsetWidth:a.clientWidth},height:function(a,d){if(d){var e=c.css.style(a,"borderTop"),g=c.css.style(a,"borderBottom"),h=c.css.style(a,"paddingTop"),j=c.css.style(a,"paddingBottom");d-=e+g+h+j;return c.css.style(a,"height",d)}else return a.offsetHeight?a.offsetHeight:a.clientHeight},pointDistance:function(a,d){var e=c.math.point.subtract(d,a);return Math.sqrt(Math.pow(e.x,
2)+Math.pow(e.y,2))},Point:function(a,c){this.x=a;this.y=c;return this},Spline:function(a,c){this.points=a?a:[];this.flags=c==void 0?0:c;return this},SplinePoint:function(a,c,d,g,h,j){return this.init(a,c,d,g,h,j)},Vector:function(a,c){this.velocity=a;this.angle=c;return this},getSelectorMethods:function(){return{}}};d.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),d=Math.sqrt(this.x*this.x+this.y*this.y);return new c.geometry.Vector(d,a)},toString:function(){return"{x:"+
this.x+",y:"+this.y+"}"}};d.Spline.CLOSED=1;d.Spline.FILL=2;d.Spline.STROKE=4;d.Spline.CONTROLS=8;d.Spline.prototype={points:[],flags:0,addPoint:function(a,c){if(c==void 0)c=this.points.length;this.points.splice(c,0,a)},removePoint:function(a){a!=void 0&&this.points.splice(a,1,void 0)},updatePoint:function(a,c){c!=void 0&&this.points.splice(c,1,a)},getPoint:function(a){return this.points[a]},getPoints:function(){return this.points},draw:function(a,c){c=c==void 0?this.flags:c;if(this.points.length>
1){var e=[];this.points.forEach(function(a){e.push(a.getControl1());e.push(a.getAnchor());e.push(a.getControl2())});var g=e.length;if(c&d.Spline.CONTROLS){a.beginPath();a.moveTo(e[1].x,e[1].y);a.lineTo(e[2].x,e[2].y);a.stroke();a.closePath();for(var h=3;h<g-3;h+=3){var j=h+1,k=h+2;a.beginPath();a.moveTo(e[h].x,e[h].y);a.lineTo(e[j].x,e[j].y);a.stroke();a.closePath();a.beginPath();a.moveTo(e[j].x,e[j].y);a.lineTo(e[k].x,e[k].y);a.stroke();a.closePath()}a.beginPath();a.moveTo(e[h].x,e[h].y);a.lineTo(e[h+
1].x,e[h+1].y);a.stroke();a.closePath()}a.beginPath();a.moveTo(e[1].x,e[1].y);for(h=2;h<g-3;h+=3)a.bezierCurveTo(e[h].x,e[h].y,e[h+1].x,e[h+1].y,e[h+2].x,e[h+2].y);c&d.Spline.CLOSED&&a.bezierCurveTo(e[g-1].x,e[g-1].y,e[0].x,e[0].y,e[1].x,e[1].y);c&d.Spline.FILL&&a.fill();c&d.Spline.STROKE&&a.stroke();a.closePath()}else throw Error("not enough spline points");}};d.SplinePoint.prototype={anchor:void 0,entry:void 0,exit:void 0,init:function(a,d,e,g,h,j){this.anchor=new c.geometry.Point(a,d);this.entry=
new c.geometry.Vector(e,g);this.exit=new c.geometry.Vector(h,j==void 0?g:j)},setAngle:function(a,c){this.entry.angle=a;this.exit.angle=c==void 0?a:c},getAnchor:function(){return this.anchor},getControl1:function(){return c.math.point.subtract(this.anchor,this.entry.toPoint())},getControl2:function(){return c.math.point.add(this.anchor,this.exit.toPoint())}};d.Vector.prototype={velocity:void 0,angle:void 0,toPoint:function(){return new c.geometry.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*
this.velocity)}};c.registerModule(d)})(lola);
(function(c){c.registerModule({ctx:null,map2d:{},reset2d:{},styles2d:{},routines:{},preinitialize:function(){c.debug("lola.graphics::preinitialize");if(!c)throw Error("lola not defined!");c.safeDeleteHooks.push({scope:c.graphics,fn:c.graphics.remove2dContext});var d=document.createElement("canvas").getContext("2d"),a;for(a in d)switch(c.type.get(d[a])){case "string":case "boolean":case "number":this.reset2d[a]=d[a];break;case "function":this[a]||c.evaluate("lola.graphics."+a+" = function(){this.ctx."+
a+".apply( this.ctx, arguments );}")}delete c.graphics.preinitialize;c.g=c.graphics},getNamespace:function(){return"graphics"},getDependencies:function(){return["math.point","math.vector"]},register2dContext:function(d,a){var f=d.getContext("2d"),a=a==void 0?c(d).identify().attr("id"):a,e=c(d).getData(this.getNamespace(),true);if(e.contexts2d==null)e.contexts2d=[];e.contexts2d.push(a);this.map2d[a]=f},remove2dContext:function(d){if((d=c(d).getData(this.getNamespace(),false))&&d.contexts2d)for(var a;a=
d.contexts2d.pop();)delete this.map2d[a]},get2dContext:function(c){return this.map2d[c]},resolveContext:function(d){typeof d==="string"&&(d=this.get2dContext(d));return d||c.graphics.ctx},setContext:function(c){this.ctx=this.resolveContext(c)},reset2dContext:function(d){typeof d=="string"&&(d=this.resolveContext(d));d&&c.util.copyPrimitives(this.reset2d,d)},registerStyle:function(d,a){var f={};c.util.copyPrimitives(a,f);this.styles2d[d]=f},removeStyle:function(c){delete this.styles2d[c]},registerRoutine:function(c,
a){this.routines[c]=a},removeRoutine:function(c){delete this.routines[c]},executeRoutine:function(d){if(c.hasFn(this.routines,d))this.routines[d](this.ctx)},applyStyle:function(d,a){var a=this.resolveContext(a),f=typeof d=="string"?this.styles2d[d]||this.reset2d:d;c.util.copyPrimitives(this.reset2d,a);c.util.copyPrimitives(f,a)},draw:function(d,a){c.hasFn(d,"draw")&&d.draw(c.graphics.ctx,a)},clear:function(c){c=this.resolveContext(c);c.clearRect(0,0,c.canvas.width,c.canvas.height)},getSelectorMethods:function(){return{register2dContext:function(){this.forEach(function(d){c.graphics.register2dContext(d)});
return this}}}})})(lola);
(function(c){var d={xslCache:{},getNamespace:function(){return"http"},getDependencies:function(){return["string"]},transform:function(a,c,d){var g,h;if(window.ActiveXObject){g=new ActiveXObject("MSXML2.XSLTemplate");g.stylesheet=c.documentElement;c=g.createProcessor();c.input=a;for(h in d)c.addParameter(h,d[h]);c.transform();a=document.createElement("div");a.innerHTML=c.output;g=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var j=new XSLTProcessor;j.importStylesheet(c);
for(h in d)j.setParameter(null,h,d[h]);if(a=j.transformToFragment(a,document))g=a.childNodes}return g},cacheXsl:function(a,d){c.http.xslCache[a]=d},encode:function(a){typeof a=="string"&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a},unencode:function(a){typeof a=="string"&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a},Request:function(a,c,d,g,h,j){return this.init(a,c,d,g,h,j)},AsyncRequest:function(a,c,d,g,h){return this.init(a,
c,d,true,g,h)},SyncRequest:function(a,c,d,g,h){return this.init(a,c,d,false,g,h)},Transform:function(a,c,d,g,h,j){return this.init(a,c,d,g,h,j)},getSelectorMethods:function(){return{applyTransform:function(a,d,e){this.html(d);this.forEach(function(d){c.event.addListener(a,"result",function(a){c(d).html(a.data)});c.event.addListener(a,"fault",function(){c(d).html(e)})});a.load()},applyRequest:function(a,d,e,g){this.html(e);this.forEach(function(d){c.event.addListener(a,"result",function(a){c(d).html(a.currentTarget.responseText())});
c.event.addListener(a,"fault",function(){c(d).html(g)})});a.load()},loadContent:function(a,d,e){this.applyRequest(new c.http.AsyncRequest(a,"get",[]),{},d,e)}}}};d.Request.prototype={url:"",method:"POST",headers:[],async:true,user:null,password:null,request:false,ready:false,init:function(a,c,d,g,h,j){this.method=c||"POST";this.headers=d||[];this.async=g===true;this.url=a;this.user=h;this.password=j;return this},getRequestObject:function(){var a=false;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=
new XMLHttpRequest}catch(c){a=false}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){a=false}}return a},makeRequest:function(a,d,e,g,h,j,k,l,m){var n=this.getRequestObject();n.open(e,a,h,l,m);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(a=0;a<g.length;a++)try{n.setRequestHeader(g[a].name,g[a].value)}catch(o){}if(d!=null&&c.type.get(d)!="string"){var g=[],q;for(q in d)g.push(q+"="+c.string.encode(d[q]));
d=g.join("&")}n.onreadystatechange=function(){j.call(k)};n.send(d);return n},load:function(a){this.request=this.makeRequest(this.url,a,this.method,this.headers,this.async,this.readyStateChange,this,this.user,this.password)},readyStateChange:function(){if(this.request)switch(this.request.readyState){case 1:c.event.trigger(this,"loading",true,true,this.request);break;case 2:c.event.trigger(this,"loaded",true,true,this.request);break;case 3:c.event.trigger(this,"interactive",true,true,this.request);
break;case 4:c.event.trigger(this,"stateComplete",true,true,this.request),this.request.status==200&&!this.ready?(this.ready=true,c.event.trigger(this,"result",true,true,this.request)):this.request.status>=400&&(console.info("AsyncRequest.readyStateChange.fault:",this.url),c.event.trigger(this,"fault",false,false,this.request))}},responseText:function(){return this.ready||!this.async?this.request.responseText:false},responseXML:function(){return this.ready||!this.async?this.request.responseXML:false}};
d.AsyncRequest.prototype=d.Request.prototype;d.SyncRequest.prototype=d.Request.prototype;d.Transform.prototype={xml:null,xsl:null,xslParams:null,xmlParams:null,xslCacheId:"",resultNodes:[],init:function(a,d,e,g,h,j){this.xmlParams=d;this.xslParams=g;this.transformParams=h;this.xslCacheId=j||"";if(c.type.get(e)=="string"){if(a=e,e=c.http.getCachedXsl(a),!e)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=e;if(this.xsl&&this.xml)c.event.addListener(this.xsl,"result",this.checkStates,true,
0,this),c.event.addListener(this.xsl,"fault",this.handleXSLFault,true,0,this),c.event.addListener(this.xml,"result",this.checkStates,true,0,this),c.event.addListener(this.xml,"fault",this.handleXMLFault,true,0,this),this.checkStates();else throw Error("transform error!");},checkStates:function(){if(this.xml.ready&&this.xsl.ready)this.xslCacheId&&this.xslCacheId!=""&&c.http.cacheXsl(this.xslCacheId,this.xsl),this.resultNodes=c.http.transform(this.xml.responseXML(),this.xsl.responseXML(),this.transformParams),
c.event.trigger(this,"result",true,true,this.resultNodes)},handleXSLFault:function(){c.event.trigger(this,"fault",true,true,"xsl fault")},handleXMLFault:function(){c.event.trigger(this,"fault",true,true,"xml fault")},load:function(){this.xml.request||this.xml.send(this.xmlParams);this.xsl.request||this.xsl.send(this.xslParams)},cancel:function(){c.event.removeListener(this.xsl,"result",this.checkStates,true);c.event.removeListener(this.xsl,"fault",this.handleXSLFault,true);c.event.removeListener(this.xml,
"result",this.checkStates,true);c.event.removeListener(this.xml,"fault",this.handleXMLFault,true);try{this.xsl.abort()}catch(a){}try{this.xml.abort()}catch(d){}},getResultNodes:function(){return this.resultNodes}};c.registerModule(d)})(lola);
(function(c){var d={cx:/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable:/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap:null,indent:null,meta:{"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep:null,handleResponse:{},ruid:0,getNamespace:function(){return"json"},getDependencies:function(){return["http"]},escapeQuotes:function(a){return this.escapable.test(a)?
'"'+a.replace(this.escapable,function(a){var d=c.json.meta[a];return typeof d==="string"?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},str:function(a,c){var d,g,h,j,k=this.gap,l,m=c[a];m&&typeof m==="object"&&typeof m.toJSON==="function"&&(m=m.toJSON(a));typeof this.rep==="function"&&(m=this.rep.call(c,a,m));switch(typeof m){case "string":return this.escapeQuotes(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";
this.gap+=this.indent;l=[];if(Object.prototype.toString.apply(m)==="[object Array]"){j=m.length;for(d=0;d<j;d+=1)l[d]=this.str(d,m)||"null";h=l.length===0?"[]":this.gap?"[\n"+this.gap+l.join(",\n"+this.gap)+"\n"+k+"]":"["+l.join(",")+"]";this.gap=k;return h}if(this.rep&&typeof this.rep==="object"){j=this.rep.length;for(d=0;d<j;d+=1)g=this.rep[d],typeof g==="string"&&(h=this.str(g,m))&&l.push(this.escapeQuotes(g)+(this.gap?": ":":")+h)}else for(g in m)Object.hasOwnProperty.call(m,g)&&(h=this.str(g,
m))&&l.push(this.escapeQuotes(g)+(this.gap?": ":":")+h);h=l.length===0?"{}":this.gap?"{\n"+this.gap+l.join(",\n"+this.gap)+"\n"+k+"}":"{"+l.join(",")+"}";this.gap=k;return h}},encode:function(a){return c.json.stringify(a)},decode:function(a){return c.json.parse(a)},stringify:function(a,c,d){var g;this.indent=this.gap="";if(typeof d==="number")for(g=0;g<d;g+=1)this.indent+=" ";else if(typeof d==="string")this.indent=d;if((this.rep=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!==
"number"))throw Error("JSON.stringify");return this.str("",{"":a})},parse:function(a,c){function d(a,g){var k,l,m=a[g];if(m&&typeof m==="object")for(k in m)Object.hasOwnProperty.call(m,k)&&(l=d(m,k),l!==void 0?m[k]=l:delete m[k]);return c.call(a,g,m)}var g,a=String(a);this.cx.test(a)&&(a=a.replace(this.cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),typeof c==="function"?d({"":g},""):g;throw new SyntaxError("JSON.parse");},get:function(a,d,e){console.log("json.get: "+a);var g=new c.URL(a);if(g.protocol=="____")console.log("    same domain"),a=new c.http.AsyncRequest(a),d&&c(a).addListener("result",function(a){console.log("    result");a=c.json.parse(a.data.responseText);d(a)}),a.load();else{console.log("    cross domain");var h=this.ruid++;c.json.handleResponse[h]=function(a){d(a);
delete c.json.handleResponse[h]};g.vars[e?e:"jsonp"]="lola.json.handleResponse["+h+"]";c.loadScript(g.toString())}},getSelectorMethods:function(){return{}},upgradePrototypes:function(){if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+c.string.padFront(this.getUTCDate(),"0",2)+"T"+c.string.padFront(this.getUTCHours(),"0",2)+":"+c.string.padFront(this.getUTCMinutes(),
"0",2)+":"+c.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}};d.upgradePrototypes();delete d.upgradePrototypes;c.registerModule(d)})(lola);
(function(c){var d={preinitialize:function(){c.debug("lola.color::preinitialize");if(!c)throw Error("lola not defined!");delete c.math.color.preinitialize},initialize:function(){c.debug("lola.color::initialize");if(!c)throw Error("lola not defined!");delete c.math.color.initialize},getNamespace:function(){return"math.color"},getDependencies:function(){return["math"]},rgb2hsl:function(a,c,d){var g=0,h=0,j=0,a=a<0?0:a,a=a>1?1:a,c=c<0?0:c,c=c>1?1:c,d=d<0?0:d,d=d>1?1:d,j=a>c?d>a?d:a:d>c?d:c,k=a<c?d<a?
d:a:d<c?d:c;j!=0&&(h=(j-k)/j);if(h>0){var g=(j-a)/(j-k),l=(j-c)/(j-k),d=(j-d)/(j-k),g=a==j?d-l:c==j?2+g-d:4+l-g;for(g/=6;g<0;)g++}return{h:g,s:h,l:j}},rgb2hex:function(a,c,d){var g="",a=a<0?0:a,c=c<0?0:c,c=c>1?1:c,d=d<0?0:d,d=d>1?1:d,a=Math.round((a>1?1:a)*255),c=Math.round(c*255),d=Math.round(d*255),h=[];h.push((a-a%16)/16);h.push(a%16);h.push((c-c%16)/16);h.push(c%16);h.push((d-d%16)/16);h.push(d%16);h.forEach(function(a){g+="0123456789ABCDEF".charAt(a)});return g},rgb2int:function(a,d,e){return parseInt("0x"+
c.math.color.rgb2hex(a,d,e))},hsl2rgb:function(a,c,d){var a=a<0?0:a,a=a>1?1:a,c=c<0?0:c,c=c>1?1:c,d=d<0?0:d,d=d>1?1:d,g=0,h=0,j=0;if(c==0)j=h=g=b;else{var a=(a-Math.floor(a))*6,k=a-Math.floor(a),l=d*(1-c),m=d*(1-c*k),c=d*(1-c*(1-k));switch(Math.floor(a)){case 0:g=d;h=c;j=l;break;case 1:g=m;h=d;j=l;break;case 2:g=l;h=d;j=c;break;case 3:g=l;h=m;j=d;break;case 4:g=c;h=l;j=d;break;case 5:g=d,h=l,j=m}}return{r:g,g:h,b:j}},hsl2int:function(a,c,e){a=d.hsl2rgb(a,c,e);return d.rgb2int(a.r,a.g,a.b)},hsl2hex:function(a,
c,e){a=d.hsl2rgb(a,c,e);return d.rgb2hex(a.r,a.g,a.b)},int2rgb:function(a){a=a>16777215?16777215:a;a=a<0?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}},int2hsl:function(a){a=d.int2rgb(a);return d.rgb2hsl(a.r,a.g,a.b)},int2hex:function(a){a=d.int2rgb(a);return d.rgb2hex(a.r,a.g,a.b)},hex2int:function(a){return parseInt("0x"+(a.length==3?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))},hex2rgb:function(a){return d.int2rgb(d.hex2int(a))},hex2hsl:function(a){return d.int2hsl(d.hex2int(a))},getSelectorMethods:function(){return{}}};
c.registerModule(d)})(lola);
(function(c){c.registerModule({preinitialize:function(){c.debug("lola.graphics::preinitialize");if(!c)throw Error("lola not defined!");delete c.math.point.preinitialize},initialize:function(){c.debug("lola.graphics::initialize");if(!c)throw Error("lola not defined!");delete c.math.point.initialize},getNamespace:function(){return"math.point"},getDependencies:function(){return["math","graphics"]},add:function(d){for(var a=new c.geometry.Point(d.x,d.y),f=arguments.length,e=1;e<f;e++){var g=arguments[e];
typeof g=="number"?(a.x+=g,a.y+=g):(a.x+=g.x,a.y+=g.y)}return a},subtract:function(d){for(var a=new c.geometry.Point(d.x,d.y),f=arguments.length,e=1;e<f;e++){var g=arguments[e];typeof g=="number"?(a.x-=g,a.y-=g):(a.x-=g.x,a.y-=g.y)}return a},multiply:function(d){for(var a=new c.geometry.Point(d.x,d.y),f=arguments.length,e=1;e<f;e++){var g=arguments[e];typeof g=="number"?(a.x*=g,a.y*=g):(a.x*=g.x,a.y*=g.y)}return a},divide:function(d){for(var a=new c.geometry.Point(d.x,d.y),f=arguments.length,e=1;e<
f;e++){var g=arguments[e];typeof g=="number"?(a.x/=g,a.y/=g):(a.x/=g.x,a.y/=g.y)}return a},pow:function(d,a){return new c.geometry.Point(Math.pow(d.x,a),Math.pow(d.y,a))},distance:function(c,a){return Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))},offsetPoint:function(d,a,f){d=new c.geometry.Point(d.x,d.y);d.x+=Math.cos(a)*f;d.y+=Math.sin(a)*f;return d},getSelectorMethods:function(){return{}}})})(lola);
(function(c){c.registerModule({preinitialize:function(){c.debug("lola.math.tvm::preinitialize");if(!c)throw Error("lola not defined!");delete c.math.tvm.preinitialize},initialize:function(){c.debug("lola.math.tvm::initialize");if(!c)throw Error("lola not defined!");delete c.math.tvm.initialize},getNamespace:function(){return"math.tvm"},getDependencies:function(){return[]},pv:function(c,a,f){return c/Math.pow(1+a,f)},fv:function(c,a,f){return c*Math.pow(1+a,f)},pva:function(c,a,f){return c*(1-1/Math.pow(1+
a,f))/a},fva:function(c,a,f){return c*(Math.pow(1+a,f)-1)/a},payment:function(c,a,f,e){f=Math.pow(1+a,f);return c*a/(1-1/f)-e*a/(f-1)},getSelectorMethods:function(){return{}}})})(lola);
(function(c){c.registerModule({preinitialize:function(){c.debug("lola.math.vector::preinitialize");if(!c)throw Error("lola not defined!");delete c.math.vector.preinitialize},initialize:function(){c.debug("lola.math.vector::initialize");if(!c)throw Error("lola not defined!");delete c.math.vector.initialize},getNamespace:function(){return"math.vector"},getDependencies:function(){return[]},getSelectorMethods:function(){return{}}})})(lola);
(function(c){var d={hooks:{},initialize:function(){c.debug("lola.template::initialize");if(!c)throw Error("lola not defined!");var a=c.now();c('script[type="text/x-lola-template"]').forEach(function(a){d.add(a.id,a.innerHTML)});var f=c.now();c.debug("templates parsed in "+(f-a)+" ms");delete c.template.initialize},getNamespace:function(){return"template"},getDependencies:function(){return["json"]},add:function(a,c){if(!a||a=="getValue")throw Error("invalid template id");this.hooks[a]=new d.TemplateHook(c)},
addHook:function(a,c){if(!a||a=="getValue")throw Error("invalid hook id");this.hooks[a]=new d.Hook(c)},getHook:function(a){if(!this.hooks[a])throw Error('hook "'+a+'" not found.');return this.hooks[a]},apply:function(a,d){var e="",g=c.template.getHook(a);g&&(e=g.evaluate(d));return e},Tag:function(a){return this.init(a)},Hook:function(a){return this.init(a)},TemplateHook:function(a){return this.init(a)},getSelectorMethods:function(){return{applyTemplate:function(a,d){this.html(c.template.apply(a,
d))}}}};d.Tag.prototype={rGetParts:/^([A-Za-z_$][A-Za-z0-9_$]*)(\[[^\]]+\])?(->[A-Za-z_$][A-Za-z0-9_$]*)?/,property:"",options:{},hookName:"",init:function(a){a&&this.parse(a);return this},parse:function(a){if(a=a.match(this.rGetParts))this.property=a[1],this.parseOptions(a[2]),this.hookName=a[3]?a[3].replace(/-\>/g,""):""},parseOptions:function(a){if(a){var a=a.slice(1,-1).trim(),c=0,d={};a.split(",").forEach(function(a){a=a.split(":");a.length>1?d[a[0].trim()]=a[1].trim():d[String(c)]=a[0].trim();
c++});this.options=d}else this.options={}},toString:function(){Object.keys(this.options);var a=[];this.options.forEach(function(c,d){a.push(d+":"+c)});return this.property+"["+a.join(",")+"]"+(this.hookName==""?"":"->"+this.hookName)},evaluate:function(a){a=a[this.property];if(Object.keys(this.options).length>0)switch(c.type.get(a)){case "boolean":a=this.options[a?"0":"1"];break;default:a=this.options[a]}this.hookName!=""&&(a=c.template.getHook(this.hookName).evaluate(a));return a}};d.Hook.prototype=
{fn:null,init:function(a){if(typeof a==="function")this.fn=a;else throw Error("invalid hook.");return this},evaluate:function(a){return this.fn.apply(c.window,arguments)}};d.TemplateHook.prototype={rTag:/\$\{([^\}]+)\}/,blocks:[],blockCount:0,init:function(a){a&&this.parse(a);return this},parse:function(a){for(var c=[],e=a.search(this.rTag);e>=0;){var g=a.match(this.rTag),h=a.substring(0,e);h&&c.push(h);c.push(new d.Tag(g[1]));a=a.substring(e+g[0].length);e=a.search(this.rTag)}a&&c.push(a);this.blocks=
c;this.blockCount=c.length},evaluate:function(a){var d=[],e=this.blockCount,g=this.blocks;c.type.get(a)!="array"&&(a=[a]);a.forEach(function(a,c){for(var k=0;k<e;){var l=g[k];typeof l==="string"?d.push(String(l)):d.push(l.evaluate(a,c));k++}});return d.join("")}};c.registerModule(d)})(lola);
(function(c){var d={src:"tests.xml",index:-1,executables:[],current:null,initialize:function(){c.debug("lola.test::initialize");if(!c)throw Error("lola not defined!");delete c.test.initialize},getNamespace:function(){return"test"},getDependencies:function(){return[]},setSource:function(a){d.src=a},start:function(){console.log("lola.test.run: "+d.src);var a=new c.http.SyncRequest(d.src);a.load();a=a.responseXML();d.executables=[];if(a.documentElement.tagName=="tests")for(var a=a.documentElement,f=
a.childNodes.length,e=0;e<f;e++){var g=a.childNodes[e];if(g.nodeType==1)switch(g.nodeName.toLowerCase()){case "script":g=new d.Script(g);d.executables.push(g);break;case "test":g=new d.Test(g),d.executables.push(g)}}d.index=-1;d.next()},next:function(){d.index++;if(d.index<d.executables.length){var a=d.executables[d.index];c.test.current=a;a.execute()&&setTimeout(function(){d.next()},10)}else d.complete()},complete:function(){console.log("lola.test.complete")},Script:function(a){return this.init(a)},
Test:function(a){return this.init(a)}};d.Script.prototype={name:"",value:"",init:function(a){if(a.hasAttribute("name"))this.name=a.attributes.getNamedItem("name").nodeValue;for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;this.value=c;return this},execute:function(){console.log("executing",'"'+this.name+'"',"script");c.evaluate(this.value);return true}};d.Test.prototype={name:void 0,result:void 0,assert:"==",compareTo:void 0,test:void 0,async:false,passed:void 0,error:"",init:function(a){this.name=
a.attributes.getNamedItem("name").nodeValue;if(a.hasAttribute("async"))this.async=a.attributes.getNamedItem("async").nodeValue=="true";if(a.hasAttribute("equals"))this.assert="equals";else if(a.hasAttribute("strictlyEquals"))this.assert="strictlyEquals";else if(a.hasAttribute("doesNotEqual"))this.assert="doesNotEqual";else if(a.hasAttribute("greaterThan"))this.assert="greaterThan";else if(a.hasAttribute("lessThan"))this.assert="lessThan";else if(a.hasAttribute("greaterThanOrEquals"))this.assert="greaterThanOrEquals";
else if(a.hasAttribute("lessThanOrEquals"))this.assert="lessThanOrEquals";var c=a.attributes.getNamedItem(this.assert).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":this.compareTo=parseFloat(c);break;case "int":this.compareTo=parseInt(c);break;case "bool":this.compareTo=c==="true";break;default:this.compareTo=String(c)}for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;this.test=c;return this},execute:function(){console.log(this.name);try{return this.async?
(c.evaluate(this.test),false):(this.result=eval(this.test),this.compare(),true)}catch(a){return this.passed=false,this.error="failed due to error: "+a.message,console.error("    ",this.error),console.log("    ",a),true}},setResult:function(a){this.result=a;this.compare();c.test.next()},compare:function(){switch(this.assert){case "equals":this.passed=this.result==this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" == "+this.compareTo;break;case "strictlyEquals":this.passed=
this.result===this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" === "+this.compareTo;break;case "doesNotEqual":this.passed=this.result!=this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" != "+this.compareTo;break;case "greaterThan":this.passed=this.result>this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" > "+this.compareTo;break;case "lessThan":this.passed=this.result<this.compareTo;if(!this.passed)this.error="assertion false: "+
this.result+" < "+this.compareTo;break;case "greaterThanOrEquals":this.passed=this.result>=this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" >= "+this.compareTo;break;case "lessThanOrEquals":this.passed=this.result<=this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" <= "+this.compareTo;break;default:if(this.passed=this.result==this.compareTo,!this.passed)this.error="assertion false: "+this.result+" == "+this.compareTo}if(!this.passed)this.error="failed, "+
this.error,console.error("    ",this.error)}};c.registerModule(d)})(lola);
(function(c){var d={targets:{},tweenUid:0,freeTweenIds:[],tweens:{},hooks:{},active:false,getFrameType:0,preinitialize:function(){c.debug("lola.tween::preinitialize");if(!c)throw Error("lola not defined!");if(window.requestAnimationFrame)c.tween.getFrameType=1;if(window.mozRequestAnimationFrame)c.tween.getFrameType=2;else if(window.webkitRequestAnimationFrame)c.tween.getFrameType=3;else if(window.oRequestAnimationFrame)c.tween.getFrameType=4;delete c.tween.preinitialize},getNamespace:function(){return"tween"},
getDependencies:function(){return["css","event","easing"]},startTicking:function(){if(!c.tween.active)c.tween.active=true,c.tween.requestTick()},requestTick:function(){c.tween.requestFrame(c.tween.tick)},requestFrame:function(a){switch(c.tween.getFrameType){case 1:c.window.requestAnimationFrame(a);break;case 2:c.window.mozRequestAnimationFrame(a);break;case 3:c.window.webkitRequestAnimationFrame(a);break;case 4:c.window.oRequestAnimationFrame(a);break;default:setTimeout(a,20)}},registerTween:function(a){var c=
this.freeTweenIds.length>0?this.freeTweenIds.pop():this.tweenUid++;this.tweens[c]=a;return c},start:function(a){this.tweens[a]&&(this.tweens[a].start(),c.event.trigger(this.tweens[a],"tweenstart",false,false))},stop:function(a){this.tweens[a]&&(this.tweens[a].stop(),c.event.trigger(this.tweens[a],"tweenstop",false,false))},pause:function(a){this.tweens[a]&&(this.tweens[a].pause(),c.event.trigger(this.tweens[a],"tweenpause",false,false))},resume:function(a){this.tweens[a]&&(this.tweens[a].resume(),
c.event.trigger(this.tweens[a],"tweenresume",false,false))},addTarget:function(a,d,e,g){if(this.tweens[a]){g=g===true;c.type.get(d)!="array"&&(d=[d]);for(var h=d.length,j=0;j<h;j++){var k=d[j],l=c(k).identify().attr("id");this.targets[l]||(this.targets[l]={});for(var m in e)if(m=="style")for(var n in e[m]){if(g||this.targets[l]["style:"+n]==null){if(!e[m][n].from&&!k.style[n]){var o=c.css.style(k,n);typeof e[m][n]=="object"?e[m][n].from=o:e[m][n]={from:o,to:String(e[m][n])}}this.targets[l]["style:"+
n]||(this.targets[l]["style:"+n]=[]);g?this.targets[l]["style:"+n].push(this.getTweenObject(a,k.style,n,e[m][n])):this.targets[l]["style:"+n]=[this.getTweenObject(a,k.style,n,e[m][n])]}}else this.targets[l][m]||(this.targets[l][m]=[]),g?this.targets[l][m].push(this.getTweenObject(a,k,m,e[m])):this.targets[l][m]=[this.getTweenObject(a,k,m,e[m])]}}else throw Error("tween not found");},getTweenObject:function(a,f,e,g){var h,j,k;h=g.from?g.from:typeof g=="function"?g.call(f):f[e];var l=0;if(h!=null&&
h!=void 0)if(c.type.isPrimitive(g))j=g;else if(g.to)l=0,j=g.to;else if(g.add)l=1,j=g.add;else{if(g.by)l=1,j=g.by}else throw Error("invalid tween parameters");var m,n;if(c.tween.hooks[e])m=c.tween.hooks[e];else for(var o in c.tween.types)if(m=c.tween.types[o],m.match.test(String(j))&&m.match.test(String(h)))break;else m=null;if(m)j=m.parse(j),h=m.parse(h),k=m.getDelta(j,h,l),n=m.proxy,m.canTween(h,j)||(m=null);if(!m)n=c.tween.setAfterProxy,k=j;return new d.TweenObject(a,f,e,h,k,n)},tick:function(){var a=
false,d=c.now(),e=c.tween.tweens,g;for(g in e)e[g].active&&(a=true,e[g].complete?(c.event.trigger(e[g],"tweencomplete",false,false),delete e[g],c.tween.freeTweenIds.push(parseInt(g))):e[g].calculate(d));var d=c.tween.targets,h;for(h in d){g=0;for(var j in d[h]){for(var k=[],l;l=d[h][j].shift();)l&&e[l.tweenId]&&e[l.tweenId].active&&(l.apply(e[l.tweenId].value),k.push(l));d[h][j]=k;d[h][j].length==0?delete d[h][j]:g++}g==0&&delete d[h]}a?c.tween.requestTick():c.tween.active=false},setAfterProxy:function(a,
c,d,g,h){h>=1&&(a[c]=g)},types:{simple:{match:c.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,c){return a&&c},getDelta:function(a,c,d){return d?a:a-c},proxy:null},dimensional:{match:c.regex.isDimension,parse:function(a){a=String(a).match(c.regex.isDimension);return{value:parseFloat(a[1]),units:a[2]}},canTween:function(a,c){return a&&c&&(a.units==c.units||a.units==""&&c.units!="")},getDelta:function(a,c,d){return d?{value:a.value,units:a.units}:{value:a.value-c.value,units:a.units}},
proxy:function(a,c,d,g,h){a[c]=d.value+g.value*h+g.units}},color:{match:c.regex.isColor,parse:function(a){return(new c.css.Color(a)).rgbValue},canTween:function(a,c){return a&&c},getDelta:function(a,c,d){return d?{r:a.r,g:a.g,b:a.b,a:a.a}:{r:a.r-c.r,g:a.g-c.g,b:a.b-c.b,a:a.a-c.a}},proxy:function(a,d,e,g,h){var j=(e.r+g.r*h)*255|0,k=(e.g+g.g*h)*255|0,l=(e.b+g.b*h)*255|0,e=e.a+g.a*h;a[d]=c.support.colorAlpha?"rgba("+[j,k,l,e].join(",")+")":"rgb("+[j,k,l].join(",")+")"}}},Tween:function(a,c,d){this.init(a,
c,d);return this},TweenObject:function(a,c,d,g,h,j){this.init(a,c,d,g,h,j);return this},getSelectorMethods:function(){return{tweenStyle:function(a,f,e,g,h){var j=[];this.forEach(function(a){j.push(a.style)});f=c.tween.registerTween(new d.Tween(f,g,e));c.tween.addTarget(f,j,a,h);c.tween.start(f)},tween:function(a,f,e,g,h){var j=[];this.forEach(function(a){j.push(a)});f=c.tween.registerTween(new d.Tween(f,g,e));c.tween.addTarget(f,j,a,h);c.tween.start(f)}}}};d.Tween.prototype={startTime:-1,pauseTime:-1,
lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:false,complete:false,init:function(a,c,d){this.duration=a;this.easing=c;this.delay=d;if(!c)this.easing={exec:function(a,c,d,e){return a/e*d+c}}},calculate:function(a){a=a-this.startTime-this.delay;if(a>=this.duration)a=this.duration,this.active=this.complete=true;this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active=true;this.startTime=c.now();c.tween.startTicking()},stop:function(){this.active=false;this.complete=
true},pause:function(){this.active=false;this.pauseTime=c.now()},resume:function(){this.active=false;this.startTime+=c.now()-this.pauseTime;c.tween.startTicking()}};d.TweenObject.prototype={target:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,c,d,g,h,j){this.target=c;this.property=d;this.tweenId=a;this.initialValue=g;this.deltaValue=h;this.proxy=j},apply:function(a){this.proxy?this.proxy(this.target,this.property,this.initialValue,this.deltaValue,
a):this.target[this.property]=this.initialValue+this.deltaValue*a}};c.registerModule(d)})(lola);