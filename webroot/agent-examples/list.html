<!DOCTYPE html>
<html>
<head>
    <title>Lola Framework: List Agent</title>
    <script src="../bin/lola.js"></script>
    <script src="../lola/agents/ui/list.js"></script>
    <style>
        body { background-color: #EFEFEF; }
        label{ display: block; }
        .ui-list-psuedo-input{ position: absolute !important; margin-left: 300px; }
        .ui-list-ctrl{ overflow: scroll; }
        .ui-list-ctrl a{
            display: block; text-decoration: none !important; padding: 5px; color:#333;
        }
        .ui-list-ctrl a.selected{background-color: #BBBBBB;}
        .ui-list-ctrl a.selected:hover,
        .ui-list-ctrl a.selected:active{ background-color: #BBBBBB; }
        .ui-list-ctrl a:hover,
        .ui-list-ctrl a:active{ background-color: #DDDDDD;}
        .name-list{ width: 150px; height: 200px; border: 1px solid #CCC; background-color: #FFFFFF; }
    </style>
</head>
<body>
    <label for="the-list">The List</label>
    <select id="the-list" class="ui-list name-list" size="10" multiple >
        <script type="text/x-lola-data-provider">
            [
                {fn:"John",ln:"Smith"},
                {fn:"Jane",ln:"Smith"},
                {fn:"Mike",ln:"Adams"},
                {fn:"Jessica",ln:"Adams"},
                {fn:"Adam",ln:"Jones"},
                {fn:"Mary",ln:"Jones"}
            ]
        </script>
        <script type="text/x-lola-label-fn">
            (function(){ return function( item ){ return item.ln+", "+item.fn; }; })();
        </script>
        <script type="text/x-lola-value-fn">
            (function(){ return function( item ){ return item.ln+", "+item.fn; }; })();
        </script>
    </select>
    <div id="selected-indices"></div>

    <input type="text" name="one"/>
    <input type="text" name="two"/>
    <input type="text" name="three"/>
    <input type="text" name="four"/>

    <script>
        (function(){
            $('#the-list').addListener('selectionChanged',function(event){
                $("#selected-indices").html('selected: '+event.data.join(', '));
            },false);
        })();
    </script>

</body>
</html>