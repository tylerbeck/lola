(function(c){var j=function(c,a){return new j.Selector(c,a)};j.window=c;j.extend=function(c,a,d,e){d==void 0&&(d=false);e==void 0&&(e=false);for(var f in a)if(d||c[f]==null)c[f]=a[f];else if(e)throw Error("property "+f+" already exists on extend target!");};j.getPackage=function(c,a,d){if(typeof a==="string")for(var a=a.split("."),e;e=a.shift();)c[e]==null&&(c[e]={}),a.length==0&&d&&(c[e]=d),c=c[e];return c};j.registerModule=function(c,a){var a=a==void 0?false:a,d=c.namespace();a?j.extend(j.getPackage(j,
d),c,false,false):j.getPackage(j,d,c);this.hasFn(c,"dependencies")&&j.addDependencies(d,c.dependencies());c.selectorMethods&&(j.extend(j.Selector.prototype,c.selectorMethods,false,false),delete c.selectorMethods);j.hasFn(c,"initialize")&&j.addInitializer(c.initialize);j.debug("module registered:",d)};j.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",j.initialize,false),j.window.removeEventListener("load",j.initialize,false)):document.attachEvent&&(document.detachEvent("onreadystatechange",
j.initialize),j.window.detachEvent("onload",j.initialize));j.checkDependencies();j.executeInitializers();delete j.initialize};c.lola=j;c.$=j})(window);if(!Object.keys)Object.keys=function(c){var j=[],k;for(k in c)Object.prototype.hasOwnProperty.call(c,k)&&j.push(k);return j};if(!Object.forEach)Object.forEach=function(c,j,k){if(c===void 0||c===null)throw new TypeError;c=Object(c);if(typeof j!=="function")throw new TypeError;for(var a in c)c.hasOwnProperty(a)&&j.call(k,c[a],a,c)};
if(!Array.prototype.forEach)Array.prototype.forEach=function(c,j){if(this===void 0||this===null)throw new TypeError;var k=Object(this),a=k.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)d in k&&c.call(j,k[d],d,k)};
if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c){if(this===void 0||this===null)throw new TypeError;var j=Object(this),k=j.length>>>0;if(k===0)return-1;var a=0;arguments.length>0&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));if(a>=k)return-1;for(a=a>=0?a:Math.max(k-Math.abs(a),0);a<k;a++)if(a in j&&j[a]===c)return a;return-1};
if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(c){if(this===void 0||this===null)throw new TypeError;var j=Object(this),k=j.length>>>0;if(k===0)return-1;var a=k;arguments.length>1&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));for(k=a>=0?Math.min(a,k-1):k-Math.abs(a);k>=0;k--)if(k in j&&j[k]===c)return k;return-1};
if(!Array.prototype.filter)Array.prototype.filter=function(c,j){if(this===void 0||this===null)throw new TypeError;var k=Object(this),a=k.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],e=0;e<a;e++)if(e in k){var f=k[e];c.call(j,f,e,k)&&d.push(f)}return d};
if(!Array.prototype.every)Array.prototype.every=function(c,j){if(this===void 0||this===null)throw new TypeError;var k=Object(this),a=k.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)if(d in k&&!c.call(j,k[d],d,k))return false;return true};
if(!Array.prototype.map)Array.prototype.map=function(c,j){if(this===void 0||this===null)throw new TypeError;var k=Object(this),a=k.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=Array(a),e=0;e<a;e++)e in k&&(d[e]=c.call(j,k[e],e,k));return d};
if(!Array.prototype.some)Array.prototype.some=function(c,j){if(this===void 0||this===null)throw new TypeError;var k=Object(this),a=k.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)if(d in k&&c.call(j,k[d],d,k))return true;return false};
if(!Array.prototype.reduce)Array.prototype.reduce=function(c){var j,k=this.length,a;if(typeof c!=="function")throw new TypeError("First argument is not callable");if((k==0||k===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");if(arguments.length<=1){for(;j=k;)throw new TypeError("Empty array and no second argument");a=this[j++]}else a=arguments[1];for(j=j||0;j<k;j++)j in this&&(a=c.call(void 0,a,this[j],j,this));return a};
if(!Array.isArray)Array.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"||c instanceof Array};if(!String.prototype.trim)String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
(function(c){c.Selector=function(c,k){var a=0;if(typeof c==="string")if(window.Sizzle)for(var d=Sizzle(c,k),a=0;a<g;a++)this[a]=d[a];else try{k||(k=document);for(var d=k.querySelectorAll(c),e=d.length,a=0;a<e;a++)this[a]=d.item(a);this.length=a}catch(f){console.warn("Exception:",c)}else if(Array.isArray(c))for(var g=c.length,a=0;a<g;a++)this[a]=g[a];else this[a]=c,a++;this.length=a;return this};c.Selector.prototype={};c.Selector.prototype.forEach=Array.prototype.forEach;c.Selector.prototype.every=
Array.prototype.every;c.Selector.prototype.filter=Array.prototype.filter;c.Selector.prototype.indexOf=Array.prototype.indexOf;c.Selector.prototype.join=Array.prototype.join;c.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;c.Selector.prototype.map=Array.prototype.map;c.Selector.prototype.push=Array.prototype.push;c.Selector.prototype.pop=Array.prototype.pop;c.Selector.prototype.shift=Array.prototype.shift;c.Selector.prototype.unshift=Array.prototype.unshift;c.Selector.prototype.slice=Array.prototype.slice;
c.Selector.prototype.splice=Array.prototype.splice;c.Selector.prototype.reverse=Array.prototype.reverse})(lola);
(function(c){var j=new function(){function k(a){var n=[];Object.forEach(a,function(a){c.hasPackage(c,a)||n.push(a)});return n}var a=this,d={},e=0,f=[],g=[],h=false,l;this.namespace=function(){return""};this.dependencies=function(){return d};this.url=function(){return l};this.setURL=function(d){l=new a.URL(d);h=l.vars.debug=="true"};this.debugMode=function(){return h};this.getGUID=function(){return e++};this.addInitializer=function(a){f.push(a)};this.addSafeDeleteHook=function(a,n){g.push({fn:a,scope:n})};
this.addDependencies=function(a,n){d[a]=n};this.safeDelete=function(a,n){for(var d=n?a[n]:a,c=g.length-1;c>=0;c--)if(d){var h=g[c];h.fn.call(h.scope,d)}a&&n&&delete a[n]};this.checkDependencies=function(a){var a=a?a:d,n=[],c;for(c in a){var h=k(a[c]);h.length>0&&n.push(c+": "+h.join(", "))}if(n.length>0)throw Error("module dependency checks failed for: \n\t"+n.join("\n\t"));};this.executeInitializers=function(){c.debug("core::executeInitializers");var a,n=f.length;for(a=0;a<n;a++)c.hasFn(f,a)&&(f[a](),
delete f[a])};this.evaluate=function(a,n){if(n==null&&(n=document.getElementsByTagName("head")[0],!n))n=document.documentElement;var d=document.createElement("script");d.type="text/javascript";c.support.domEval?d.appendChild(document.createTextNode(a)):d.text=a;n.insertBefore(d,n.firstChild);n.removeChild(d)};this.loadScript=function(a,n){var d=document.getElementsByTagName("head")[0];if(!d)d=document.documentElement;var h=document.createElement("script");typeof n=="function"&&c.event.addListener(h,
"load",function(){n.apply()});h.src=a;d.insertBefore(h,d.firstChild)};this.hasPackage=function(a,n){var d=a;if(typeof n==="string")for(var h=n.split("."),c;c=h.shift();)if(d[c]==null)return false;else d=d[c];return true};this.hasFn=function(a,n){return a&&a[n]&&typeof a[n]=="function"};this.debug=function(){h&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return a.length==1?a[0]:a};this.selectorMethods={identify:function(){this.forEach(function(a){if(!a.id)a.id=
"lola-guid-"+c.getGUID()});return this},get:function(a){a==void 0&&(a=0);return this[a]},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,n){var d=this;a instanceof c.Selector?a.forEach(function(a){d.push(a)}):Array.isArray(a)?a.forEach(function(a){d.push(a)}):d.push(a);if(n==void 0||n===true){var h=c.array.unique(this);this.splice(0,this.length);h.forEach(function(a){d.push(a)})}return this},g:function(){return c.__(this.i.apply(this,arguments))},s:function(){this.i.apply(this,
arguments);return this},_:function(){var a=this.i.apply(this,arguments);return arguments[arguments.length-1]==void 0?c.__(a):this},i:function(){var a=[],n=this,d=arguments.length;if(d){for(var h=arguments[0],c=[],g=1;g<d;g++)c.push(arguments[g]);this.forEach(function(d){a.push(h.apply(n,[d].concat(c)))})}return a}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?a[1]:"";var d={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,h,c){d[h]=c;return""});this.vars=d;a=a.split(":");a.length==2?
(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=this.domain==""?"":"/";if(a.length>0)this.path=this.path+a.join("/")+"/";return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(d,n){a.push(n+"="+d)});var d=a.length?"?"+a.join("&"):"",h=this.hash==""?"":"#"+this.hash;return this.protocol!=""?this.protocol+"://"+this.domain+this.path+this.page+
d+h:this.path+this.page+d+h}};return this};j.setURL(c.window.location.href);c.registerModule(j,true)})(lola);
(function(c){c.registerModule(new function(){var j=this,k=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=false;this.deleteExpando=true;this.msEvent=false;this.domEvent=true;this.animationFrameType=0;this.cssRules=false;this.namespace=function(){return"support"};this.dependencies=function(){return k};this.initialize=function(){c.debug("lola.support::initialize");j.cssRules=document.styleSheets.length>0&&document.styleSheets[0].cssRules||document.createStyleSheet==void 0?true:false};var a=
document.documentElement,d=document.createElement("script"),e="scriptCheck"+(new Date).getTime();d.type="text/javascript";try{d.appendChild(document.createTextNode("lola.window."+e+"=true;"))}catch(f){}a.insertBefore(d,a.firstChild);a.removeChild(d);j.domEval=c.window[e];delete c.window[e];a=document.createElement("div");a.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' >test</div>";a=a.firstChild;j.style=typeof a.getAttribute("style")===
"string";j.cssFloat=/^left$/.test(a.style.cssFloat);j.colorAlpha=/^rgba.*/.test(a.style.backgroundColor);try{delete a.test}catch(g){j.deleteExpando=false}if(document.addEventListener)j.domEvent=true;else if(document.attachEvent)j.msEvent=true;if(window.requestAnimationFrame)j.animationFrameType=1;else if(window.mozRequestAnimationFrame)j.animationFrameType=2;else if(window.webkitRequestAnimationFrame)j.animationFrameType=3;else if(window.oRequestAnimationFrame)j.animationFrameType=4})})(lola);
(function(c){c.registerModule(new function(){function c(a){return function(d,c){var f=d[a],g=c[a];return f<g?-1:f>g?1:0}}var k=[];this.namespace=function(){return"array"};this.dependencies=function(){return k};this.hasObjectWithProperty=function(a,d,c){return a.some(function(a){return a[d]==c})};this.unique=function(a){for(var d=[],c=a.length-1;c>=0;c--)d.indexOf(a[c])==-1&&d.push(a[c]);return d};this.isIn=function(a,d){return a.indexOf(d)>=0};this.pruneNulls=function(a){var d=[];a.forEach(function(a){a!=
null&&d.push(a)});return d};this.sortOn=function(a,d){return d.sort(c(a))};this.selectorMethods={}})})(lola);
(function(c){c.registerModule(new function(){function j(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),d=d==""?"Element":d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function k(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object /g,"").replace(/Element\]/g,""),d=d==""?"Element":
d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function a(a){f["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(a)}var d=this,e=[],f={},g=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return e};this.get=function(a){return(a=
f[Object.prototype.toString.call(a)])?a:"other"};this.isPrimitive=function(a){return g.indexOf(d.get(a))>=0};this.selectorMethods={getType:function(){return this.g(d.get)},isType:function(a,c){return c!=void 0&&c>=0?d.get(this[c])===a:this.every(function(c){return d.get(c)===a})},isPrimitive:function(a){return a!=void 0&&a>=0?d.isPrimitive(this.getType(a)):this.every(function(a){return d.isPrimitive(a)>=0})}};(function(){"String Number Date Array Boolean RegExp Function Object Undefined Null".split(" ").forEach(a);
"a abbr acronym address applet area article aside audio b base bdi bdo big body br button canvas caption center cite code col colgroup command datalist dd del details dfn dir div dl dt em embed fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd label legend li link map mark menu meta meter nav noframes noscript ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup svg table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr xmp".split(" ").forEach(j);
"object".split(" ").forEach(k);var d=document.createTextNode("test"),c=document.createComment("test"),d=Object.prototype.toString.call(d),c=Object.prototype.toString.call(c);f[d]="textnode";f[c]="commentnode"})()})})(lola);
(function(c){c.registerModule(new function(){var j=this,k=[],a={};this.namespace=function(){return"dom"};this.dependencies=function(){return k};this.attr=function(d,e,f,g){if(g!==false&&a[e])return a[e].apply(d,arguments);else if(d)if(f||f=="")if(c.type.isPrimitive(f))return d[e]=f;else throw Error("attribute values must be primitives");else return d[e]};this.addAttrHook=function(d,c){Array.isArray(d)||(d=[d]);d.forEach(function(d){a[d]=c})};this.deleteExpando=function(a,e){c.support.deleteExpando?
delete a[e]:a[e]=null};this.isDescendant=function(a,c){return j.isAncestor(c,a)};this.isAncestor=function(a,c){for(var f=c;f&&(f=f.parentNode)&&f.nodeName!="BODY";)if(a==f)return true;return false};this.selectorMethods={find:function(a){var c=$([]);this.forEach(function(f){f=$(a,f);c.concat(f)});return c},generation:function(a){a||(a=1);var c=$([]);this.forEach(function(f){for(var g=0;f=f.parentNode&&g<a;)g++;f&&c.concat([f])});return c},html:function(a){if(arguments.length==0){var e=[];this.forEach(function(a){e.push(a?
a.innerHTML:null)});return c.__(e)}else return this.forEach(function(e){if(e.childNodes){for(var g=e.childNodes.length,h=0;h<g;h++){var l=e.childNodes.item(h);c.safeDelete(l)}switch(c.type.get(a)){case "null":case "undefined":e.innerHTML="";break;case "string":e.innerHTML=a;break;case "array":e.innerHTML="";for(var m in a)e.appendChild(m);break;default:e.innerHTML="",e.appendChild(a)}}}),this},appendChild:function(a){this.length>0&&this.get().appendChild(a);return this},prependChild:function(a){this.length>
0&&this.get().insertBefore(a,this.get().firstChild);return this},cloneNode:function(a){return this.length>0?this.get().cloneNode(a):null},insertBefore:function(a){this.length==1&&this.parent().insertBefore(a,this[0]);return this},insertAfter:function(a){this.length==1&&this.parent().insertAfter(a,this[0]);return this},removeChild:function(a){this.length>0&&(c.safeDelete(a),this.get().removeChild(a));return this},replaceChild:function(a,e){this.length>0&&(c.safeDelete(e),this.get().replaceChild(a,
e));return this},attr:function(a,e){if(e!=void 0)return this.forEach(function(c){j.attr(c,a,e)}),this;else{var f=[];this.forEach(function(c){f.push(j.attr(c,a))});return c.__(f)}},removeAttr:function(a){this.forEach(function(c){c.removeAttribute(a)});return this},parent:function(a){if(a!=void 0)return this.forEach(function(c){$(a).appendChild(c)}),this;else{var e=[];this.forEach(function(a){e.push(a?a.parentNode:null)});return c.__(e)}},nodeIndex:function(){var a=[];this.forEach(function(c){if(c.previousSibling){for(var f=
0;(c=c.previousSibling)!=null;)f++;a.push(f)}else a.push(0)});return c.__(a)},deleteExpando:function(a){return this.s(c.deleteExpando,a)}};j.addAttrHook(["value","checked","selected"],function(a,e,f){var g=j.attr(a,e,void 0,false);return f!=void 0?(e=j.attr(a,e,f,false),g!=f&&c.event.trigger(a,"change",false,false),e):g})})})(lola);
(function(c){c.registerModule(new function(){function j(a,d){var d=d==void 0?true:d,l=c.dom.attr(a,f);if(l==null)switch(c.type.get(a)){case "function":case "object":l=a[f];l==null&&d&&(l=e++,a[f]=l);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:l=c.dom.attr(a,f),l==null&&d&&(l=e++,c.dom.attr(a,f,l))}return l}var k=this,a=["dom","type"],d={},e=1,f="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return a};this.get=function(a,c,e){var m=j(a,false);return d[c]==null||m==null?e?k.set(a,{},c,false):null:d[c][m]};this.getNamespaceData=function(a){return d[a]};this.set=function(a,h,e,m){a=j(a,true);d[e]==null&&(d[e]={});m||d[e][a]==null?d[e][a]=h:c.extend(d[e][a],h,true);return d[e][a]};this.remove=function(a,h,e){var m=j(a,false);if(m){if(h==null||h==void 0){var h=[],n;for(n in d)h.push(n)}else c.type.get(h)!="array"&&(h=[h]);
h.forEach(function(a){delete d[a][m]})}e===void 0&&(e=true);e&&a.childNodes&&c.type.get(a.childNodes)=="array"&&a.childNodes.forEach(function(a){k.remove(a,h,true)})};this.selectorMethods={getData:function(a,c){return this.g(k.get,a,c)},putData:function(a,c){return this.s(k.set,a,c)},updateData:function(a,c){return this.s(k.set,a,c,false)},removeData:function(a,c){return this.s(k.remove,a,c)},removeAllData:function(a){return this.removeData(null,a)}};c.addSafeDeleteHook(this.remove,this)})})(lola);
(function(c){c.registerModule(new function(){var j=[];this.namespace=function(){return"util"};this.dependencies=function(){return j};this.copyPrimitives=function(k,a){for(var d in k)c.type.isPrimitive(k[d])&&(a[d]=k[d])};this.checkArgs=function(k,a,d){for(var e=true,f=[],g=a.length-1;g>=0;g--)if(a[g][1]===void 0||a[g][1]===null)e=false,f.push(a[g][0]+" is not set!");e||(console.groupCollapsed?console.groupCollapsed(k):console.group(k),c.type.get(d)=="array"&&d.forEach(function(a){console.info(a)}),
f.forEach(function(a){console.warn(a)}),console.groupEnd());return e};this.getInlineValue=function(k,a,d,e){k=$('script[type="text/x-lola-'+a+'"]',k);return k.length&&(k=eval(k[0].innerHTML),c.type.get(k)===d.toLowerCase())?k:e};this.nodeList2Array=function(c){try{return Array.prototype.slice.call(c,0)}catch(a){for(var d=[],e=c.length;e--;d.unshift(c[e]));return d}};this.selectorMethods={compareValues:function(c,a,d){var e=d;typeof c==="string"?this.foreach(function(d){e=a.call(this,e,Number(d[c]))}):
typeof c==="function"&&this.foreach(function(d){e=a.call(this,e,c.call(this,d))});return e}}})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"string"};this.dependencies=function(){return c};this.padFront=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.push(a),e++;return c.join("")};this.padEnd=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.unshift(a),e++;return c.join("")};this.camelCase=function(c){for(var c=c.split("-"),a=c.length,d=1;d<a;d++)c[d].length>0&&(c[d]=c[d].charAt(0).toUpperCase()+c[d].slice(1));return c.join("")};
this.dashed=function(c){for(var c=c.split(""),a,d=[];a=c.shift();)a==a.toUpperCase()&&d.push("-"),d.push(a.toLowerCase());return d.join("")}})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return c};this.selectorMethods={}})})(lola);
(function(c){c.registerModule(new function(){function j(n){n=n||c.window.event;a(n,"capture")}function k(n){n=n||c.window.event;a(n,"bubble")}function a(a,d){var g=a.originalEvent?a:new l(a,{}),e=c.data.get(g.currentTarget,h);if(e&&e[d]&&e[d][a.type]){var m=[],f;for(f in e[d][a.type])m.push(e[d][a.type][f]);var m=c.array.sortOn("priority",m),j;for(j in m){if(g._immediatePropagationStopped)break;f=m[j];f.handler?f.handler.call(f.scope,g):delete e[d][a.type][f.huid]}}}var d=this;this.PRIORITY_BEFORE=
1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var e=["data","util","type"],f={mousewheel:["mousewheel","DOMMouseScroll"]},g={},h="_event";this.namespace=function(){return"event"};this.dependencies=function(){return e};this.addHook=function(a,c){g[a]=c};this.addListener=function(a,e,l,m,f,t){if(c.util.checkArgs("ERROR: lola.event.addListener( "+e+" )",[["target",a],["type",e],["handler",l]],[a,"type: "+e,"useCapture: "+m]))if(g[e]!=
null)return t=g[e],t.addListener(a,e,l,m,f,t);else{var r=c.data.get(a,h);r||(r={capture:{},bubble:{}},c.data.set(a,r,h,true));m=d.phaseString(a,m);f=f||d.PRIORITY_NORMAL;if(l.uid==null)l.uid=p++;var p=l.uid;r[m][e]==null&&(r[m][e]={});r[m][e][p]={priority:f,huid:p,handler:l,scope:t||a};m=="capture"?d.addDOMListener(a,e,j,true):d.addDOMListener(a,e,k,false);return p}};this.removeListener=function(a,e,l,m){if(c.util.checkArgs("ERROR: lola.event.removeListener( "+e+" )",[["target",a],["type",e],["handler",
l]],[a,"type: "+e,"useCapture: "+m]))if(g[e]!=null)g[e].removeListener.call(g[e],a,e,l,m);else{var f=c.data.get(a,h);f||(f={capture:{},bubble:{}});m=d.phaseString(a,m);l=c.type.get(l)=="function"?l.uid:l;delete f[m][e][l];Object.keys(f[m][e]).length==0&&(m=="capture"?d.removeDOMListener(a,e,j,true):d.removeDOMListener(a,e,k,false))}};this.removeHandler=function(a,e,g){if(c.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a=c.type.get(a)=="function"?a.uid:a,l=c.data.getNamespace(h);
if(l){var g=g==void 0?["capture","bubble"]:g?["capture"]:["bubble"],m;for(m in l){e!=void 0&&(e=c.type.get(e)=="array"?e:[e]);for(var f in g){var r;if(e)for(r in e)l[m][f][r]&&delete l[m][f][r][a];else for(r in l[m][f])delete l[m][f][r][a];Object.keys(l[m][f][r]).length==0&&d.removeDOMListener(target,r,f=="capture"?j:k,f=="capture")}}}}};this.trigger=function(d,e,h,g,m){console.log("lola.event.trigger:",e);if(c.util.checkArgs([d,e],["target","type"],"lola.event.trigger: type="+e+" bubbles="+h)){h==
void 0&&(h=true);g==void 0&&(g=true);var f=e;if(c.type.get(f)==="string")f=document.createEvent("Event"),f.initEvent(e,h,g),f.data=m;d.dispatchEvent?d.dispatchEvent(f):(f=new l(f,d),a(f,"capture"),h&&a(f,"bubble"))}};this.addDOMListener=function(a,d,e,h){d=f[d]?f[d]:[d];d.forEach(function(g){try{c.support.domEvent&&a.addEventListener?a.addEventListener(g,e,h):c.support.msEvent&&a.attachEvent?a.attachEvent("on"+g,e):a["on"+g.toLowerCase()]==null&&(a["on"+d.toLowerCase()]=e)}catch(l){c.debug("lola.event.addDOMListener error:",
a,d,e,h)}})};this.removeDOMListener=function(a,d,e,h){d=f[d]?f[d]:[d];d.forEach(function(){try{c.support.domEvent&&a.removeEventListener?a.removeEventListener(d,e,h):c.support.msEvent&&a.detachEvent?a.detachEvent("on"+d,e):a["on"+d.toLowerCase()]==null&&delete a["on"+d.toLowerCase()]}catch(g){c.debug("lola.event.removeDOMListener error:",a,d,e,h)}})};this.getDOMTarget=function(a,c){if(a){if(a.currentTarget)c=a.currentTarget;else if(a.srcElement)c=a.srcElement;if(c&&c.nodeType==3)c=c.parentNode}return c};
this.getDOMKeycode=function(a){var c;if(a.keyCode)c=a.keyCode;else if(a.which)c=a.which;return c};this.getDOMKey=function(a){a=d.getDOMKeycode(a);return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):String.fromCharCode(a)};this.getDOMGlobalXY=function(a){var c=0,d=0;if(a.pageX||a.pageY)c=a.pageX,d=a.pageY;else if(a.clientX||a.clientY)c=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,d=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;
return{x:c,y:d}};this.getDOMLocalXY=function(a){return{x:a.layerX||a.offsetX||0,y:a.layerY||a.offsetY||0}};this.phaseString=function(a,d){return d&&(c.support.domEvent||c.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=true,a.cancel=true,a.returnValue=false;
return false};this.selectorMethods={addListener:function(a,c,e,h,g){return this.s(d.addListener,a,c,e,h,g)},removeListener:function(a,c,e){return this.s(d.removeListener,a,c,e)},removeHandler:function(a,c,e){return this.s(d.removeHandler,a,c,e)},trigger:function(a,c,e,h){return this.s(d.trigger,a,c,e,h)}};var l=function(a,c){return this.init(a,c)};l.prototype={originalEvent:null,propagationStopped:false,immediatePropagationStopped:false,target:null,currentTarget:null,globalX:null,globalY:null,key:null,
init:function(a,e){c.extend(this,a,false,false);this.originalEvent=a;if(e)this.target=e;this.currentTarget=d.getDOMTarget(a,e);var h=d.getDOMGlobalXY(a);this.globalX=h.x;this.globalY=h.y;h=d.getDOMLocalXY(a);this.localX=h.x;this.localY=h.y;this.key=d.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();this.propagationStopped=true},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();
this.immediatePropagationStopped=true}};this.addHook("hover",new function(){function a(d){var e=c.dom.attr(d,"hoverDelay"),e=e==null||e==void 0?250:parseInt(e),h=c.data.get(d,f);h||(h={hasIntent:false,wait:e,timeout:-1},c.data.set(d,h,f,true));return h}function d(c){l.addListener(c.currentTarget,"mouseout",e,false,0,l);c=a(c.currentTarget);c.hasIntent=true;if(c.timeout<0)c.timeout=setTimeout(g,c.wait)}function e(c){l.removeListener(c.currentTarget,"mouseout",e,false);a(c.currentTarget).hasIntent=
false}function g(c){l.removeListener(c,"mouseout",e,false,0,l);var d=a(c);d.timeout=-1;d.hasIntent&&l.trigger(c,m)}var l=this,m="hover",f="eventHover";this.addListener=function(c,e,h,g,f,v){e=l.addListener(c,m,h,g,f,v);a(c);l.addListener(c,"mouseover",d,false,0,l);return e};this.removeListener=function(a,e,g,n){e=c.data.get(a,h);l.removeListener(a,m,g,n);g=l.phaseString(a,n);if(e[g][m]==null||Object.keys(e[g][m]).length==0)l.removeListener(a,"mouseover",d,false),c.data.remove(a,f)};return this});
var m=new function(){function a(d){var e=c.data.get(d,j);e||(e={within:false},c.data.set(d,e,j,true));return e}function d(a){c.support.msEvent||(a="do"+a);return a}function e(c){var d=a(c.currentTarget);if(!d.within&&c.currentTarget!=c.relatedTarget)d.within=true,l.trigger(c.currentTarget,m,false)}function g(d){var e=a(d.currentTarget);if(e.within&&!c.util.isAncestor(d.currentTarget,d.relatedTarget)&&d.currentTarget!=d.relatedTarget)e.within=false,l.trigger(d.currentTarget,f,false)}var l=this,m="domouseenter",
f="domouseleave",j="eventMouseEnterState";this.addListener=function(a,h,n,m,f,j){c.support.msEvent||(l.addListener(a,"mouseover",e,m,f,j),l.addListener(a,"mouseout",g,m,f,j));return l.addListener(a,d(h),n,m,f,j)};this.removeListener=function(a,n,m,f){var j=c.data.get(a,h),k=l.phaseString(a,f),n=d(n);l.removeListener(a,n,m,f);if(!c.support.msEvent&&j[k][n]==null||j[k][n].keys().length==0)l.removeListener(a,"mouseover",e,f),l.removeListener(a,"mouseout",g,f)}};this.addHook("mouseenterstate",m);this.addHook("mouseleave",
m);this.addHook("mouseenter",m)})})(lola);
(function(c){c.registerModule(new function(){var c=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return c};this.normalizeRadians=function(c){for(var a=2*Math.PI;c<a;)c+=a;return c%a};this.normalizeDegrees=function(c){for(;c<360;)c+=360;return c%360};this.normalizeRange=function(c,a,d){return Math.max(c,Math.min(d,a))};this.selectorMethods={maxValue:function(c){return this.compareValues(c,Math.max,Number.MIN_VALUE)},minValue:function(c){return this.compareValues(c,Math.min,
Number.MAX_VALUE)},totalValue:function(c){return this.compareValues(c,function(a,c){return a+c},0)},avgValue:function(c){return this.totalValue(c)/this.length}}})})(lola);
(function(c){c.registerModule(new function(){var c=this,k=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return k};this.rgb2hsl=function(a,c,e){var f=0,g=0,h=0,a=a<0?0:a,a=a>1?1:a,c=c<0?0:c,c=c>1?1:c,e=e<0?0:e,e=e>1?1:e,h=a>c?e>a?e:a:e>c?e:c,l=a<c?e<a?e:a:e<c?e:c;h!=0&&(g=(h-l)/h);if(g>0){var f=(h-a)/(h-l),m=(h-c)/(h-l),e=(h-e)/(h-l),f=a==h?e-m:c==h?2+f-e:4+m-f;for(f/=6;f<0;)f++}return{h:f,s:g,l:h}};this.rgb2hex=function(a,c,e){var f="",a=a<0?0:a,c=c<0?0:c,c=c>
1?1:c,e=e<0?0:e,e=e>1?1:e,a=Math.round((a>1?1:a)*255),c=Math.round(c*255),e=Math.round(e*255),g=[];g.push((a-a%16)/16);g.push(a%16);g.push((c-c%16)/16);g.push(c%16);g.push((e-e%16)/16);g.push(e%16);g.forEach(function(a){f+="0123456789ABCDEF".charAt(a)});return f};this.rgb2int=function(a,d,e){return parseInt("0x"+c.rgb2hex(a,d,e))};this.hsl2rgb=function(a,c,e){var a=a<0?0:a,a=a>1?1:a,c=c<0?0:c,c=c>1?1:c,e=e<0?0:e,e=e>1?1:e,f=0,g=0,h=0;if(c==0)h=g=f=b;else{var a=(a-Math.floor(a))*6,l=a-Math.floor(a),
m=e*(1-c),n=e*(1-c*l),c=e*(1-c*(1-l));switch(Math.floor(a)){case 0:f=e;g=c;h=m;break;case 1:f=n;g=e;h=m;break;case 2:f=m;g=e;h=c;break;case 3:f=m;g=n;h=e;break;case 4:f=c;g=m;h=e;break;case 5:f=e,g=m,h=n}}return{r:f,g:g,b:h}};this.hsl2int=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2int(a.r,a.g,a.b)};this.hsl2hex=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2hex(a.r,a.g,a.b)};this.int2rgb=function(a){a=a>16777215?16777215:a;a=a<0?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}};
this.int2hsl=function(a){a=c.int2rgb(a);return c.rgb2hsl(a.r,a.g,a.b)};this.int2hex=function(a){a=c.int2rgb(a);return c.rgb2hex(a.r,a.g,a.b)};this.hex2int=function(a){return parseInt("0x"+(a.length==3?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))};this.hex2rgb=function(a){return c.int2rgb(this.hex2int(a))};this.hex2hsl=function(a){return c.int2hsl(this.hex2int(a))}})})(lola);
(function(c){c.registerModule(new function(){function j(a){switch(h){case 1:c.window.requestAnimationFrame(a);break;case 2:c.window.mozRequestAnimationFrame(a);break;case 3:c.window.webkitRequestAnimationFrame(a);break;case 4:c.window.oRequestAnimationFrame(a);break;default:setTimeout(a,l)}}function k(){var a=false,d=c.now(),h;for(h in f)f[h].isActive()&&(a=true,f[h].isComplete()?(c.event.trigger(f[h],"animationcomplete",false,false),delete f[h],e.push(parseInt(h))):f[h].enterFrame(d));a?j(k):g=false}
var a=this,d=["event"],e=[],f={},g=false,h=0,l=1E3/30;this.namespace=function(){return"animation"};this.dependencies=function(){return d};this.initialize=function(){h=c.support.animationFrameType};this.register=function(a,c){f[a]=c};this.start=function(a){f[a]&&f[a].start()};this.stop=function(a){f[a]&&f[a].stop()};this.pause=function(a){f[a]&&f[a].pause()};this.resume=function(a){f[a]&&f[a].resume()};this.selectorMethods={};this.Animation=function(d,e){var h=-1,l=-1,f=-1,u=false,t=false,r=typeof d===
"function"?d:function(){return false};this.enterFrame=function(a){var c=a-f,d=a-h;f=a;u=r.call(e,a,c,d)};this.isActive=function(){return u};this.isComplete=function(){return t};this.start=function(){u||(u=true,t=false,h=f=c.now(),g||(g=true,j(k)),c.event.trigger(a,"animationstart",false,false))};this.pause=function(){u&&(u=false,l=c.now(),c.event.trigger(a,"animationpause",false,false))};this.resume=function(){u||(u=true,h+=c.now()-l,g||(g=true,j(k)),c.event.trigger(a,"animationresume",false,false))};
this.stop=function(){u=false;t=true;c.event.trigger(a,"animationstop",false,false)};return this}})})(lola);
(function(c){c.registerModule(new function(){function j(a){e[a]||(e[a]=c.string.camelCase(a));return e[a]}function k(d,e,g){if(g==void 0)return d=a.getRawStyle(d,e),parseFloat(d.replace(c.regex.isDimension,"$1"));else g=String(g).match(c.regex.isDimension)?g:g+"px",a.setRawStyle(d,e,g)}var a=this,d=["type","math.color"],e={},f={},g={};this.namespace=function(){return"css"};this.dependencies=function(){return d};this.initialize=function(){c.debug("lola.css::initialize");"padding margin background-position border-top-width border-right-width border-bottom-width border-left-width border-width bottom font-size height left line-height list-style-position margin margin-top margin-right margin-bottom margin-left max-height max-width min-height min-width outline-width padding padding-top padding-right padding-bottom padding-left right text-indent top width".split(" ").forEach(function(c){a.registerStyleHook(c,
k)});a.addStyleSheet("_default");e["float"]=c.support.cssFloat?"cssFloat":"styleFloat";var d=function(d,e,h,g){e=a.style(d,e,h,false);return e=="auto"?c.geometry.getOffset(d,d.offsetParent)[g]+"px":e};a.registerStyleHook("top",function(a,c,e){return d(a,c,e,"y")});a.registerStyleHook("left",function(a,c,e){return d(a,c,e,"x")});delete a.initialize};this.style=function(c,d,e,g){var s=j(d);return f[s]!=null&&g!==false?f[s].apply(c,arguments):e==void 0?a.getRawStyle(c,s):a.setRawStyle(c,s,e)};this.getRawStyle=
function(a,d){var e=j(d);return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,void 0).getPropertyValue(c.string.dashed(e)):typeof document.body.currentStyle!=="undefined"?a.currentStyle[e]:a.style[e]};this.setRawStyle=function(a,c,d){c=j(c);return a.style[c]=d};this.registerStyleHook=function(a,c){var d=j(a);f[d]=c};this.addStyleSheet=function(d,e){var g=c.support.cssRules?document.createElement("style"):document.createStyleSheet();if(e)g.source=
e;d&&a.registerStyleSheet(g,d);c("head").appendChild(g)};this.registerStyleSheet=function(a,c){g[c]=a};this.addSelector=function(d,e,f){c.type.get(f)=="string"&&(f=g._default);var f=f||g._default,e=e||[],n=c.support.cssRules?f.cssRules.length:f.rules.length;f.addRule?f.addRule(d,null,n):f.insertRule(d+" { }",n);var s=c.support.cssRules?f.cssRules[n]:f.rules[n];e&&e.keys().forEach(function(c){a.style(s,c,e[c])});return s};this.performRuleAction=function(a,d,e){for(var a=a.toLowerCase(),e=e?e.toLowerCase():
"",g=0;g<document.styleSheets.length;g++){var f=document.styleSheets[g];if(!e||e==f.mediaText){var f=c.support.cssRules?f.cssRules:f.rules,v;for(v in f)f[v]&&f[v].selectorText&&f[v].selectorText.toLowerCase()==a&&d(g,v)}}};this.getRules=function(d,e){var g=[];a.performRuleAction(d,function(a,d){c.support.cssRules?g.push(document.styleSheets[a].cssRules[d]):g.push(document.styleSheets[a].rules[d])},e);return g};this.updateRules=function(c,d,e){var g=a.getRules(c,e);d.keys().forEach(function(c){g.forEach(function(e){a.style(e,
c,d[c])})});return g};this.deleteRules=function(d,e){a.performRuleAction(d,function(a,d){c.support.cssRules?document.styleSheets[a].deleteRule(d):document.styleSheets[a].removeRule(d)},e)};this.classes=function(a,d){return d!=void 0?(c.type.get(d)!="array"&&(d=c.type.get(d)=="string"?[d]:[]),a.className=d.join(" "),d):a.className.replace(c.regex.extraSpace," ").split(" ").reverse()};this.hasClass=function(d,e){var g=a.classes(d);return c.array.isIn(g,e)};this.addClass=function(d,e){var g=a.classes(d);
c.array.isIn(g,e)||(g.push(e),a.classes(d,g))};this.removeClass=function(c,d){var e=a.classes(c),g=e.indexOf(d);g>=0&&(e.splice(g,1),a.classes(c,e))};this.clearStyle=function(a,c){delete a.style[j(c)]};this.selectorMethods={style:function(c,d){return this._(a.style,c,d)},classes:function(c){return this._(a.classes,c)},hasClass:function(c){return this.every(function(d){return a.hasClass(d,c)})},addClass:function(c){return this.s(a.addClass,c)},removeClass:function(c){return this.s(a.removeClass,c)}};
this.Color=function(c){this.getRgbValue=function(){};this.getHslValue=function(){};this.getHexValue=function(){};this.toInt=function(){return parseInt("0xundefined")};this.toHexString=function(){return"#undefined"};this.toHslString=function(a){return(a?"hsla":"hsl")+"("+Math.round((void 0).h*360)+","+Math.round((void 0).s*100)+"%,"+Math.round((void 0).l*100)+"%"+(a?","+(void 0).a:"")+")"};this.toHslaString=function(){return a.toHslString(true)};this.toRgbString=function(a){return(a?"rgba":"rgb")+
"("+Math.round((void 0).r*255)+","+Math.round((void 0).g*255)+","+Math.round((void 0).b*255)+(a?","+(void 0).a:"")+")"};this.toRgbaString=function(){return a.toRgbString(true)};return this.init(c)}})})(lola);
(function(c){c.registerModule(new function(){var j=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return j};this.transform=function(a,c,e){var f,g;if(window.ActiveXObject){f=new ActiveXObject("MSXML2.XSLTemplate");f.stylesheet=c.documentElement;c=f.createProcessor();c.input=a;for(g in e)c.addParameter(g,e[g]);c.transform();a=document.createElement("div");a.innerHTML=c.output;f=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var h=
new XSLTProcessor;h.importStylesheet(c);for(g in e)h.setParameter(null,g,e[g]);if(a=h.transformToFragment(a,document))f=a.childNodes}return f};this.cacheXsl=function(){};this.encode=function(a){typeof a=="string"&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){typeof a=="string"&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.selectorMethods={applyTransform:function(a,d,e){this.html(d);
this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.data)});c.event.addListener(a,"fault",function(){$(d).html(e)})});a.load()},applyRequest:function(a,d,e,f){this.html(e);this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.currentTarget.responseText())});c.event.addListener(a,"fault",function(){$(d).html(f)})});a.load()},loadContent:function(a,d,e){this.applyRequest(new c.http.AsyncRequest(a,"get",[]),{},d,e)}};var k=function(a,d,e,f,g,h){function l(){if(n)switch(n.readyState){case 1:c.event.trigger(m,
"loading",true,true,n);break;case 2:c.event.trigger(m,"loaded",true,true,n);break;case 3:c.event.trigger(m,"interactive",true,true,n);break;case 4:c.event.trigger(m,"statecomplete",true,true,n),n.status==200&&!s?(s=true,c.event.trigger(m,"result",true,true,n)):n.status>=400&&(console.info("AsyncRequest.readyStateChange.fault:",a),c.event.trigger(m,"fault",false,false,n))}}var m=this,n=false,s=false;this.ready=function(){return s};var v=function(){var a=false;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=
new XMLHttpRequest}catch(c){a=false}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){a=false}}return a};this.send=function(s){n=v();n.open(d,a,f,g,h);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var j=0;j<e.length;j++)try{n.setRequestHeader(e[j].name,e[j].value)}catch(k){}if(s!=void 0&&c.type.get(s)!="string"){var j=[],r;for(r in s)j.push(r+"="+c.string.encode(s[r]));s=j.join("&")}n.onreadystatechange=
function(){l.call(m)};n.send(s);return n};this.responseText=function(){return s||!f?n.responseText:false};this.responseXML=function(){return s||!f?n.responseXML:false};d=d||"POST";e=e||[];f=f==void 0?true:f;g=g||null;h=h||null;return this};this.AsyncRequest=function(a,c,e,f,g){return new k(a,c,e,true,f,g)};this.SyncRequest=function(a,c,e,f,g){return new k(a,c,e,false,f,g)};this.Transform=function(a,d,e,f){function g(){a.ready()&&d.ready()&&(f&&f!=""&&m.cacheXsl(f,d),s=m.transform(a.responseXML(),
d.responseXML(),e),c.event.trigger(n,"result",true,true,s))}function h(){c.event.trigger(n,"fault",true,true,"xsl fault")}function l(){c.event.trigger(n,"fault",true,true,"xml fault")}var m=n,n=this,s=[];this.resultNodes=function(){return s};this.send=function(c,e){a.ready()||a.send(c);d.ready()||d.send(e)};this.cancel=function(){c.event.removeListener(d,"result",g,true);c.event.removeListener(d,"fault",h,true);c.event.removeListener(a,"result",g,true);c.event.removeListener(a,"fault",l,true);try{d.abort()}catch(e){}try{a.abort()}catch(f){}};
(function(){f=f||"";if(c.type.get(d)=="string"){var a=d;d=m.getCachedXsl(a);if(!d)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=d;if(this.xsl&&this.xml)c.event.addListener(this.xsl,"result",g,true,0,this),c.event.addListener(this.xsl,"fault",h,true,0,this),c.event.addListener(this.xml,"result",g,true,0,this),c.event.addListener(this.xml,"fault",l,true,0,this),g();else throw Error("transform error!");})();return this}})})(lola);
(function(c){c.registerModule(new function(){function j(a){return g.test(a)?'"'+a.replace(g,function(a){var c=d.meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(a,c){var d,e,g,f,m=this.gap,p,o=c[a];o&&typeof o==="object"&&typeof o.toJSON==="function"&&(o=o.toJSON(a));typeof l==="function"&&(o=l.call(c,a,o));switch(typeof o){case "string":return j(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);
case "object":if(!o)return"null";this.gap+=this.indent;p=[];if(Object.prototype.toString.apply(o)==="[object Array]"){f=o.length;for(d=0;d<f;d+=1)p[d]=k(d,o)||"null";g=p.length===0?"[]":h?"[\n"+h+p.join(",\n"+h)+"\n"+m+"]":"["+p.join(",")+"]";h=m;return g}if(l&&typeof l==="object"){f=l.length;for(d=0;d<f;d+=1)e=l[d],typeof e==="string"&&(g=k(e,o))&&p.push(j(e)+(h?": ":":")+g)}else for(e in o)Object.hasOwnProperty.call(o,e)&&(g=k(e,o))&&p.push(j(e)+(h?": ":":")+g);g=p.length===0?"{}":h?"{\n"+h+p.join(",\n"+
h)+"\n"+m+"}":"{"+p.join(",")+"}";h=m;return g}}function a(a,c){function d(a,e){var g,f,h=a[e];if(h&&typeof h==="object")for(g in h)Object.hasOwnProperty.call(h,g)&&(f=d(h,g),f!==void 0?h[g]=f:delete h[g]);return c.call(a,e,h)}var e,a=String(a);f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return e=eval("("+a+")"),typeof c==="function"?d({"":e},""):e;throw new SyntaxError("JSON.parse");}var d=this,e=["http"],f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=null,l=null,m=0;this.namespace=function(){return"json"};this.dependencies=function(){return e};this.encode=function(a){h="";l=void 0;return k("",
{"":a})};this.decode=function(c){return a(c)};this.get=function(a,e,g){console.log("json.get: "+a);var f=new c.URL(a);if(f.protocol=="____")a=new c.http.AsyncRequest(a),e&&$(a).addListener("result",function(a){console.log("    result");a=d.parse(a.data.responseText);e(a)}),a.send();else{console.log("    cross domain");var h=m++;d.handleResponse[h]=function(a){e(a);delete d.handleResponse[h]};f.vars[g?g:"jsonp"]="lola.json.handleResponse["+h+"]";c.loadScript(f.toString())}};this.selectorMethods={};
if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+c.string.padFront(this.getUTCDate(),"0",2)+"T"+c.string.padFront(this.getUTCHours(),"0",2)+":"+c.string.padFront(this.getUTCMinutes(),"0",2)+":"+c.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}})})(lola);
(function(c){c.registerModule(new function(){var j=this,k={},a=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){c.debug("lola.agent::initialize");c.checkDependencies(this.dependencies);var d=a.length;for(i=0;i<d;i++)c.hasFn(a,i)&&(a[i](),delete a[i]);delete j.initialize};this.registerAgent=function(d){var e=d.namespace();c.debug("register agent: "+e);if(e&&c.hasFn(d,"sign")&&c.hasFn(d,"drop")){var f=c.getPackage(c.agent,e,
d);c.hasFn(d,"getDependencies")&&(this.dependencies["agent."+e]=d.getDependencies());k[e]=f;c.hasFn(d,"initialize")&&a.push(function(){d.initialize()});c.hasFn(d,"preinitialize")&&d.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,c){var f=k[c];if(f)f.sign(a);else throw Error("unknown agent: "+c);};this.drop=function(a,c){var f={};c==void 0?f=k:typeof c=="string"&&c.split(",").forEach(function(a){f[a]=k[a]});for(var g in f){var h=f[g];h&&h.drop(a)}};
this.selectorMethods={assignAgent:function(a){return this.s(j.assign,a)},dropAgent:function(a){return this.s(j.drop,a)}};c.addSafeDeleteHook(this.drop,this)})})(lola);
(function(c){c.registerModule(new function(){function j(a){k.execute(a.type,a.data.parameters,a.data.responder)}var k=this,a=[],d={},e={};this.namespace=function(){return"cmd"};this.dependencies=function(){return a};this.register=function(a,e){typeof a!="string"&&e==void 0&&(e=(new a).getName());c.debug("register command: "+e);d[e]!=null&&typeof d[e]!="string"&&console.warn('command "'+e+'" has already been registered... overwriting');d[e]=a;c.event.addListener(k,e,j)};this.call=function(a,c,d,e,
m){d=new k.Responder(d,e,m);k.execute(a,c,d)};this.execute=function(a,g,h){if(d[a])if(typeof d[a]=="string")e[a]||(c.loadScript(d[a],function(){if(c.hasFn(d,a)){for(var g=e[a].length,h=0;h<g;h++){var l=e[a][h];k.execute(l.name,l.params,l.responder)}delete e[a]}else throw Error('The command loaded from "'+d[a]+'" is not named "'+a+'"');}),e[a]=[]),e[a].push({name:a,params:g,responder:h});else{var l=d[a];l&&(l=new l,h&&(c.event.addListener(l,"result",h.handleResult),c.event.addListener(l,"fault",h.handleFault),
c.event.addListener(l,"status",h.handleStatus)),l.execute(g))}else throw Error("Unknown command type: "+a);return h};this.Responder=function(a,d,e){var l=void 0;this.getLastResponse=function(){return l};this.handleStatus=function(a){if(!l||l.type=="status")l=a;typeof e=="function"&&e.apply(c.window,[a])};this.handleResult=function(d){l=d;typeof a=="function"&&a.apply(c.window,[d])};this.handleFault=function(a){l=a;typeof d=="function"&&d.apply(c.window,[a])};return this};this.Data=function(a,c){this.parameters=
function(){return a};this.responder=function(){return c}}})})(lola);
(function(c){c.registerModule(new function(){function j(a){var d={};this.toString=function(){Object.keys(d);var a=[];d.forEach(function(c,d){a.push(d+":"+c)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(Object.keys(d).length>0)switch(c.type.get(a)){case "boolean":a=d[a?"0":"1"];break;default:a=d[a]}return a};a&&this.parse(a);return this}function k(a){if(typeof a!="function")throw Error("invalid hook.");this.evaluate=function(d,e){return a.apply(c.window,arguments)}}function a(a){function d(a){for(var c=
[],g=a.search(e);g>=0;){var h=a.match(e),k=a.substring(0,g);k&&c.push(k);c.push(new j(h[1]));a=a.substring(g+h[0].length);g=a.search(e)}a&&c.push(a);f=c;n=c.length}var e=/\$\{([^\}]+)\}/,f=[],n=0;this.evaluate=function(a){var d=[];c.type.get(a)!="array"&&(a=[a]);a.forEach(function(a,c){for(var e=0;e<n;){var g=f[e];typeof g==="string"?d.push(g):d.push(g.evaluate(a,c));e++}});return d.join("")};a&&d(a);return this}var d=this,e=["json"],f={};this.namespace=function(){return"template"};this.dependencies=
function(){return e};this.initialize=function(){c.debug("lola.template::initialize");if(!c)throw Error("lola not defined!");var a=c.now();c('script[type="text/x-lola-template"]').forEach(function(a){d.add(a.id,a.innerHTML)});var e=c.now();c.debug("templates parsed in "+(e-a)+" ms");delete d.initialize};this.add=function(c,d){if(!c||c=="getValue")throw Error("invalid template id");f[c]=new a(d)};this.addHook=function(a,c){if(!a||a=="getValue")throw Error("invalid hook id");f[a]=new k(c)};this.apply=
function(a,c){var d="",e;if(!f[a])throw Error('hook "'+a+'" not found.');(e=f[a])&&(d=e.evaluate(c));return d};this.selectorMethods={applyTemplate:function(a,d){this.html(c.template.apply(a,d))}}})})(lola);
(function(c){c.registerModule(new function(){var j=this,k=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return k};this.getOffset=function(a,c){var e=new j.Point(a.offsetLeft,a.offsetTop);if(a.offsetParent)var f=j.getOffset(a.offsetParent),e=e.add(f);c&&(f=j.getOffset(c),e=e.subtract(f));return e};this.width=function(a,d){if(d!=void 0){var e=c.css.style(a,"borderLeft"),f=c.css.style(a,"borderRight"),g=c.css.style(a,"paddingLeft"),h=c.css.style(a,"paddingRight");
d-=e+f+g+h;return c.css.style(a,"width",d)}else return a.offsetWidth?a.offsetWidth:a.clientWidth};this.innerWidth=function(a,d){if(d!=void 0)return c.css.style(a,"width",d);else{var e;e=a.offsetWidth?a.offsetWidth:a.clientWidth;var f=c.css.style(a,"borderLeft"),g=c.css.style(a,"borderRight"),h=c.css.style(a,"paddingLeft"),l=c.css.style(a,"paddingRight");e-=f+g+h+l;return e}};this.height=function(a,d){if(d!=void 0){var e=c.css.style(a,"borderTop"),f=c.css.style(a,"borderBottom"),g=c.css.style(a,"paddingTop"),
h=c.css.style(a,"paddingBottom");d-=e+f+g+h;return c.css.style(a,"height",d)}else return a.offsetHeight?a.offsetHeight:a.clientHeight};this.innerHeight=function(a,d){if(d!=void 0)return c.css.style(a,"height",d);else{var e;e=a.offsetHeight?a.offsetHeight:a.clientHeight;var f=c.css.style(a,"borderTop"),g=c.css.style(a,"borderBottom"),h=c.css.style(a,"paddingTop"),l=c.css.style(a,"paddingBottom");e-=f+g+h+l;return e}};this.selectorMethods={offset:function(a){return this.g(j.getOffset,a)},width:function(a){return this._(j.width,
a)},height:function(a){return this._(j.height,a)},innerWidth:function(a){return this._(j.innerWidth,a)},innerHeight:function(a){return this._(j.innerHeight,a)}};this.Point=function(a,c){this.x=a;this.y=c;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),c=Math.sqrt(this.x*this.x+this.y*this.y);return new j.Vector(c,a)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new j.Point(this.x,this.y)},operate:function(a,
c){for(var e=this.copy(),f=c.length,g=0;g<f;g++){var h=c[g];typeof h=="number"?(e.x=a(e.x,h),e.y=a(e.y,h)):(e.x=a(e.x,h.x),e.y=a(e.y,h.y))}return e},add:function(){return this.operate(function(a,c){return a+c},arguments)},subtract:function(){return this.operate(function(a,c){return a-c},arguments)},multiply:function(){return this.operate(function(a,c){return a*c},arguments)},divide:function(){return this.operate(function(a,c){return a/c},arguments)},pow:function(){return this.operate(function(a,c){return Math.pow(a,
c)},arguments)},offsetPoint:function(a,c){var e=this.copy();e.x+=Math.cos(a)*c;e.y+=Math.sin(a)*c;return e},distance:function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))}};this.Spline=function(a,c){a=a?a:[];c=c==void 0?0:c;this.addPoint=function(c,d){if(d==void 0)d=a.length;a.splice(d,0,c)};this.removePoint=function(c){c!=void 0&&a.splice(c,1,void 0)};this.updatePoint=function(c,d){d!=void 0&&a.splice(d,1,c)};this.getPoint=function(c){return c<a.length?a[c]:null};this.getPoints=
function(){return a};this.draw=function(e,f){f=f==void 0?c:f;if(a.length>1){var g=[];a.forEach(function(a){g.push(a.getControl1(),a.getAnchor(),a.getControl2())});var h=g.length;if(f&j.Spline.CONTROLS){var l=function(a,c){e.beginPath();e.moveTo(g[a].x,g[a].y);e.lineTo(g[c].x,g[c].y);e.stroke();e.closePath()};l(1,2);for(var m=3;m<h-3;m+=3)l(m,m+1),l(m+1,m+2);l(m,m+1)}e.beginPath();e.moveTo(g[1].x,g[1].y);for(l=2;l<h-3;l+=3)e.bezierCurveTo(g[l].x,g[l].y,g[l+1].x,g[l+1].y,g[l+2].x,g[l+2].y);c&j.Spline.CLOSED&&
e.bezierCurveTo(g[h-1].x,g[h-1].y,g[0].x,g[0].y,g[1].x,g[1].y);c&j.Spline.FILL&&e.fill();c&j.Spline.STROKE&&e.stroke();e.closePath()}else throw Error("not enough spline points");};this.normalize=function(a,c,d,h,l,m){for(var l=l===true,m=m===true,n=new j.Spline,k=this.getPoints(),v=k.length,y=c.subtract(a),u=h.subtract(d),c=function(c){c=c.subtract(a).divide(y);if(l)c.x=1-c.x;if(m)c.y=1-c.y;return c.multiply(u)},d=0;d<v;d++){var t=k[d].getControl1(),r=k[d].getAnchor(),h=k[d].getControl2(),r=c(r),
t=r.subtract(c(t)).toVector(),h=c(h).subtract(r).toVector(),h=new j.SplinePoint(r.x,r.y,t.velocity,t.angle,h.velocity,h.angle);n.addPoint(h)}return n};return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.SplinePoint=function(a,c,e,f,g,h){var l,m,n;this.setAngle=function(a,c){m.angle=a;n.angle=c==void 0?a:c};this.getAnchor=function(){return l};this.getControl1=function(){return l.subtract(m.toPoint())};this.getControl2=function(){return l.add(n.toPoint())};
l=new j.Point(a,c);m=new j.Vector(e,f);n=new j.Vector(g,h==void 0?f:h);return this};this.Vector=function(a,c){this.velocity=a;this.angle=c;this.copy=function(){return new j.Vector(this.velocity,this.angle)};this.add=function(a){this.velocity+=a.velocity;this.angle+=a.angle};this.toPoint=function(){return new j.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)};return this}})})(lola);
(function(c){c.registerModule(new function(){function j(c){typeof c==="string"&&(c=a.getContext(c));return c||e}function k(c){a[c]=function(){var a=j();a[c].apply(a,arguments)}}var a=this,d=["util"],e=null,f={},g={},h={},l={};this.namespace=function(){return"graphics"};this.dependencies=function(){return d};this.registerContext=function(a,d){var e=a.getContext("2d"),d=d==void 0?c(a).identify().attr("id"):d,g=$(a).getData("_graphics",true);if(g.contexts==null)g.contexts=[];g.contexts.push(d);f[d]=
e};this.removeContext=function(a){if((a=c(a).getData("_graphics",false))&&a.contexts)for(var d;d=a.contexts.pop();)delete f[d]};this.getContext=function(a){return f[a]};this.setContext=function(a){e=j(a)};this.resetContext=function(a){typeof a=="string"&&(e=j(a));e&&c.util.copyPrimitives(g,e)};this.registerStyle=function(a,d){var e={};c.util.copyPrimitives(d,e);h[a]=e};this.removeStyle=function(a){delete h[a]};this.registerRoutine=function(a,c){l[a]=c};this.removeRoutine=function(a){delete this.routines[a]};
this.executeRoutine=function(a){if(c.hasFn(l,a))l[a](e)};this.applyStyle=function(a,d){var d=j(d),e=typeof a=="string"?h[a]||g:a;c.util.copyPrimitives(g,d);c.util.copyPrimitives(e,d)};this.draw=function(a,d){c.hasFn(a,"draw")&&a.draw(e,d)};this.clear=function(a){a=j(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){return this.s(a.registerContext)}};c.addSafeDeleteHook(a.removeContext,a);var m=document.createElement("canvas").getContext("2d"),n;for(n in m)c.type.isPrimitive(m[n])?
g[n]=m[n]:c.type.get(m[n])=="function"&&k(n)})})(lola);
(function(c){c.registerModule(new function(){function j(a,c){var d=a.getPoints(),e=d.length-1,f=[];if(e>0){c*=e;for(var j=[],k=1;k<=e;k++)j.push(d[k].getAnchor().x);for(var k=e=0,y=j[0],u=0;u<=c;u++){var t=u/c;if(t<=y){var t=(t-e)/(y-e),r=d[k].getAnchor(),p=d[k].getControl2(),o=d[k+1].getControl1(),q=d[k+1].getAnchor(),x=1-t,t=r.multiply(x*x*x).add(p.multiply(3*x*x*t),o.multiply(3*x*t*t),q.multiply(t*t*t));f.push(t)}else k++,e=y,y=j[k],u--}}return f}var k=this,a=["geometry"],d={},e="ease";this.namespace=
function(){return"easing"};this.methods=function(){return d};this.dependencies=function(){return a};this.setDefaultEase=function(a){d[a]&&(e=a,d["default"]=d[a])};this.registerEasingSpline=function(a,c,e,f){var e=e?e:1E3,f=f===true,n=c.getPoint(0).getAnchor(),k=c.getPoint(c.getPoints().length-1).getAnchor();if(n.x==0&&n.y==0&&k.x==1&&k.y==1)if(!d[a]||f)d[a]=new function(){var a=j(c,e),d=a.length;this.exec=function(c,e,g,h){c/=h;for(h=1;c>a[h].x&&h<d;)if(h++,c<=a[h].x){var f=a[h-1],n=a[h],c=(c-f.x)/
(n.x-f.x);this.lastIndex=h;return e+g*(f.y+c*(n.y-f.y))}};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,d,e,f,n){var j=c.geometry,v=new j.Spline,d=new j.Point(d,e),f=new j.Point(f,n),n=d.toVector(),f=f.toVector();v.addPoint(new j.SplinePoint(0,0,0,0,n.velocity,n.angle));v.addPoint(new j.SplinePoint(1,1,f.velocity,f.angle,1,1));k.registerEasingSpline(a,v)};this.registerEasingFn=function(a,c){d[a]=new function(){this.exec=
c;return this}};this.get=function(a){return d[a]?d[a]:(console.warn('easing method "'+a+'" not found.'),new d[e])};this.getAll=function(){return d};this.params={back:{a:2.7,b:1.7}};var f={back:{easeIn:function(a,c,d,e){return d*(a/=e)*a*(k.params.back.a*a-k.params.back.b)+c},easeOut:function(a,c,d,e){return d*((a=a/e-1)*a*(k.params.back.a*a+k.params.back.b)+1)+c}},bounce:{easeIn:function(a,c,d,e){return d-f.bounce.easeOut(e-a,0,d,e)+c},easeOut:function(a,c,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+c:
a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+c}},circular:{easeIn:function(a,c,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+c},easeOut:function(a,c,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+c}},cubic:{easeIn:function(a,c,d,e){return d*(a/=e)*a*a+c},easeOut:function(a,c,d,e){return d*((a=a/e-1)*a*a+1)+c}},elastic:{easeIn:function(a,c,d,e){if(a==0)return c;if((a/=e)==1)return c+d;var f,j;f=e*0.3;j=f/4;return-(d*Math.pow(2,10*
(a-=1))*Math.sin((a*e-j)*2*Math.PI/f))+c},easeOut:function(a,c,d,e){if(a==0)return c;if((a/=e)==1)return c+d;var f,j;j=e*0.3;f=j/4;return d*Math.pow(2,-10*a)*Math.sin((a*e-f)*2*Math.PI/j)+d+c}},exponential:{easeIn:function(a,c,d,e){return a==0?c:d*Math.pow(2,10*(a/e-1))+c},easeOut:function(a,c,d,e){return a==e?c+d:d*(-Math.pow(2,-10*a/e)+1)+c}},quadratic:{easeIn:function(a,c,d,e){return d*(a/=e)*a+c},easeOut:function(a,c,d,e){return-d*(a/=e)*(a-2)+c}},quartic:{easeIn:function(a,c,d,e){return d*(a/=
e)*a*a*a+c},easeOut:function(a,c,d,e){return-d*((a=a/e-1)*a*a*a-1)+c}},quintic:{easeIn:function(a,c,d,e){return d*(a/=e)*a*a*a*a+c},easeOut:function(a,c,d,e){return d*((a=a/e-1)*a*a*a*a+1)+c}},sine:{easeIn:function(a,c,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+c},easeOut:function(a,c,d,e){return d*Math.sin(a/e*(Math.PI/2))+c}}};(function(){var a=c.now();c.debug("lola.easing::preinitialize");k.registerSimpleEasing("none",0,0,1,1);k.registerSimpleEasing("ease",0.25,0.1,0.25,1);k.registerSimpleEasing("linear",
0,0,1,1);k.registerSimpleEasing("ease-in",0.42,0,1,1);k.registerSimpleEasing("ease-out",0,0,0.58,1);k.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);for(var d in f)if(f[d].hasOwnProperty("easeIn")&&f[d].hasOwnProperty("easeOut")){var e=f[d].easeIn,j=f[d].easeOut;k.registerEasingFn(d+"-ease-in",e);k.registerEasingFn(d+"-ease-out",j);k.registerEasingFn(d+"-ease-in-out",function(a,c,d,f){return a<f/2?e(a,c,d/2,f/2):j(a-f/2,e(f,c,d/2,f),d/2,f/2)})}d=c.now();console.log("easing preinitialization took:",
d-a);k.setDefaultEase("ease-in-out")})();return this})})(lola);
(function(c){c.registerModule(new function(){function j(d,e,f,g,h){var j,k,p;j=g.from?g.from:typeof g=="function"?g.call(e):e[f];var o=0;if(j!=null&&j!=void 0)if(c.type.isPrimitive(g))k=g;else if(g.to)o=0,k=g.to;else if(g.add)o=1,k=g.add;else{if(g.by)o=1,k=g.by}else throw Error("invalid tween parameters");var q,x;if(l[f])q=l[f];else for(var w in m)if(q=m[w],q.match.test(String(k))&&q.match.test(String(j)))break;else q=null;if(q)k=q.parse(k),j=q.parse(j),p=q.getDelta(k,j,o),x=q.proxy,q.canTween(j,
k)||(q=null);if(!q)x=c.tween.setAfterProxy,p=k;return new a.TweenObject(d,e,f,j,p,x,h)}function k(a){var d=false,f;for(f in h)if(h[f].active)if(d=true,h[f].complete){c.event.trigger(h[f],"tweencomplete",false,false);for(var j in e)for(var k in e[j]){var l=e[j][k][0].dispatcher;if(l){c.event.trigger(l,"tweencomplete",false,false);break}}delete h[f];g.push(parseInt(f))}else h[f].calculate(a);for(var m in e){var a=0,p;for(p in e[m]){for(f=[];j=e[m][p].shift();)j&&h[j.tweenId]&&h[j.tweenId].active&&(j.apply(h[j.tweenId].value),
f.push(j));e[m][p]=f;e[m][p].length==0?delete e[m][p]:a++}a==0&&delete e[m]}return d}var a=this,d=["animation","css","event","easing"],e={},f=0,g=[],h={},l={},m={};this.namespace=function(){return"tween"};this.dependencies=function(){return d};this.initialize=function(){var d=new c.animation.Animation(k,a);c.animation.register("tween",d);Object.keys(h).length>0&&c.animation.start("tween")};this.registerTween=function(a){var c=g.length>0?g.pop():f++;h[c]=a;return c};this.start=function(a){h[a]&&h[a].start()};
this.stop=function(a){h[a]&&h[a].stop()};this.pause=function(a){h[a]&&h[a].pause()};this.resume=function(a){h[a]&&h[a].resume()};this.addTarget=function(a,d,f,g){if(h[a]){g=g===true;c.type.get(d)!="array"&&(d=[d]);for(var k=d.length,l=0;l<k;l++){var m=d[l],p=$(m).identify().attr("id");e[p]||(e[p]={});for(var o in f)if(o=="style")for(var q in f[o]){if(g||e[p]["style:"+q]==null){if(!f[o][q].from&&!m.style[q]){var x=c.css.style(m,q);typeof f[o][q]=="object"?f[o][q].from=x:f[o][q]={from:x,to:String(f[o][q])}}e[p]["style:"+
q]||(e[p]["style:"+q]=[]);g?e[p]["style:"+q].push(j(a,m.style,q,f[o][q],m)):e[p]["style:"+q]=[j(a,m.style,q,f[o][q],m)]}}else this.targets[p][o]||(this.targets[p][o]=[]),g?this.targets[p][o].push(j(a,m,o,f[o],m)):this.targets[p][o]=[j(a,m,o,f[o],m)]}}else throw Error("tween not found");};this.addTweenType=function(a,c){m[a]=c};this.addTweenType("simple",{match:c.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,c){return a!=void 0&&c!=void 0},getDelta:function(a,c,d){return d?
a:a-c},proxy:null});this.addTweenType("dimensional",{match:c.regex.isDimension,parse:function(a){a=String(a).match(c.regex.isDimension);return{value:parseFloat(a[1]),units:a[2]}},canTween:function(a,c){return a&&c&&(a.units==c.units||a.units==""&&c.units!="")},getDelta:function(a,c,d){return d?{value:a.value,units:a.units}:{value:a.value-c.value,units:a.units}},proxy:function(a,c,d,e,f){a[c]=d.value+e.value*f+e.units}});this.addTweenType("color",{match:c.regex.isColor,parse:function(a){return(new c.css.Color(a)).getRgbValue()},
canTween:function(a,c){return a&&c},getDelta:function(a,c,d){return d?{r:a.r,g:a.g,b:a.b,a:a.a}:{r:a.r-c.r,g:a.g-c.g,b:a.b-c.b,a:a.a-c.a}},proxy:function(a,d,e,f,g){var h=(e.r+f.r*g)*255|0,j=(e.g+f.g*g)*255|0,k=(e.b+f.b*g)*255|0,e=e.a+f.a*g;a[d]=c.support.colorAlpha?"rgba("+[h,j,k,e].join(",")+")":"rgb("+[h,j,k].join(",")+")"}});this.selectorMethods={tween:function(c,d,e,f,g){var h=[];this.forEach(function(a){h.push(a)});d=a.registerTween(new a.Tween(d,f,e));a.addTarget(d,h,c,g);a.start(d);return this}};
this.Tween=function(a,c,d){this.init(a,c,d);return this};this.Tween.prototype={startTime:-1,pauseTime:-1,lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:false,complete:false,init:function(a,d,e){this.duration=a;this.easing=typeof d=="function"?d:typeof d=="string"?c.easing.get(d):c.easing.get("default");this.delay=e||0;if(!d)this.easing={exec:function(a,c,d,e){return a/e*d+c}}},calculate:function(a){a=a-this.startTime-this.delay;if(a>=this.duration)a=this.duration,this.active=this.complete=
true;console.log("value",this.value);this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){if(!this.active)this.active=true,this.startTime=c.now(),c.animation.start("tween"),c.event.trigger(this,"tweenstart",false,false)},stop:function(){this.active=false;this.complete=true;c.event.trigger(this,"tweenstop",false,false)},pause:function(){if(this.active)this.active=false,this.pauseTime=c.now(),c.event.trigger(this,"tweenpause",false,false)},resume:function(){if(!this.active)this.active=
true,this.startTime+=c.now()-this.pauseTime,c.animation.start("tween"),c.event.trigger(this,"tweenresume",false,false)}};this.TweenObject=function(a,c,d,e,f,g,h){this.init(a,c,d,e,f,g,h);return this};this.TweenObject.prototype={target:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",dispatcher:null,init:function(a,c,d,e,f,g,h){this.target=c;this.property=d;this.tweenId=a;this.initialValue=e;this.deltaValue=f;this.proxy=g;this.dispatcher=h},apply:function(a){this.proxy?
this.proxy(this.target,this.property,this.initialValue,this.deltaValue,a):this.target[this.property]=this.initialValue+this.deltaValue*a}}})})(lola);
(function(c){c.registerModule(new function(){var c=this,k=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return k};this.Grid=function(a,d,e,f,g,h){this.draw=function(k,m){var m=m==void 0?h:m,n;if(m&c.Grid.VERTICAL)for(n=a+g;n<=e+a;n+=g)k.beginPath(),k.moveTo(n,d),k.lineTo(n,d+f),k.stroke(),k.closePath();if(m&c.Grid.HORIZONTAL)for(n=d+g;n<=f+d;n+=g)k.beginPath(),k.moveTo(a,n),k.lineTo(a+e,n),k.stroke(),k.closePath()};return this};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=
2;this.Axis=function(a,d,e,f,g,h){this.draw=function(k,m){m=m==void 0?h:m;k.beginPath();k.moveTo(a,d);m&c.Axis.VERTICAL?k.lineTo(a,d+e):k.lineTo(a+e,d);k.stroke();k.closePath();if(f)m&c.Axis.VERTICAL?(k.textAlign="center",k.fillText(f,a+g.x,d+e+g.y)):(k.textAlign="right",k.fillText(f,a+g.x,d+g.y))};return this};this.Axis.VERTICAL=1})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return c};this.pv=function(c,a,d){return c/Math.pow(1+a,d)};this.fv=function(c,a,d){return c*Math.pow(1+a,d)};this.pva=function(c,a,d){return c*(1-1/Math.pow(1+a,d))/a};this.fva=function(c,a,d){return c*(Math.pow(1+a,d)-1)/a};this.payment=function(c,a,d,e){d=Math.pow(1+a,d);return c*a/(1-1/d)-e*a/(d-1)}})})(lola);
(function(c){c.registerModule(new function(){function j(f){f=new c.http.SyncRequest(f);f.send();var g=f.responseXML(),f=[];if(g.documentElement.tagName=="tests")for(var g=g.documentElement,j=g.childNodes.length,k=0;k<j;k++){var m=g.childNodes[k];if(m.nodeType==1)switch(m.nodeName.toLowerCase()){case "script":m=new a(m);f.push(m);break;case "test":m=new d(m);f.push(m);break;case "xml":m=new e(m),f.push(m)}}f.unshift(0);f.unshift(h+1);l.splice.apply(l,f)}function k(){h++;if(h<l.length){var a=l[h];m=
a;a.execute()&&setTimeout(function(){k()},2)}else console.log("lola.test.complete")}function a(a){var d="",e="";this.execute=function(){n("executing",'"'+d+'"',"script");c.evaluate(e);return true};if(a.hasAttribute("name"))d=a.attributes.getNamedItem("name").nodeValue;for(var f="",g=0;g<a.childNodes.length;g++)f+=a.childNodes[g].data;e=f;return this}function d(a){function d(){switch(g){case "equals":(l=f==h)||(w="assertion false: "+f+" == "+h);break;case "strictlyEquals":(l=f===h)||(w="assertion false: "+
f+" === "+h);break;case "doesNotEqual":(l=f!=h)||(w="assertion false: "+f+" != "+h);break;case "greaterThan":(l=f>h)||(w="assertion false: "+f+" > "+h);break;case "lessThan":(l=f<h)||(w="assertion false: "+f+" < "+h);break;case "greaterThanOrEquals":(l=f>=h)||(w="assertion false: "+f+" >= "+h);break;case "lessThanOrEquals":(l=f<=h)||(w="assertion false: "+f+" <= "+h);break;default:(l=f==h)||(w="assertion false: "+f+" == "+h)}l||(w="failed, "+w,s("    ",w))}var e,f,g="==",h,j,m=false,l,w="";this.execute=
function(){n(e);try{return m?(c.evaluate(j),false):(f=eval(j),d(),true)}catch(a){return l=false,w="failed due to error: "+a.message,s("    ",w),n("    ",a),true}};this.setResult=function(a){f=a;d();k()};(function(a){e=a.attributes.getNamedItem("name").nodeValue;a.hasAttribute("async")&&(m=a.attributes.getNamedItem("async").nodeValue=="true");a.hasAttribute("equals")?g="equals":a.hasAttribute("strictlyEquals")?g="strictlyEquals":a.hasAttribute("doesNotEqual")?g="doesNotEqual":a.hasAttribute("greaterThan")?
g="greaterThan":a.hasAttribute("lessThan")?g="lessThan":a.hasAttribute("greaterThanOrEquals")?g="greaterThanOrEquals":a.hasAttribute("lessThanOrEquals")&&(g="lessThanOrEquals");var c=a.attributes.getNamedItem(g).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":h=parseFloat(c);break;case "int":h=parseInt(c);break;case "bool":h=c==="true";break;default:h=String(c)}for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;j=c})(a);return this}function e(a){var c;if(a.hasAttribute("src"))c=
a.attributes.getNamedItem("src").nodeValue;this.execute=function(){n("================================================\nsource\n================================================");c&&j(c);return true}}var f=[],g="tests.xml",h=-1,l=[],m=null,n=function(){console.log([].splice.call(arguments,0).join(" "))},s=function(){console.error([].splice.call(arguments,0).join(" "))};this.namespace=function(){return"test"};this.dependencies=function(){return f};this.setLogFn=function(a){n=a};this.setErrorFn=function(a){s=
a};this.setSource=function(a){g=a};this.current=function(){return m};this.start=function(){l=[];n("lola.test.run: "+g);j(g);h=-1;k();return""}})})(lola);(function(c){document.readyState==="complete"?c.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",c.initialize,false),c.window.addEventListener("load",c.initialize,false)):document.attachEvent&&(document.attachEvent("onreadystatechange",c.initialize),c.window.attachEvent("onload",c.initialize))})(lola);