"use strict";(function(b){var i=(new Date).getTime(),h=function(a,b){return new h.Selector(a,b)};h.window=b;var a=!1;h.isInitialized=function(){return a};h.extend=function(a,b,f,e,g,k){void 0==f&&(f=!1);void 0==e&&(e=!1);void 0==k&&(k=[]);for(var l in b)if(-1==k.indexOf(l))if(f||null==a[l])a[l]=b[l];else if(e)throw Error("property "+l+" already exists on extend target!");};h.getPackage=function(a,b,f){if("string"===typeof b)for(var b=b.split("."),e;e=b.shift();)null==a[e]&&(a[e]={}),0==b.length&&f&&(a[e]=f),a=
a[e];return a};h.registerModule=function(a,b){var b=void 0==b?!1:b,f=a.namespace();b?h.extend(h.getPackage(h,f),a,!1,!1):h.getPackage(h,f,a);this.hasFn(a,"dependencies")&&h.addDependencies(f,a.dependencies());a.selectorMethods&&(h.extend(h.Selector.prototype,a.selectorMethods,!1,!1),delete a.selectorMethods);h.hasFn(a,"initialize")&&h.addInitializer(a.initialize);h.debug("module registered:",f)};h.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",h.initialize,
!1),h.window.removeEventListener("load",h.initialize,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",h.initialize),h.window.detachEvent("onload",h.initialize));h.checkDependencies();h.executeInitializers();a=!0;var b=(new Date).getTime()-i;delete h.initialize;h.debug("initialization completed in",b,"ms")};b.lola=h;b.$=h})(window);Object.keys||(Object.keys=function(b){var i=[],h;for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&i.push(h);return i});Object.forEach||(Object.forEach=function(b,i,h){if(void 0===b||null===b)throw new TypeError;b=Object(b);if("function"!==typeof i)throw new TypeError;for(var a in b)b.hasOwnProperty(a)&&i.call(h,b[a],a,b)});
Array.prototype.forEach||(Array.prototype.forEach=function(b,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),a=h.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=0;c<a;c++)c in h&&b.call(i,h[c],c,h)});
Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(void 0===this||null===this)throw new TypeError;var i=Object(this),h=i.length>>>0;if(0===h)return-1;var a=0;0<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));if(a>=h)return-1;for(a=0<=a?a:Math.max(h-Math.abs(a),0);a<h;a++)if(a in i&&i[a]===b)return a;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(b){if(void 0===this||null===this)throw new TypeError;var i=Object(this),h=i.length>>>0;if(0===h)return-1;var a=h;1<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));for(h=0<=a?Math.min(a,h-1):h-Math.abs(a);0<=h;h--)if(h in i&&i[h]===b)return h;return-1});
Array.prototype.filter||(Array.prototype.filter=function(b,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),a=h.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=[],d=0;d<a;d++)if(d in h){var f=h[d];b.call(i,f,d,h)&&c.push(f)}return c});
Array.prototype.every||(Array.prototype.every=function(b,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),a=h.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=0;c<a;c++)if(c in h&&!b.call(i,h[c],c,h))return!1;return!0});
Array.prototype.map||(Array.prototype.map=function(b,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),a=h.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=Array(a),d=0;d<a;d++)d in h&&(c[d]=b.call(i,h[d],d,h));return c});
Array.prototype.some||(Array.prototype.some=function(b,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),a=h.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=0;c<a;c++)if(c in h&&b.call(i,h[c],c,h))return!0;return!1});
Array.prototype.reduce||(Array.prototype.reduce=function(b){var i,h=this.length,a;if("function"!==typeof b)throw new TypeError("First argument is not callable");if((0==h||null===h)&&1>=arguments.length)throw new TypeError("Array length is 0 and no second argument");1>=arguments.length?(a=this[0],i=1):a=arguments[1];for(i=i||0;i<h;++i)i in this&&(a=b.call(void 0,a,this[i],i,this));return a});
Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)||b instanceof Array});String.prototype.trim||(String.prototype.trim=function(){return(""+this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});(function(b){b.Selector=function(i,h){var a=0;if(Array.isArray(i))for(var c=i.length,a=0;a<c;a++)this[a]=c[a];else if("object"===typeof i)this[a]=i,a++;else if("string"===typeof i)if(window.Sizzle)for(var d=Sizzle(i,h),a=0;a<c;a++)this[a]=d[a];else try{h||(h=document);for(var d=h.querySelectorAll(i),f=d.length,a=0;a<f;a++)this[a]=d.item(a);this.length=a}catch(e){console.warn("Exception:",i)}else"function"==typeof i&&b.addInitializer(i);this.length=a;return this};b.Selector.prototype={};b.Selector.prototype.forEach=
Array.prototype.forEach;b.Selector.prototype.every=Array.prototype.every;b.Selector.prototype.filter=Array.prototype.filter;b.Selector.prototype.indexOf=Array.prototype.indexOf;b.Selector.prototype.join=Array.prototype.join;b.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;b.Selector.prototype.map=Array.prototype.map;b.Selector.prototype.push=Array.prototype.push;b.Selector.prototype.pop=Array.prototype.pop;b.Selector.prototype.shift=Array.prototype.shift;b.Selector.prototype.unshift=Array.prototype.unshift;
b.Selector.prototype.slice=Array.prototype.slice;b.Selector.prototype.splice=Array.prototype.splice;b.Selector.prototype.reverse=Array.prototype.reverse})(lola);(function(b){var i=new function(){function h(a){var j=[];Object.forEach(a,function(a){b.hasPackage(b,a)||j.push(a)});return j}var a=this,c={},d=0,f=[],e=[],g=!1,k;this.namespace=function(){return""};this.dependencies=function(){return c};this.url=function(){return k};this.setURL=function(e){k=new a.URL(e);g="true"==k.vars.debug};this.debugMode=function(){return g};this.getGUID=function(){return d++};this.addInitializer=function(a){b.isInitialized()?a(b):f.push(a)};this.addSafeDeleteHook=function(a,
j){e.push({fn:a,scope:j})};this.addDependencies=function(a,j){c[a]=j};this.safeDelete=function(a,j){for(var g=j?a[j]:a,b=e.length-1;0<=b;b--)if(g){var c=e[b];c.fn.call(c.scope,g)}a&&j&&delete a[j]};this.checkDependencies=function(a){var a=a?a:c,j=[],e;for(e in a){var g=h(a[e]);0<g.length&&j.push(e+": "+g.join(", "))}if(0<j.length)throw Error("module dependency checks failed for: \n\t"+j.join("\n\t"));};this.executeInitializers=function(){b.debug("core::executeInitializers");var a,j=f.length;for(a=
0;a<j;a++)b.hasFn(f,a)&&(f[a](b),delete f[a])};this.evaluate=function(a,j){null==j&&(j=document.getElementsByTagName("head")[0],j||(j=document.documentElement));var e=document.createElement("script");e.type="text/javascript";b.support.domEval?e.appendChild(document.createTextNode(a)):e.text=a;j.insertBefore(e,j.firstChild);j.removeChild(e)};this.loadScript=function(a,j){var e=document.getElementsByTagName("head")[0];e||(e=document.documentElement);var g=document.createElement("script");"function"==
typeof j&&b.event.addListener(g,"load",function(){j.apply()});g.src=a;e.insertBefore(g,e.firstChild)};this.hasPackage=function(a,j){var e=a;if("string"===typeof j)for(var g=j.split("."),b;b=g.shift();){if(null==e[b])return!1;e=e[b]}return!0};this.hasFn=function(a,j){return a&&a[j]&&"function"==typeof a[j]};this.debug=function(){g&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return 1==a.length?a[0]:a};this.selectorMethods=
{identify:function(){this.forEach(function(a){a.id||(a.id="lola-guid-"+b.getGUID())});return this},get:function(a){void 0==a&&(a=0);return this[a]},at:function(a){void 0==a&&(a=0);return b(this[a])},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,j){var e=this;a instanceof b.Selector?a.forEach(function(a){e.push(a)}):Array.isArray(a)?a.forEach(function(a){e.push(a)}):e.push(a);if(void 0==j||!0===j){var g=b.array.unique(this);this.splice(0,this.length);
g.forEach(function(a){e.push(a)})}return this},g:function(){return b.__(this.i.apply(this,arguments))},s:function(){this.i.apply(this,arguments);return this},_:function(){var a=this.i.apply(this,arguments);return void 0==arguments[arguments.length-1]?b.__(a):this},i:function(){var a=[],j=this,e=arguments.length;if(e){for(var g=arguments[0],b=[],c=1;c<e;c++)b.push(arguments[c]);this.forEach(function(e){a.push(g.apply(j,[e].concat(b)))})}return a}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?
a[1]:"";var j={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,e,g){j[e]=g;return""});this.vars=j;a=a.split(":");2==a.length?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=""==this.domain?"":"/";0<a.length&&(this.path=this.path+a.join("/")+"/");return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(j,e){a.push(e+"="+j)});var j=a.length?
"?"+a.join("&"):"",e=""==this.hash?"":"#"+this.hash;return""!=this.protocol?this.protocol+"://"+this.domain+this.path+this.page+j+e:this.path+this.page+j+e}};return this};i.setURL(b.window.location.href);b.registerModule(i,!0)})(lola);(function(b){b.registerModule(new function(){var i=this,h=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=!1;this.deleteExpando=!0;this.msEvent=!1;this.dataset=this.domEvent=!0;this.animationFrameType=0;this.cssRules=!1;this.namespace=function(){return"support"};this.dependencies=function(){return h};this.initialize=function(){b.debug("lola.support::initialize");i.cssRules=0<document.styleSheets.length&&document.styleSheets[0].cssRules||void 0==document.createStyleSheet?!0:!1};var a=document.documentElement,
c=document.createElement("script"),d="scriptCheck"+(new Date).getTime();c.type="text/javascript";try{c.appendChild(document.createTextNode("lola.window."+d+"=true;"))}catch(f){}a.insertBefore(c,a.firstChild);a.removeChild(c);i.domEval=b.window[d];delete b.window[d];a=document.createElement("div");a.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' data-test='yes' >test</div>";c=a.firstChild;i.style="string"===typeof c.getAttribute("style");
i.cssFloat=/^left$/.test(c.style.cssFloat);i.colorAlpha=/^rgba.*/.test(c.style.backgroundColor);try{delete c.test}catch(e){i.deleteExpando=!1}a.hasOwnProperty("dataset")&&(i.dataset=!0);document.addEventListener?i.domEvent=!0:document.attachEvent&&(i.msEvent=!0);window.requestAnimationFrame?i.animationFrameType=1:window.mozRequestAnimationFrame?i.animationFrameType=2:window.webkitRequestAnimationFrame?i.animationFrameType=3:window.oRequestAnimationFrame&&(i.animationFrameType=4)})})(lola);(function(b){b.registerModule(new function(){function b(a){return function(b,d){var f=b[a],e=d[a];return f<e?-1:f>e?1:0}}var h=[];this.namespace=function(){return"array"};this.dependencies=function(){return h};this.hasObjectWithProperty=function(a,b,d){return a.some(function(a){return a[b]==d})};this.unique=function(a){for(var b=[],d=a.length-1;0<=d;d--)-1==b.indexOf(a[d])&&b.push(a[d]);return b};this.isIn=function(a,b){return 0<=a.indexOf(b)};this.pruneNulls=function(a){var b=[];a.forEach(function(a){null!=
a&&b.push(a)});return b};this.sortOn=function(a,c){return c.sort(b(a))};this.selectorMethods={}})})(lola);(function(b){b.registerModule(new function(){function i(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),e=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),e=""==e?"Element":e;f[a]=e.toLowerCase();a="lola.Selector.prototype['is"+e+"'] = function(index){ return this.isType('"+e.toLowerCase()+"',index); };";b.evaluate(a)}function h(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),e=a.replace(/\[object /g,"").replace(/Element\]/g,""),e=""==e?"Element":
e;f[a]=e.toLowerCase();a="lola.Selector.prototype['is"+e+"'] = function(index){ return this.isType('"+e.toLowerCase()+"',index); };";b.evaluate(a)}function a(a){f["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";b.evaluate(a)}var c=this,d=[],f={},e=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return d};this.get=function(a){return(a=
f[Object.prototype.toString.call(a)])?a:"other"};this.isPrimitive=function(a){return 0<=e.indexOf(c.get(a))};this.selectorMethods={getType:function(){return this.g(c.get)},isType:function(a,e){return void 0!=e&&0<=e?c.get(this[e])===a:this.every(function(e){return c.get(e)===a})},isPrimitive:function(a){return void 0!=a&&0<=a?c.isPrimitive(this.getType(a)):this.every(function(a){return 0<=c.isPrimitive(a)})}};(function(){"String,Number,Date,Array,Boolean,RegExp,Function,Object,Undefined,Null".split(",").forEach(a);
"a,abbr,acronym,address,applet,area,article,aside,audio,b,base,bdi,bdo,big,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,dir,div,dl,dt,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,label,legend,li,link,map,mark,menu,meta,meter,nav,noframes,noscript,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,s,samp,script,section,select,small,source,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbrxmp".split(",").forEach(i);
["object"].forEach(h);var e=document.createTextNode("test"),c=document.createComment("test"),e=Object.prototype.toString.call(e),c=Object.prototype.toString.call(c),d=Object.prototype.toString.call(b.window);f[e]="textnode";f[c]="commentnode";f[d]="window"})()})})(lola);(function(b){b.registerModule(new function(){function i(a){a.trigger("contentchanged",!0);return a}var h=this,a=[],c={};this.namespace=function(){return"dom"};this.dependencies=function(){return a};this.attr=function(a,f,e,g){if(!1!==g&&c[f])return c[f].apply(a,arguments);if(a){if(e||""==e){if(b.type.isPrimitive(e))return a[f]=e;throw Error("attribute values must be primitives");}return a[f]}};this.addAttrHook=function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(a){c[a]=b})};this.deleteExpando=
function(a,c){b.support.deleteExpando?delete a[c]:a[c]=null};this.isDescendant=function(a,b){return h.isAncestor(b,a)};this.isAncestor=function(a,b){for(var e=b;e&&(e=e.parentNode)&&"BODY"!=e.nodeName;)if(a==e)return!0;return!1};this.selectorMethods={find:function(a){var b=$([]);this.forEach(function(e){e=$(a,e);b.concat(e)});return b},generation:function(a){a||(a=1);var b=$([]);this.forEach(function(e){for(var g=0;e=e.parentNode&&g<a;)g++;e&&b.concat([e])});return b},html:function(a){if(0==arguments.length){var c=
[];this.forEach(function(a){c.push(a?a.innerHTML:null)});return b.__(c)}this.forEach(function(e){if(e.childNodes){for(var g=e.childNodes.length,c=0;c<g;c++){var f=e.childNodes.item(c);b.safeDelete(f)}switch(b.type.get(a)){case "null":case "undefined":e.innerHTML="";break;case "string":e.innerHTML=a;break;case "array":e.innerHTML="";for(var j in a)e.appendChild(j);break;default:e.innerHTML="",e.appendChild(a)}}});return i(this)},appendChild:function(a){if(0<this.length){var b=this.get();b&&b.appendChild&&
b.appendChild(a)}return i(this)},prependChild:function(a){0<this.length&&this.get().insertBefore(a,this.get().firstChild);return i(this)},cloneNode:function(a){return 0<this.length?this.get().cloneNode(a):null},insertBefore:function(a){1==this.length&&this.parent().insertBefore(a,this[0]);return i(this)},insertAfter:function(a){1==this.length&&this.parent().insertAfter(a,this[0]);return i(this)},removeChild:function(a){0<this.length&&(b.safeDelete(a),this.get().removeChild(a));return i(this)},replaceChild:function(a,
c){0<this.length&&(b.safeDelete(c),this.get().replaceChild(a,c));return i(this)},attr:function(a,c){if(void 0!=c)return this.forEach(function(e){h.attr(e,a,c)}),this;var e=[];this.forEach(function(b){e.push(h.attr(b,a))});return b.__(e)},removeAttr:function(a){this.forEach(function(b){b.removeAttribute(a)});return this},parent:function(a){if(void 0!=a)return this.forEach(function(e){$(a).appendChild(e)}),this;var c=[];this.forEach(function(a){c.push(a?a.parentNode:null)});return b.__(c)},nodeIndex:function(){var a=
[];this.forEach(function(b){if(b.previousSibling){for(var e=0;null!=(b=b.previousSibling);)e++;a.push(e)}else a.push(0)});return b.__(a)},deleteExpando:function(a){return this.s(b.deleteExpando,a)}};h.addAttrHook(["value","checked","selected"],function(a,c,e){var g=h.attr(a,c,void 0,!1);return void 0!=e?(c=h.attr(a,c,e,!1),g!=e&&b.event.trigger(a,"change",!1,!1),c):g})})})(lola);(function(b){b.registerModule(new function(){function i(a,g){var g=void 0==g?!0:g,c=b.dom.attr(a,f);if(null==c)switch(b.type.get(a)){case "function":case "object":c=a[f];null==c&&g&&(c=d++,a[f]=c);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:c=b.dom.attr(a,f),null==c&&g&&(c=d++,b.dom.attr(a,f,c))}return c}var h=this,a=["dom","type"],c={},d=1,f="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return a};this.get=function(a,b,k){var d=i(a,!1);return null==c[b]||null==d?k?h.set(a,{},b,!1):null:c[b][d]};this.getNamespaceData=function(a){return c[a]};this.set=function(a,g,k,d){a=i(a,!0);null==c[k]&&(c[k]={});d||null==c[k][a]?c[k][a]=g:b.extend(c[k][a],g,!0);return c[k][a]};this.remove=function(a,g,k){var d=i(a,!1);if(d){if(null==g||void 0==g){var g=[],j;for(j in c)g.push(j)}else"array"!=b.type.get(g)&&(g=[g]);g.forEach(function(a){delete c[a][d]})}void 0===
k&&(k=!0);k&&a.childNodes&&"array"==b.type.get(a.childNodes)&&a.childNodes.forEach(function(a){h.remove(a,g,!0)})};this.dataset=function(a,g,c){if(void 0!=c)b.support.dataset?a.dataset[g]=c:b(a).attr("data-"+g,c);else return b.support.dataset?a.dataset[g]:b(a).attr("data-"+g)};this.selectorMethods={getData:function(a,b){return this.g(h.get,a,b)},putData:function(a,b){return this.s(h.set,a,b)},updateData:function(a,b){return this.s(h.set,a,b,!1)},removeData:function(a,b){return this.s(h.remove,a,b)},
removeAllData:function(a){return this.removeData(null,a)},dataset:function(a,b){return this._(h.dataset,a,b)}};b.addSafeDeleteHook(this.remove,this)})})(lola);(function(b){b.registerModule(new function(){var i=[];this.namespace=function(){return"util"};this.dependencies=function(){return i};this.copyPrimitives=function(h,a){for(var c in h)b.type.isPrimitive(h[c])&&(a[c]=h[c])};this.checkArgs=function(h,a,c){for(var d=!0,f=[],e=a.length-1;0<=e;e--)if(void 0===a[e][1]||null===a[e][1])d=!1,f.push(a[e][0]+" is not set!");d||(console.groupCollapsed?console.groupCollapsed(h):console.group(h),"array"==b.type.get(c)&&c.forEach(function(a){console.info(a)}),f.forEach(function(a){console.warn(a)}),
console.groupEnd());return d};this.getInlineValue=function(h,a,c,d){h=$('script[type="text/x-lola-'+a+'"]',h);return h.length&&(h=eval(h[0].innerHTML),b.type.get(h)===c.toLowerCase())?h:d};this.nodeList2Array=function(b){try{return Array.prototype.slice.call(b,0)}catch(a){for(var c=[],d=b.length;d--;c.unshift(b[d]));return c}};this.selectorMethods={compareValues:function(b,a,c){var d=c;"string"===typeof b?this.foreach(function(c){d=a.call(this,d,Number(c[b]))}):"function"===typeof b&&this.foreach(function(c){d=
a.call(this,d,b.call(this,c))});return d}}})})(lola);(function(b){b.registerModule(new function(){var b=[];this.namespace=function(){return"string"};this.dependencies=function(){return b};this.padFront=function(b,a,c){for(var b=b.toString(),d=b.length,b=[b];d<c;)b.push(a),d++;return b.join("")};this.padEnd=function(b,a,c){for(var b=b.toString(),d=b.length,b=[b];d<c;)b.unshift(a),d++;return b.join("")};this.camelCase=function(b){for(var b=(""+b).split("-"),a=b.length,c=1;c<a;c++)0<b[c].length&&(b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1));return b.join("")};
this.dashed=function(b){for(var b=b.split(""),a,c=[];a=b.shift();)a==a.toUpperCase()&&c.push("-"),c.push(a.toLowerCase());return c.join("")};this.obfuscate=function(b,a){var c=Array(b.length),d=b.split("");d.forEach(function(a,e){c[e]=b.charCodeAt(e)});for(a||(a=1);a;)c.forEach(function(a,b){a+=b%8*(0==b%2?1:-1);c[b]=a;d[b]=String.fromCharCode(a)}),a--;return d.join("")};this.unobfuscate=function(b,a){var c=Array(b.length),d=b.split("");d.forEach(function(a,e){c[e]=b.charCodeAt(e)});for(a||(a=1);a;)c.forEach(function(a,
b){c[b]=a-b%8*(0==b%2?1:-1)}),a--;c.forEach(function(a,b){d[b]=String.fromCharCode(a)});return d.join("")}})})(lola);(function(b){b.registerModule(new function(){var b=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return b};this.selectorMethods={}})})(lola);(function(b){b.registerModule(new function(){function i(j){j=j||b.window.event;a(j,"capture")}function h(j){j=j||b.window.event;a(j,"bubble")}function a(a,e){var a=a?a:window.event,c=a.originalEvent?a:new k(a,{}),d=b.data.get(c.currentTarget,g);if(d&&d[e]&&d[e][a.type]){var l=[],f;for(f in d[e][a.type])l.push(d[e][a.type][f]);var l=b.array.sortOn("priority",l),h;for(h in l){if(c._immediatePropagationStopped)break;f=l[h];f.handler?f.handler.call(f.scope,c):delete d[e][a.type][f.huid]}}}var c=this;
this.PRIORITY_BEFORE=1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var d=["data","util","type"],f={mousewheel:["mousewheel","DOMMouseScroll"]},e={},g="_event";this.namespace=function(){return"event"};this.dependencies=function(){return d};this.addHook=function(a,b){e[a]=b};this.addListener=function(a,m,k,d,l,f,o){if(b.util.checkArgs("ERROR: lola.event.addListener( "+m+" )",[["target",a],["type",m],["handler",k]],[a,"type: "+m,"useCapture: "+
d])){if(!1!==o&&null!=e[m])return f=e[m],f.addListener(a,m,k,d,l,f);o=b.data.get(a,g);o||(o={capture:{},bubble:{}},b.data.set(a,o,g,!0));d=c.phaseString(a,d);l=l||c.PRIORITY_NORMAL;null==k.uid&&(k.uid=n++);var n=k.uid;null==o[d][m]&&(o[d][m]={});o[d][m][n]={priority:l,huid:n,handler:k,scope:f||a};"capture"==d?c.addDOMListener(a,m,i,!0):c.addDOMListener(a,m,h,!1);return n}};this.removeListener=function(a,m,k,d,l){b.util.checkArgs("ERROR: lola.event.removeListener( "+m+" )",[["target",a],["type",m],
["handler",k]],[a,"type: "+m,"useCapture: "+d])&&(!1!==l&&null!=e[m]?e[m].removeListener.call(e[m],a,m,k,d):((l=b.data.get(a,g))||(l={capture:{},bubble:{}}),d=c.phaseString(a,d),k="function"==b.type.get(k)?k.uid:k,delete l[d][m][k],0==Object.keys(l[d][m]).length&&("capture"==d?c.removeDOMListener(a,m,i,!0):c.removeDOMListener(a,m,h,!1))))};this.removeHandler=function(a,e,k){if(b.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a="function"==b.type.get(a)?a.uid:a,d=b.data.getNamespace(g);
if(d){var k=void 0==k?["capture","bubble"]:k?["capture"]:["bubble"],l;for(l in d){void 0!=e&&(e="array"==b.type.get(e)?e:[e]);for(var f in k){var o;if(e)for(o in e)d[l][f][o]&&delete d[l][f][o][a];else for(o in d[l][f])delete d[l][f][o][a];0==Object.keys(d[l][f][o]).length&&c.removeDOMListener(target,o,"capture"==f?i:h,"capture"==f)}}}}};this.trigger=function(j,e,c,g,d){if(b.util.checkArgs([j,e],["target","type"],"lola.event.trigger: type="+e+" bubbles="+c)){void 0==c&&(c=!0);void 0==g&&(g=!0);var l=
e;"string"===b.type.get(l)&&(l=document.createEvent("Event"),l.initEvent(e,c,g),l.data=d);j.dispatchEvent?j.dispatchEvent(l):(l=new k(l,j),a(l,"capture"),c&&a(l,"bubble"))}};this.addDOMListener=function(a,e,c,g){e=f[e]?f[e]:[e];e.forEach(function(d){try{b.support.domEvent&&a.addEventListener?a.addEventListener(d,c,g):b.support.msEvent&&a.attachEvent?a.attachEvent("on"+d,c):null==a["on"+d.toLowerCase()]&&(a["on"+e.toLowerCase()]=c)}catch(k){b.debug("lola.event.addDOMListener error:",a,e,c,g)}})};this.removeDOMListener=
function(a,e,c,g){e=f[e]?f[e]:[e];e.forEach(function(){try{b.support.domEvent&&a.removeEventListener?a.removeEventListener(e,c,g):b.support.msEvent&&a.detachEvent?a.detachEvent("on"+e,c):null==a["on"+e.toLowerCase()]&&delete a["on"+e.toLowerCase()]}catch(d){b.debug("lola.event.removeDOMListener error:",a,e,c,g)}})};this.getDOMTarget=function(a,b){a&&(a.currentTarget?b=a.currentTarget:a.srcElement&&(b=a.srcElement),b&&3==b.nodeType&&(b=b.parentNode));return b};this.getDOMKeycode=function(a){var b;
a.keyCode?b=a.keyCode:a.which&&(b=a.which);return b};this.getDOMKey=function(a){a=c.getDOMKeycode(a);return 65535<a?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):String.fromCharCode(a)};this.getDOMGlobalXY=function(a){console.log("getDOMGlobalXY:",a);var b=0,e=0;if(a.pageX||a.pageY)b=a.pageX,e=a.pageY;else if(a.clientX||a.clientY)b=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,e=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:b,
y:e}};this.getDOMLocalXY=function(a){var e=a.offsetX||void 0,g=a.offsetY||void 0;if(void 0!=a.currentTarget&&(void 0==e||void 0==g))g=b.geometry.getOffset(a.currentTarget),a=c.getDOMGlobalXY(a),e=a.x-g.x,g=a.y-g.y;return{x:e,y:g}};this.phaseString=function(a,e){return e&&(b.support.domEvent||b.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&
a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1;return!1};this.selectorMethods={addListener:function(a,b,e,g,d){return this.s(c.addListener,a,b,e,g,d)},removeListener:function(a,b,e){return this.s(c.removeListener,a,b,e)},removeHandler:function(a,b,e){return this.s(c.removeHandler,a,b,e)},trigger:function(a,b,e,g){return this.s(c.trigger,a,b,e,g)}};var k=function(a,b){return this.init(a,b)};k.prototype={originalEvent:null,propagationStopped:!1,
immediatePropagationStopped:!1,target:null,currentTarget:null,globalX:null,globalY:null,key:null,init:function(a,e){b.extend(this,a,!1,!1,!1,["layerX","layerY"]);this.originalEvent=a;e&&(this.target=e);this.currentTarget=c.getDOMTarget(a,e);var g=c.getDOMGlobalXY(a);this.globalX=g.x;this.globalY=g.y;g=c.getDOMLocalXY(a);this.localX=g.x;this.localY=g.y;this.key=c.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();
this.propagationStopped=!0},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();this.immediatePropagationStopped=!0}};this.AliasHook=function(a){this.addListener=function(e,c,g,d,k,l){b.debug("alias hook addListener",c);var f;a.forEach(function(a){b.debug("    ",a);f=b.event.addListener(e,a,g,d,k,l,!1)});return f};this.removeListener=function(e,c,g,d){b.debug("alias hook removeListener",c);a.forEach(function(a){b.debug("    ",a);b.event.removeListener(e,a,g,d,!1)})}};
this.addHook("transitionend",new this.AliasHook(["transitionend","webkitTransitionEnd","oTransitionEnd"]));this.addHook("hover",new function(){function a(e){var c=b.dom.attr(e,"hoverDelay"),c=null==c||void 0==c?250:parseInt(c),g=b.data.get(e,l);g||(g={hasIntent:!1,wait:c,timeout:-1},b.data.set(e,g,l,!0));return g}function e(b){c.addListener(b.currentTarget,"mouseout",d,!1,0);var g=a(b.currentTarget);g.hasIntent=!0;0>g.timeout&&(g.timeout=setTimeout(function(){var e=b.currentTarget;c.removeListener(e,
"mouseout",d,!1,0);var g=a(e);g.timeout=-1;g.hasIntent&&c.trigger(e,k)},g.wait))}function d(b){c.removeListener(b.currentTarget,"mouseout",d,!1);a(b.currentTarget).hasIntent=!1}var k="hover",l="eventHover";this.addListener=function(b,g,d,l,f,p){g=c.addListener(b,k,d,l,f,p,!1);a(b);c.addListener(b,"mouseover",e,!1,0,this);return g};this.removeListener=function(a,j,d,f){j=b.data.get(a,g);c.removeListener(a,k,d,f,!1);d=c.phaseString(a,f);if(null==j[d][k]||0==Object.keys(j[d][k]).length)c.removeListener(a,
"mouseover",e,!1),b.data.remove(a,l)};return this});var l=new function(){function a(e){var c=b.data.get(e,h);c||(c={within:!1},b.data.set(e,c,h,!0));return c}function e(a){b.support.msEvent||(a="do"+a);return a}function d(b){var e=a(b.currentTarget);!e.within&&b.currentTarget!=b.relatedTarget&&(e.within=!0,c.trigger(b.currentTarget,l,!1))}function k(e){var g=a(e.currentTarget);g.within&&!b.dom.isAncestor(e.currentTarget,e.relatedTarget)&&e.currentTarget!=e.relatedTarget&&(g.within=!1,c.trigger(e.currentTarget,
f,!1))}var l="domouseenter",f="domouseleave",h="eventMouseEnterState";this.addListener=function(a,g,j,l,f,h){b.support.msEvent||(c.addListener(a,"mouseover",d,l,f,h),c.addListener(a,"mouseout",k,l,f,h));return c.addListener(a,e(g),j,l,f,h,!1)};this.removeListener=function(a,j,l,f){var h=b.data.get(a,g),s=c.phaseString(a,f),j=e(j);c.removeListener(a,j,l,f,!1);if(!b.support.msEvent&&null==h[s][j]||0==h[s][j].keys().length)c.removeListener(a,"mouseover",d,f),c.removeListener(a,"mouseout",k,f)}};this.addHook("mouseenterstate",
l);this.addHook("mouseleave",l);this.addHook("mouseenter",l)})})(lola);(function(b){b.registerModule(new function(){var b=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return b};this.normalizeRadians=function(b){for(var a=2*Math.PI;b<a;)b+=a;return b%a};this.normalizeDegrees=function(b){for(;360>b;)b+=360;return b%360};this.normalizeRange=function(b,a,c){return Math.max(b,Math.min(c,a))};this.selectorMethods={maxValue:function(b){return this.compareValues(b,Math.max,Number.MIN_VALUE)},minValue:function(b){return this.compareValues(b,Math.min,
Number.MAX_VALUE)},totalValue:function(b){return this.compareValues(b,function(a,b){return a+b},0)},avgValue:function(b){return this.totalValue(b)/this.length}}})})(lola);(function(b){b.registerModule(new function(){var b=this,h=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return h};this.rgb2hsl=function(a,b,d){var f=0,e=0,a=0>a?0:a,a=1<a?1:a,b=0>b?0:b,b=1<b?1:b,d=0>d?0:d,d=1<d?1:d,g=a>b?d>a?d:a:d>b?d:b,k=a<b?d<a?d:a:d<b?d:b;0!=g&&(e=(g-k)/g);if(0<e)for(var f=(g-a)/(g-k),l=(g-b)/(g-k),d=(g-d)/(g-k),f=(a==g?d-l:b==g?2+f-d:4+l-f)/6;0>f;)f++;return{h:f,s:e,l:g}};this.rgb2hex=function(a,b,d){var f="",a=0>a?0:a,b=0>b?0:b,b=1<b?1:b,
d=0>d?0:d,d=1<d?1:d,a=Math.round(255*(1<a?1:a)),b=Math.round(255*b),d=Math.round(255*d),e=[];e.push((a-a%16)/16);e.push(a%16);e.push((b-b%16)/16);e.push(b%16);e.push((d-d%16)/16);e.push(d%16);e.forEach(function(a){f+="0123456789ABCDEF".charAt(a)});return f};this.rgb2int=function(a,c,d){return parseInt("0x"+b.rgb2hex(a,c,d))};this.hsl2rgb=function(a,b,d){var a=0>a?0:a,a=1<a?1:a,b=0>b?0:b,b=1<b?1:b,d=0>d?0:d,d=1<d?1:d,f=0,e=0,g=0;if(0!=b){var a=6*(a-Math.floor(a)),k=a-Math.floor(a),l=d*(1-b),j=d*(1-
b*k),b=d*(1-b*(1-k));switch(Math.floor(a)){case 0:f=d;e=b;g=l;break;case 1:f=j;e=d;g=l;break;case 2:f=l;e=d;g=b;break;case 3:f=l;e=j;g=d;break;case 4:f=b;e=l;g=d;break;case 5:f=d,e=l,g=j}}return{r:f,g:e,b:g}};this.hsl2int=function(a,c,d){a=b.hsl2rgb(a,c,d);return b.rgb2int(a.r,a.g,a.b)};this.hsl2hex=function(a,c,d){a=b.hsl2rgb(a,c,d);return b.rgb2hex(a.r,a.g,a.b)};this.int2rgb=function(a){a=16777215<a?16777215:a;a=0>a?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}};this.int2hsl=function(a){a=
b.int2rgb(a);return b.rgb2hsl(a.r,a.g,a.b)};this.int2hex=function(a){a=b.int2rgb(a);return b.rgb2hex(a.r,a.g,a.b)};this.hex2int=function(a){return parseInt("0x"+(3==a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))};this.hex2rgb=function(a){return b.int2rgb(this.hex2int(a))};this.hex2hsl=function(a){return b.int2hsl(this.hex2int(a))}})})(lola);(function(b){b.registerModule(new function(){function i(a){1==g?b.window.requestAnimationFrame(a):2==g?b.window.mozRequestAnimationFrame(a):3==g?b.window.webkitRequestAnimationFrame(a):4==g?b.window.oRequestAnimationFrame(a):setTimeout(a,k)}function h(){var a=!1,g=b.now(),c;for(c in f)f[c].isActive()&&(a=!0,f[c].isComplete()?(b.event.trigger(f[c],"animationcomplete",!1,!1),delete f[c],d.push(parseInt(c))):f[c].enterFrame(g));a?i(h):e=!1}var a=this,c=["event"],d=[],f={},e=!1,g=0,k=1E3/30;this.namespace=
function(){return"animation"};this.dependencies=function(){return c};this.initialize=function(){g=b.support.animationFrameType};this.register=function(a,b){f[a]=b};this.remove=function(a){f[a]&&delete f[a]};this.start=function(a){f[a]&&f[a].start()};this.stop=function(a){f[a]&&f[a].stop()};this.pause=function(a){f[a]&&f[a].pause()};this.resume=function(a){f[a]&&f[a].resume()};this.selectorMethods={};this.Animation=function(g,c){var d=-1,k=-1,f=-1,s=!1,r=!1,o="function"===typeof g?g:function(){return!1};
this.enterFrame=function(a){var b=a-f,e=a-d;f=a;s=o.call(c,a,b,e)};this.isActive=function(){return s};this.isComplete=function(){return r};this.start=function(){s||this.restart()};this.pause=function(){s&&(s=!1,k=b.now(),b.event.trigger(a,"animationpause",!1,!1))};this.resume=function(){s||(s=!0,d+=b.now()-k,e||(e=!0,i(h)),b.event.trigger(a,"animationresume",!1,!1))};this.restart=function(){s=!0;r=!1;d=f=b.now();e||(e=!0,i(h));b.event.trigger(a,"animationstart",!1,!1)};this.stop=function(){s=!1;r=
!0;b.event.trigger(a,"animationstop",!1,!1)};return this}})})(lola);(function(b){b.registerModule(new function(){function i(a){d[a]||(d[a]=b.string.camelCase(a));return d[a]}function h(e,c,d){void 0==d?(e=a.getRawStyle(e,c),e=parseFloat(e.replace(b.regex.isDimension,"$1"))):(d=(""+d).match(b.regex.isDimension)||"auto"==d||"inherit"==d?d:d+"px",e=a.setRawStyle(e,c,d));return e}var a=this,c=["type","math.color"],d={},f={},e={};this.namespace=function(){return"css"};this.dependencies=function(){return c};this.initialize=function(){b.debug("lola.css::initialize");"padding,margin,background-position,border-top-width,border-right-width,border-bottom-width,border-left-width,border-width,bottom,font-size,height,left,line-height,list-style-position,margin,margin-top,margin-right,margin-bottom,margin-left,max-height,max-width,min-height,min-width,outline-width,padding,padding-top,padding-right,padding-bottom,padding-left,right,text-indent,top,width".split(",").forEach(function(b){a.registerStyleHook(b,
h)});a.addStyleSheet("_default");d["float"]=b.support.cssFloat?"cssFloat":"styleFloat";var e=function(e,g,c,d){g=a.style(e,g,c,!1);return"auto"==g?b.geometry.getOffset(e,e.offsetParent)[d]+"px":g};a.registerStyleHook("top",function(a,b,c){return e(a,b,c,"y")});a.registerStyleHook("left",function(a,b,c){return e(a,b,c,"x")});delete a.initialize};this.style=function(b,e,c,d){var m=i(e);return!1!=b?null!=f[m]&&!1!==d?f[m].apply(b,arguments):void 0==c?a.getRawStyle(b,m):a.setRawStyle(b,m,c):!1};this.getRawStyle=
function(a,e){var c=i(e),d=a.style[c];if(!d||""==d){var m;document.defaultView&&document.defaultView.getComputedStyle&&(m=document.defaultView.getComputedStyle(a,void 0));d=m?m.getPropertyValue(b.string.dashed(c)):"undefined"!==typeof document.body.currentStyle?a.currentStyle[c]:void 0}return d};this.setRawStyle=function(a,b,e){b=i(b);return a.style[b]=e};this.registerStyleHook=function(a,b){var e=i(a);f[e]=b};this.addStyleSheet=function(e,c){var d=b.support.cssRules?document.createElement("style"):
document.createStyleSheet();c&&(d.source=c);e&&a.registerStyleSheet(d,e);b("head").appendChild(d)};this.registerStyleSheet=function(a,b){e[b]=a};this.addSelector=function(c,d,f){"string"==b.type.get(f)&&(f=e._default);var f=f||e._default,d=d||[],j=b.support.cssRules?f.cssRules.length:f.rules.length;f.addRule?f.addRule(c,null,j):f.insertRule(c+" { }",j);var m=b.support.cssRules?f.cssRules[j]:f.rules[j];d&&d.keys().forEach(function(b){a.style(m,b,d[b])});return m};this.performRuleAction=function(a,
e,c){for(var a=a.toLowerCase(),c=c?c.toLowerCase():"",d=0;d<document.styleSheets.length;d++){var f=document.styleSheets[d];if(!c||c==f.mediaText){var f=b.support.cssRules?f.cssRules:f.rules,p;for(p in f)f.hasOwnProperty(p)&&f[p]&&f[p].selectorText&&f[p].selectorText.toLowerCase()==a&&e(d,p)}}};this.getRules=function(e,c){var d=[];a.performRuleAction(e,function(a,e){b.support.cssRules?d.push(document.styleSheets[a].cssRules[e]):d.push(document.styleSheets[a].rules[e])},c);return d};this.updateRules=
function(b,e,c){var d=a.getRules(b,c);e.keys().forEach(function(b){d.forEach(function(c){a.style(c,b,e[b])})});return d};this.deleteRules=function(e,c){a.performRuleAction(e,function(a,e){b.support.cssRules?document.styleSheets[a].deleteRule(e):document.styleSheets[a].removeRule(e)},c)};this.classes=function(a,e){return void 0!=e?("array"!=b.type.get(e)&&(e="string"==b.type.get(e)?[e]:[]),a.className=e.join(" "),e):a.className.replace(b.regex.extraSpace," ").split(" ").reverse()};this.hasClass=function(e,
c){var d=a.classes(e);return b.array.isIn(d,c)};this.addClass=function(b,e){var c=a.classes(b);-1==c.indexOf(e)&&(c.push(e),a.classes(b,c))};this.removeClass=function(b,e){var c=a.classes(b),d=c.indexOf(e);0<=d&&(c.splice(d,1),a.classes(b,c))};this.clearStyle=function(a,b){delete a.style[i(b)]};this.selectorMethods={style:function(b,e){return this._(a.style,b,e)},classes:function(b){return this._(a.classes,b)},hasClass:function(b){return this.every(function(e){return a.hasClass(e,b)})},addClass:function(b){return this.s(a.addClass,
b)},removeClass:function(b){return this.s(a.removeClass,b)}};this.Color=function(a){function e(a,b){return a?0<a.indexOf("%")?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/b:0}var c=this,d=b.math.color,f,p,h;this.getRgbValue=function(){return f};this.getHslValue=function(){return p};this.getHexValue=function(){return h};this.toInt=function(){return parseInt("0x"+h)};this.toHexString=function(){return"#"+h};this.toHslString=function(a){return(a?"hsla":"hsl")+"("+Math.round(360*p.h)+","+Math.round(100*
p.s)+"%,"+Math.round(100*p.l)+"%"+(a?","+p.a:"")+")"};this.toHslaString=function(){return c.toHslString(!0)};this.toRgbString=function(a){return(a?"rgba":"rgb")+"("+Math.round(255*f.r)+","+Math.round(255*f.g)+","+Math.round(255*f.b)+(a?","+f.a:"")+")"};this.toRgbaString=function(){return c.toRgbString(!0)};(function(a){if("string"==typeof a){var c=a.match(b.regex.isColor);if(c)switch(c[1]){case "#":a=a.match(b.regex.isHexColor);h=null!=a?a[1]:"000000";f=d.hex2rgb(h);p=d.rgb2hsl(f.r,f.g,f.b);f.a=p.a=
1;break;case "rgb":case "rgba":c={r:0,g:0,b:0,a:1};a=a.match(b.regex.isRGBColor);null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),c.r=e(a[0],255),c.g=e(a[1],255),c.b=e(a[2],255),c.a=3<a.length?e(a[3],1):1);f=c;h=d.rgb2hex(f.r,f.g,f.b);p=d.rgb2hsl(f.r,f.g,f.b);break;case "hsl":case "hsla":c={h:0,s:0,l:0,a:1},a=a.match(b.regex.isHSLColor),null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),c.h=e(a[0],360),c.s=e(a[1],1),c.l=e(a[2],1),c.a=3<a.length?e(a[3],1):1),p=c,f=d.hsl2rgb(p.h,p.s,p.l),h=d.rgb2hex(f.r,
f.g,f.b),f.a=p.a}}else void 0!=a.r&&void 0!=a.g&&void 0!=a.b?(f=a,h=d.rgb2hex(f.r,f.g,f.b),p=d.rgb2hsl(f.r,f.g,f.b)):void 0!=a.h&&void 0!=a.s&&void 0!=a.l&&(p=a,f=d.hsl2rgb(p.h,p.s,p.l),h=d.rgb2hex(f.r,f.g,f.b)),void 0!=a.a?(f.a=a.a,p.a=a.a):(f.a=1,p.a=1)})(a);return this}})})(lola);(function(b){b.registerModule(new function(){var i=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return i};this.transform=function(a,b,d){var f,e;if(window.ActiveXObject){f=new ActiveXObject("MSXML2.XSLTemplate");f.stylesheet=b.documentElement;b=f.createProcessor();b.input=a;for(e in d)b.addParameter(e,d[e]);b.transform();a=document.createElement("div");a.innerHTML=b.output;f=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var g=
new XSLTProcessor;g.importStylesheet(b);for(e in d)g.setParameter(null,e,d[e]);if(a=g.transformToFragment(a,document))f=a.childNodes}return f};this.cacheXsl=function(){};this.encode=function(a){"string"==typeof a&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){"string"==typeof a&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.selectorMethods={applyTransform:function(a,c,d){this.html(c);
this.forEach(function(c){b.event.addListener(a,"result",function(a){$(c).html(a.data)});b.event.addListener(a,"fault",function(){$(c).html(d)})});a.send();return this},applyRequest:function(a,c,d,f){this.html(d);this.forEach(function(e){b.event.addListener(a,"result",function(a){$(e).html(a.currentTarget.responseText())});b.event.addListener(a,"fault",function(){$(e).html(f)})});a.send();return this},loadContent:function(a,c,d){this.applyRequest(new b.http.AsyncRequest(a,"get",[]),{},c,d);return this}};
var h=function(a,c,d,f,e,g){function k(){if(j)switch(j.readyState){case 1:b.event.trigger(l,"loading",!0,!0,j);break;case 2:b.event.trigger(l,"loaded",!0,!0,j);break;case 3:b.event.trigger(l,"interactive",!0,!0,j);break;case 4:b.event.trigger(l,"statecomplete",!0,!0,j),200==j.status&&!m?(m=!0,b.event.trigger(l,"result",!0,!0,j)):400<=j.status&&(console.info("AsyncRequest.readyStateChange.fault:",a),b.event.trigger(l,"fault",!1,!1,j))}}var l=this,j=!1,m=!1;this.ready=function(){return m};var h=function(){var a=
!1;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=new XMLHttpRequest}catch(b){a=!1}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){a=!1}}return a};this.send=function(m){j=h();j.open(c,a,f,e,g);j.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var i=0;i<d.length;i++)try{j.setRequestHeader(d[i].name,d[i].value)}catch(r){}if(void 0!=m&&"string"!=b.type.get(m)){var i=[],o;for(o in m)i.push(o+
"="+b.string.encode(m[o]));m=i.join("&")}j.onreadystatechange=function(){k.call(l)};j.send(m);return j};this.responseText=function(){return m||!f?j.responseText:!1};this.responseXML=function(){return m||!f?j.responseXML:!1};c=c||"POST";d=d||[];f=void 0==f?!0:f;e=e||null;g=g||null;return this};this.AsyncRequest=function(a,b,d,f,e){return new h(a,b,d,!0,f,e)};this.SyncRequest=function(a,b,d,f,e){return new h(a,b,d,!1,f,e)};this.Transform=function(a,c,d,f){function e(){a.ready()&&c.ready()&&(f&&""!=
f&&h.cacheXsl(f,c),m=h.transform(a.responseXML(),c.responseXML(),d),b.event.trigger(j,"result",!0,!0,m))}function g(){b.event.trigger(j,"fault",!0,!0,"xsl fault")}function k(){b.event.trigger(j,"fault",!0,!0,"xml fault")}var h=j,j=this,m=[];this.resultNodes=function(){return m};this.send=function(b,e){a.ready()||a.send(b);c.ready()||c.send(e)};this.cancel=function(){b.event.removeListener(c,"result",e,!0);b.event.removeListener(c,"fault",g,!0);b.event.removeListener(a,"result",e,!0);b.event.removeListener(a,
"fault",k,!0);try{c.abort()}catch(d){}try{a.abort()}catch(f){}};(function(){f=f||"";if("string"==b.type.get(c)){var a=c;c=h.getCachedXsl(a);if(!c)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=c;if(this.xsl&&this.xml)b.event.addListener(this.xsl,"result",e,!0,0,this),b.event.addListener(this.xsl,"fault",g,!0,0,this),b.event.addListener(this.xml,"result",e,!0,0,this),b.event.addListener(this.xml,"fault",k,!0,0,this),e();else throw Error("transform error!");})();return this}})})(lola);(function(b){b.registerModule(new function(){function i(a){return e.test(a)?'"'+a.replace(e,function(a){var b=c.meta[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(a,b){var e,c,d,f,l=this.gap,n,q=b[a];q&&"object"===typeof q&&"function"===typeof q.toJSON&&(q=q.toJSON(a));"function"===typeof k&&(q=k.call(b,a,q));switch(typeof q){case "string":return i(q);case "number":return isFinite(q)?""+q:"null";case "boolean":case "null":return""+
q;case "object":if(!q)return"null";this.gap+=this.indent;n=[];if("[object Array]"===Object.prototype.toString.apply(q)){f=q.length;for(e=0;e<f;e+=1)n[e]=h(e,q)||"null";d=0===n.length?"[]":g?"[\n"+g+n.join(",\n"+g)+"\n"+l+"]":"["+n.join(",")+"]";g=l;return d}if(k&&"object"===typeof k){f=k.length;for(e=0;e<f;e+=1)c=k[e],"string"===typeof c&&(d=h(c,q))&&n.push(i(c)+(g?": ":":")+d)}else for(c in q)Object.hasOwnProperty.call(q,c)&&(d=h(c,q))&&n.push(i(c)+(g?": ":":")+d);d=0===n.length?"{}":g?"{\n"+g+n.join(",\n"+
g)+"\n"+l+"}":"{"+n.join(",")+"}";g=l;return d}}function a(a,b){function e(a,c){var d,g,f=a[c];if(f&&"object"===typeof f)for(d in f)Object.hasOwnProperty.call(f,d)&&(g=e(f,d),void 0!==g?f[d]=g:delete f[d]);return b.call(a,c,f)}var c,a=""+a;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return c=eval("("+a+")"),"function"===typeof b?e({"":c},""):c;throw new SyntaxError("JSON.parse");}var c=this,d=["http"],f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=null,k=null,l=0;this.namespace=function(){return"json"};this.dependencies=function(){return d};this.encode=function(a){g="";k=void 0;return h("",
{"":a})};this.decode=function(b){return a(b)};this.get=function(a,e,d){console.log("json.get: "+a);var g=new b.URL(a);if("____"==g.protocol)a=new b.http.AsyncRequest(a),e&&$(a).addListener("result",function(a){console.log("    result");a=c.parse(a.data.responseText);e(a)}),a.send();else{console.log("    cross domain");var f=l++;c.handleResponse[f]=function(a){e(a);delete c.handleResponse[f]};g.vars[d?d:"jsonp"]="lola.json.handleResponse["+f+"]";b.loadScript(g.toString())}};this.selectorMethods={};
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+b.string.padFront(this.getUTCDate(),"0",2)+"T"+b.string.padFront(this.getUTCHours(),"0",2)+":"+b.string.padFront(this.getUTCMinutes(),"0",2)+":"+b.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()})})})(lola);(function(b){b.registerModule(new function(){var i=this,h={},a=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){b.debug("lola.agent::initialize");b.checkDependencies(this.dependencies);for(var c=a.length,d=0;d<c;d++)b.hasFn(a,d)&&(a[d](),delete a[d]);delete i.initialize};this.registerAgent=function(c){var d=c.namespace();b.debug("register agent: "+d);if(d&&b.hasFn(c,"sign")&&b.hasFn(c,"drop")){var f=b.getPackage(b.agent,d,
c);b.hasFn(c,"getDependencies")&&(this.dependencies["agent."+d]=c.getDependencies());h[d]=f;b.hasFn(c,"initialize")&&a.push(function(){c.initialize()});b.hasFn(c,"preinitialize")&&c.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,b){var f=h[b];if(f)f.sign(a);else throw Error("unknown agent: "+b);};this.drop=function(a,b){var f={};void 0==b?f=h:"string"==typeof b&&b.split(",").forEach(function(a){f[a]=h[a]});for(var e in f){var g=f[e];g&&g.drop(a)}};
this.selectorMethods={assignAgent:function(a){return this.s(i.assign,a)},dropAgent:function(a){return this.s(i.drop,a)}};b.addSafeDeleteHook(this.drop,this)})})(lola);(function(b){b.registerModule(new function(){function i(a){h.execute(a.type,a.data.parameters,a.data.responder)}var h=this,a=[],c={},d={};this.namespace=function(){return"cmd"};this.dependencies=function(){return a};this.register=function(a,e){"string"!=typeof a&&void 0==e&&(e=(new a).getName());b.debug("register command: "+e);null!=c[e]&&"string"!=typeof c[e]&&console.warn('command "'+e+'" has already been registered... overwriting');c[e]=a;b.event.addListener(h,e,i)};this.call=function(a,b,c,d,
l){c=new h.Responder(c,d,l);h.execute(a,b,c)};this.execute=function(a,e,g){if(c[a])if("string"==typeof c[a])d[a]||(b.loadScript(c[a],function(){if(b.hasFn(c,a)){for(var e=d[a].length,g=0;g<e;g++){var k=d[a][g];h.execute(k.name,k.params,k.responder)}delete d[a]}else throw Error('The command loaded from "'+c[a]+'" is not named "'+a+'"');}),d[a]=[]),d[a].push({name:a,params:e,responder:g});else{var k=c[a];k&&(k=new k,g&&(b.event.addListener(k,"result",g.handleResult),b.event.addListener(k,"fault",g.handleFault),
b.event.addListener(k,"status",g.handleStatus)),k.execute(e))}else throw Error("Unknown command type: "+a);return g};this.Responder=function(a,e,c){var d=void 0;this.getLastResponse=function(){return d};this.handleStatus=function(a){if(!d||"status"==d.type)d=a;"function"==typeof c&&c.apply(b.window,[a])};this.handleResult=function(e){d=e;"function"==typeof a&&a.apply(b.window,[e])};this.handleFault=function(a){d=a;"function"==typeof e&&e.apply(b.window,[a])};return this};this.Data=function(a,b){this.parameters=
function(){return a};this.responder=function(){return b}}})})(lola);(function(b){b.registerModule(new function(){function i(a){var c={};this.toString=function(){Object.keys(c);var a=[];c.forEach(function(b,e){a.push(e+":"+b)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(0<Object.keys(c).length)switch(b.type.get(a)){case "boolean":a=c[a?"0":"1"];break;default:a=c[a]}return a};a&&this.parse(a);return this}function h(a){if("function"!=typeof a)throw Error("invalid hook.");this.evaluate=function(c,d){return a.apply(b.window,arguments)}}function a(a){function c(a){for(var b=
[],e=a.search(d);0<=e;){var g=a.match(d),h=a.substring(0,e);h&&b.push(h);b.push(new i(g[1]));a=a.substring(e+g[0].length);e=a.search(d)}a&&b.push(a);f=b;j=b.length}var d=/\$\{([^\}]+)\}/,f=[],j=0;this.evaluate=function(a){var e=[];"array"!=b.type.get(a)&&(a=[a]);a.forEach(function(a,b){for(var c=0;c<j;){var d=f[c];"string"===typeof d?e.push(d):e.push(d.evaluate(a,b));c++}});return e.join("")};a&&c(a);return this}var c=this,d=["json"],f={};this.namespace=function(){return"template"};this.dependencies=
function(){return d};this.initialize=function(){b.debug("lola.template::initialize");if(!b)throw Error("lola not defined!");var a=b.now();b('script[type="text/x-lola-template"]').forEach(function(a){c.add(a.id,a.innerHTML)});var d=b.now();b.debug("templates parsed in "+(d-a)+" ms");delete c.initialize};this.add=function(b,c){if(!b||"getValue"==b)throw Error("invalid template id");f[b]=new a(c)};this.addHook=function(a,b){if(!a||"getValue"==a)throw Error("invalid hook id");f[a]=new h(b)};this.apply=
function(a,b){var c="",d;if(!f[a])throw Error('hook "'+a+'" not found.');(d=f[a])&&(c=d.evaluate(b));return c};this.selectorMethods={applyTemplate:function(a,c){this.html(b.template.apply(a,c))}}})})(lola);(function(b){b.registerModule(new function(){var i=this,h=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return h};this.getOffset=function(a,b){var d=new i.Point(a.offsetLeft,a.offsetTop);if(a.offsetParent)var f=i.getOffset(a.offsetParent),d=d.add(f);b&&(f=i.getOffset(b),d=d.subtract(f));return d};this.width=function(a,c){if(void 0!=c){var d=b.css.style(a,"borderLeft"),f=b.css.style(a,"borderRight"),e=b.css.style(a,"paddingLeft"),g=b.css.style(a,"paddingRight");
return b.css.style(a,"width",c-(d+f+e+g))}return a.offsetWidth?a.offsetWidth:a.clientWidth};this.innerWidth=function(a,c){var d;if("window"==$(a).getType()){d=-1;if(a.innerWidth)d=a.innerWidth;else{var f=a.document;f.documentElement&&f.documentElement.clientWidth?d=f.documentElement.clientWidth:f.body&&(d=f.body.clientWidth)}return d}if(void 0!=c)return b.css.style(a,"width",c);d=a.offsetWidth?a.offsetWidth:a.clientWidth;var f=b.css.style(a,"borderLeft"),e=b.css.style(a,"borderRight"),g=b.css.style(a,
"paddingLeft"),k=b.css.style(a,"paddingRight");return d-(f+e+g+k)};this.height=function(a,c){if(void 0!=c){var d=b.css.style(a,"borderTop"),f=b.css.style(a,"borderBottom"),e=b.css.style(a,"paddingTop"),g=b.css.style(a,"paddingBottom");return b.css.style(a,"height",c-(d+f+e+g))}return a.offsetHeight?a.offsetHeight:a.clientHeight};this.innerHeight=function(a,c){var d;if("window"==$(a).getType()){d=-1;if(a.innerHeight)d=a.innerHeight;else{var f=a.document;f.documentElement&&f.documentElement.clientHeight?
d=f.documentElement.clientHeight:f.body&&(d=f.body.clientHeight)}return d}if(void 0!=c)return b.css.style(a,"height",c);d=a.offsetHeight?a.offsetHeight:a.clientHeight;var f=b.css.style(a,"borderTop"),e=b.css.style(a,"borderBottom"),g=b.css.style(a,"paddingTop"),k=b.css.style(a,"paddingBottom");return d-(f+e+g+k)};this.selectorMethods={offset:function(a){return this.g(i.getOffset,a)},width:function(a){return this._(i.width,a)},height:function(a){return this._(i.height,a)},innerWidth:function(a){return this._(i.innerWidth,
a)},innerHeight:function(a){return this._(i.innerHeight,a)}};this.Point=function(a,b){this.x=a;this.y=b;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),b=Math.sqrt(this.x*this.x+this.y*this.y);return new i.Vector(b,a)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new i.Point(this.x,this.y)},operate:function(a,b){for(var d=this.copy(),f=b.length,e=0;e<f;e++){var g=b[e];"number"==typeof g?(d.x=a(d.x,g),d.y=a(d.y,
g)):(d.x=a(d.x,g.x),d.y=a(d.y,g.y))}return d},add:function(){return this.operate(function(a,b){return a+b},arguments)},subtract:function(){return this.operate(function(a,b){return a-b},arguments)},multiply:function(){return this.operate(function(a,b){return a*b},arguments)},divide:function(){return this.operate(function(a,b){return a/b},arguments)},pow:function(){return this.operate(function(a,b){return Math.pow(a,b)},arguments)},offsetPoint:function(a,b){var d=this.copy();d.x+=Math.cos(a)*b;d.y+=
Math.sin(a)*b;return d},distance:function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))}};this.Spline=function(a,b){a=a?a:[];b=void 0==b?0:b;this.addPoint=function(b,c){void 0==c&&(c=a.length);a.splice(c,0,b)};this.removePoint=function(b){void 0!=b&&a.splice(b,1,void 0)};this.updatePoint=function(b,c){void 0!=c&&a.splice(c,1,b)};this.getPoint=function(b){return b<a.length?a[b]:null};this.getPoints=function(){return a};this.draw=function(d,f){f=void 0==f?b:f;if(1<a.length){var e=
[];a.forEach(function(a){e.push(a.getControl1(),a.getAnchor(),a.getControl2())});var g=e.length;if(f&i.Spline.CONTROLS){var k=function(a,b){d.beginPath();d.moveTo(e[a].x,e[a].y);d.lineTo(e[b].x,e[b].y);d.stroke();d.closePath()};k(1,2);k(3,4)}d.beginPath();d.moveTo(e[1].x,e[1].y);for(k=2;k<g-3;k+=3)d.bezierCurveTo(e[k].x,e[k].y,e[k+1].x,e[k+1].y,e[k+2].x,e[k+2].y);f&i.Spline.CLOSED&&d.bezierCurveTo(e[g-1].x,e[g-1].y,e[0].x,e[0].y,e[1].x,e[1].y);f&i.Spline.FILL&&d.fill();f&i.Spline.STROKE&&d.stroke();
d.closePath()}else throw Error("not enough spline points");};this.normalize=function(a,b,e,c,k,h){for(var k=!0===k,h=!0===h,j=new i.Spline,m=this.getPoints(),p=m.length,v=b.subtract(a),s=c.subtract(e),b=function(b){b=b.subtract(a).divide(v);k&&(b.x=1-b.x);h&&(b.y=1-b.y);return b.multiply(s).add(e)},c=0;c<p;c++){var r=m[c].getControl1(),o=m[c].getAnchor(),n=m[c].getControl2(),o=b(o),r=o.subtract(b(r)).toVector(),n=b(n).subtract(o).toVector(),n=new i.SplinePoint(o.x,o.y,r.velocity,r.angle,n.velocity,
n.angle);j.addPoint(n)}return j};return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.SplinePoint=function(a,b,d,f,e,g){var k,h,j;this.setAngle=function(a,b){h.angle=a;j.angle=void 0==b?a+Math.PI:b};this.getAnchor=function(){return k};this.getControl1=function(a){return a?h:k.subtract(h.toPoint())};this.getControl2=function(a){return a?j:k.add(j.toPoint())};k=new i.Point(a,b);h=new i.Vector(d,f);j=new i.Vector(e,void 0==g?f+Math.PI:g);return this};
this.Vector=function(a,b){this.velocity=a;this.angle=b;this.copy=function(){return new i.Vector(this.velocity,this.angle)};this.add=function(a){this.velocity+=a.velocity;this.angle+=a.angle};this.toPoint=function(){return new i.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)};return this}})})(lola);(function(b){b.registerModule(new function(){function i(b){"string"===typeof b&&(b=a.getContext(b));return b||d}function h(b){a[b]=function(){var a=i(null);a&&a[b].apply(a,arguments)}}var a=this,c=["util"],d=null,f={},e={},g={},k={};this.namespace=function(){return"graphics"};this.dependencies=function(){return c};this.registerContext=function(a,e){var c=a.getContext("2d"),e=void 0==e?b(a).identify().attr("id"):e,d=$(a).getData("_graphics",!0);null==d.contexts&&(d.contexts=[]);d.contexts.push(e);
f[e]=c};this.removeContext=function(a){if((a=b(a).getData("_graphics",!1))&&a.contexts)for(var e;e=a.contexts.pop();)delete f[e]};this.getContext=function(a){return f[a]};this.setContext=function(a){d=i(a)};this.resetContext=function(a){"string"==typeof a&&(d=i(a));d&&b.util.copyPrimitives(e,d)};this.registerStyle=function(a,e){var c={};b.util.copyPrimitives(e,c);g[a]=c};this.removeStyle=function(a){delete g[a]};this.registerRoutine=function(a,b){k[a]=b};this.removeRoutine=function(a){delete this.routines[a]};
this.executeRoutine=function(a){if(b.hasFn(k,a))k[a](d)};this.applyStyle=function(a,c){var c=i(c),d="string"==typeof a?g[a]||e:a;b.util.copyPrimitives(e,c);b.util.copyPrimitives(d,c)};this.draw=function(a,e){b.hasFn(a,"draw")&&a.draw(d,e)};this.clear=function(a){a=i(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){return this.s(a.registerContext)}};b.addSafeDeleteHook(a.removeContext,a);var l=document.createElement("canvas").getContext("2d"),j;for(j in l)b.type.isPrimitive(l[j])?
e[j]=l[j]:"function"==b.type.get(l[j])&&h(j)})})(lola);(function(b){b.registerModule(new function(){function i(a,b){var c=a.getPoints(),d=c.length-1,f=[];if(0<d){for(var b=b*d,h=[],i=1;i<=d;i++)h.push(c[i].getAnchor().x);for(var i=d=0,v=h[0],s=0;s<=b;s++){var r=s/b;if(r<=v){var r=(r-d)/(v-d),o=c[i].getAnchor(),n=c[i].getControl2(),q=c[i+1].getControl1(),t=c[i+1].getAnchor(),u=1-r,r=o.multiply(u*u*u).add(n.multiply(3*u*u*r),q.multiply(3*u*r*r),t.multiply(r*r*r));f.push(r)}else i++,d=v,v=h[i],s--}}return f}var h=this,a=["geometry"],c={},d="ease";this.namespace=
function(){return"easing"};this.methods=function(){return c};this.dependencies=function(){return a};this.setDefaultEase=function(a){c[a]&&(d=a,c["default"]=c[a])};this.sampleSpline=i;this.registerEasingSpline=function(a,b,d,f){var d=d?d:25,f=!0===f,j=b.getPoint(0).getAnchor(),h=b.getPoint(b.getPoints().length-1).getAnchor();if(0==j.x&&0==j.y&&1==h.x&&1==h.y)if(!c[a]||f)c[a]=new function(){this.getSpline=function(){return b};var a=i(b,d);this.getSamples=function(){return a};var e=a.length;this.exec=
function(b,c,d,g){for(var b=b/g,f=0;b>=a[f].x&&f<e;)if(f++,b<=a[f].x)return g=a[f-1],f=a[f],c+d*(g.y+(b-g.x)/(f.x-g.x)*(f.y-g.y));return 0};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,c,d,f,j){var i=b.geometry,p=new i.Spline,c=new i.Point(c,d),f=new i.Point(1-f,1-j),j=c.toVector(),f=f.toVector();p.addPoint(new i.SplinePoint(0,0,0,0,j.velocity,j.angle));p.addPoint(new i.SplinePoint(1,1,f.velocity,f.angle,
0,0));h.registerEasingSpline(a,p)};this.registerEasingFn=function(a,b){c[a]=new function(){this.name=a;this.exec=b;return this}};this.get=function(a){if(c[a])return c[a];b.debug('easing method "'+a+'" not found.');return c[d]};this.getAll=function(){return c};this.params={back:{a:2.7,b:1.7}};var f={back:{easeIn:function(a,b,c,d){return c*(a/=d)*a*(h.params.back.a*a-h.params.back.b)+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*(h.params.back.a*a+h.params.back.b)+1)+b}},bounce:{easeIn:function(a,
b,c,d){return c-f.bounce.easeOut(d-a,0,c,d)+b},easeOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b}},circular:{easeIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b}},cubic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b}},elastic:{easeIn:function(a,
b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var f,h;f=0.3*d;h=f/4;return-(c*Math.pow(2,10*(a-=1))*Math.sin((a*d-h)*2*Math.PI/f))+b},easeOut:function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var f,h;h=0.3*d;f=h/4;return c*Math.pow(2,-10*a)*Math.sin((a*d-f)*2*Math.PI/h)+c+b}},exponential:{easeIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b}},quadratic:{easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,
b,c,d){return-c*(a/=d)*(a-2)+b}},quartic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOut:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b}},quintic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b}},sine:{easeIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b}}};(function(){var a=b.now();b.debug("lola.easing::preinitialize");h.registerSimpleEasing("none",
0,0,1,1);h.registerSimpleEasing("linear",0,0,1,1);h.registerSimpleEasing("ease",0.25,0.1,0.25,1);h.registerSimpleEasing("ease-in",0.42,0,1,1);h.registerSimpleEasing("ease-out",0,0,0.58,1);h.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);Object.keys(f).forEach(function(a){if(f[a].hasOwnProperty("easeIn")&&f[a].hasOwnProperty("easeOut")){var b=f[a].easeIn,c=f[a].easeOut;h.registerEasingFn(a+"-in",b);h.registerEasingFn(a+"-out",c);h.registerEasingFn(a+"-in-out",function(a,e,d,f){return a<f/2?b(a,
e,d/2,f/2):c(a-f/2,b(f,e,d/2,f),d/2,f/2)})}});var c=b.now();b.debug("easing preinitialization took",c-a,"ms");h.setDefaultEase("ease-in-out")})();return this})})(lola);(function(b){b.registerModule(new function(){function i(a){var c=!1,f,k,i;f=void 0;k=function(){return!0};i=function(a,c,e,d){(a=d[0].target)&&b.event.trigger(a,"tweencomplete",!1,!1);return!0};for(var l in g)g.hasOwnProperty(l)&&g[l].active&&(c=!0,g[l].complete?(b.event.trigger(g[l],"tweencomplete",!1,!1),h(f,k,i),delete g[l],e.push(parseInt(l))):g[l].calculate(a));var o=0,n=0;h(function(a){0==o&&delete d[a];o=0;return!0},function(a,b){0==n?delete d[a][b]:o++;n=0;return!0},function(a,b,c,e){for(var f=
[],j;j=e.shift();)j&&g[j.tweenId]&&g[j.tweenId].active&&(j.apply(g[j.tweenId].value),f.push(j));d[a][b][c]=f;0==d[a][b][c].length?delete d[a][b][c]:n++;return!0});return c}function h(a,b,c){for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],g;for(g in f)if(f.hasOwnProperty(g)){var h=f[g],k;for(k in h)if(h.hasOwnProperty(k)){var i=h[k];if(c&&!c(e,g,k,i))break}if(b&&!b(e,g))break}if(a&&!a(e))break}}var a=this,c=["animation","css","event","easing"],d={},f=0,e=[],g={},k={},l={};this.namespace=function(){return"tween"};
this.dependencies=function(){return c};this.initialize=function(){var c=new b.animation.Animation(i,a);b.animation.register("tween",c);0<Object.keys(g).length&&b.animation.start("tween")};this.registerTween=function(a){var b=0<e.length?e.pop():f++;g[b]=a;return b};this.start=function(a){g[a]&&g[a].start()};this.stop=function(a){g[a]&&g[a].stop()};this.pause=function(a){g[a]&&g[a].pause()};this.resume=function(a){g[a]&&g[a].resume()};this.addTarget=function(c,e,f,h){if(g[c]){h=!0===h;"array"!=b.type.get(e)&&
(e=[e]);for(var k=e.length,i=0;i<k;i++){var l=e[i],n=$(l).identify().attr("id");d[n]||(d[n]={});for(var q in f)if(f.hasOwnProperty(q)){var t=f[q];d[n][q]||(d[n][q]={});for(var u in t)if(t.hasOwnProperty(u)&&(h||null==d[n][q][u]))d[n][q][u]||(d[n][q][u]=[]),h?d[n][q][u].push(a.getTweenObject(c,l,q,u,t[u])):d[n][q][u]=[a.getTweenObject(c,l,q,u,t[u])]}}}else throw Error("tween not found");};this.getTweenObject=function(c,e,d,f,g){var h,i,n;g.from||(h=b(e)[d](f),"object"==typeof g?g.from=h:g={from:h,
to:""+g});h=g.from?g.from:"function"==typeof g?g.call(e):$(e)[d](f);var q=0;if(null!=h&&void 0!=h)b.type.isPrimitive(g)?i=g:g.to?(q=0,i=g.to):g.add?(q=1,i=g.add):g.by&&(q=1,i=g.by);else throw Error("invalid tween parameters");var t,u;if(k[d])t=k[d];else for(var w in l)if(l.hasOwnProperty(w)){t=l[w];if(w==d)break;if(!0===t.match||t.match&&t.match.test(""+i)&&t.match.test(""+h))break;else t=null}t&&(i=t.parse(i),h=t.parse(h),n=t.getDelta(i,h,q),u=t.proxy,t.canTween(h,i)||(t=null));t||(u=b.tween.setAfterProxy,
n=i);return new a.TweenObject(c,e,d,f,h,n,u)};this.addTweenType=function(a,b){l[a]=b};this.getTargets=function(){return d};this.addTweenType("simple",{match:b.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,b){return void 0!=a&&void 0!=b},getDelta:function(a,b,c){return c?a:a-b},proxy:function(a,b){a.$target[a.type](a.property,a.initialValue+a.deltaValue*b)}});this.addTweenType("dimensional",{match:b.regex.isDimension,parse:function(a){a=(""+a).match(b.regex.isDimension);
return{value:parseFloat(a[1]),units:a[2]}},canTween:function(a,b){return a&&b&&(a.units==b.units||""==a.units&&""!=b.units)},getDelta:function(a,b,c){return c?{value:a.value,units:a.units}:{value:a.value-b.value,units:a.units}},proxy:function(a,b){var c=a.deltaValue;a.$target[a.type](a.property,a.initialValue.value+c.value*b+c.units)}});this.addTweenType("color",{match:b.regex.isColor,parse:function(a){return(new b.css.Color(a)).getRgbValue()},canTween:function(a,b){return a&&b},getDelta:function(a,
b,c){return c?{r:a.r,g:a.g,b:a.b,a:a.a}:{r:a.r-b.r,g:a.g-b.g,b:a.b-b.b,a:a.a-b.a}},proxy:function(a,c){var e=a.initialValue,d=a.deltaValue,f=255*(e.r+d.r*c)|0,g=255*(e.g+d.g*c)|0,h=255*(e.b+d.b*c)|0,e=e.a+d.a*c;if(b.support.colorAlpha)a.$target[a.type](a.property,"rgba("+[f,g,h,e].join()+")");else a.$target[a.type](a.property,"rgb("+[f,g,h].join()+")")}});this.addTweenType("class",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=
a.$target;1>b?c.hasClass(a.property)||c.addClass(a.property):c.hasClass(a.property)&&c.removeClass(a.property)}});this.addTweenType("event",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=a.$target;1<=b?c.trigger(a.property,!1,!1,a.deltaValue):0>=b&&c.trigger(a.property,!1,!1,a.initialValue)}});this.addTweenType("setafter",{match:!0,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},
proxy:function(a,b){if(1<=b)a.$target[a.type](a.property,a.initialValue+a.deltaValue)}});this.selectorMethods={tween:function(b,c,e,d,f){c=a.registerTween(new a.Tween(c,d,e));a.addTarget(c,this.getAll(),b,f);a.start(c);return this}};this.Tween=function(a,b,c){this.init(a,b,c);return this};this.Tween.prototype={startTime:-1,pauseTime:-1,lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:!1,complete:!1,init:function(a,c,e){this.duration=a;this.easing="function"==typeof c?c:"string"==typeof c?
b.easing.get(c):b.easing.get("default");this.delay=e||0;c||(this.easing={exec:function(a,b,c,e){return a/e*c+b}})},calculate:function(a){a=a-this.startTime-this.delay;a>=this.duration&&(a=this.duration,this.active=this.complete=!0);this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active||(this.active=!0,this.startTime=b.now(),b.animation.start("tween"),b.event.trigger(this,"tweenstart",!1,!1))},stop:function(){this.active=!1;this.complete=!0;b.event.trigger(this,"tweenstop",
!1,!1)},pause:function(){this.active&&(this.active=!1,this.pauseTime=b.now(),b.event.trigger(this,"tweenpause",!1,!1))},resume:function(){this.active||(this.active=!0,this.startTime+=b.now()-this.pauseTime,b.animation.start("tween"),b.event.trigger(this,"tweenresume",!1,!1))}};this.TweenObject=function(a,b,c,e,d,f,g){this.init(a,b,c,e,d,f,g);return this};this.TweenObject.prototype={$target:null,target:null,type:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,
b,c,e,d,f,g){this.$target=$(b);this.target=b;this.type=c;this.property=e;this.tweenId=a;this.initialValue=d;this.deltaValue=f;this.proxy=g},apply:function(a){this.proxy(this,a)}}})})(lola);(function(b){b.registerModule(new function(){function i(a){var b=[];void 0==a?a=c.keys():"string"==typeof a&&(a=[a]);Array.isArray(a)&&a.forEach(function(a){c[a]&&b.push(a)});return b}var h=this,a=["tween"],c={};this.namespace=function(){return"motion"};this.dependencies=function(){return a};this.initialize=function(){b.debug("motion::initialize");delete h.initialize};this.register=function(a,b){if(!c[a]){var f=new d(a);b.frames&&f.frames(b.frames);b.maxRate&&f.maxRate(b.maxRate);b.timed&&f.timed(b.timed);
b.loop&&f.loop(b.loop);b.step&&f.step(b.step);c[a]=f}};this.remove=function(a){i(a).forEach(function(a){c[a].destroy();delete c[a]})};this.get=function(a){return c[a]};this.addTargets=function(a,b,d){(a=c[a])&&a.addTargets(b,d)};this.removeTargets=function(a,b){i(b).forEach(function(b){(b=c[b])&&b.removeTargets(a)})};this.position=function(a,b){i(b).forEach(function(b){c[b]&&c[b].position(a)})};this.selectorMethods={motionRange:function(a,b){h.addTargets(a,this.getAll(),b);return this}};var d=function(a){var c=
this,d=new b.animation.Animation(function(a,b){console.log("tick[",a,"]",r,o);var d=!1;if(r!=o){var e=r-o,f=0>e?-1:1,e=e/2,h=i*(b/1E3),k=e*f;k>h?(c.update(o+h*f),d=!0):1>k?c.update(r):(c.update(o+e),d=!0)}v&&p&&(d=!0);return d},c);b.animation.register("motion."+a,d);var h=1E4,i=5E3,m=!1,p=!1,v=!1,s,r=0,o=0,n=[],q=0;c.frames=function(a){a&&(h=parseInt(a));return h};c.position=function(a){void 0!=a&&(r=Math.round(a),d.start());return r};c.maxRate=function(a){void 0!=a&&(i=a);return i};c.timed=function(a){void 0!=
a&&(v=!0===a);return v};c.loop=function(a){void 0!=a&&(m=!0===a);return m};c.step=function(a){void 0!=a&&(s="function"==typeof a?a:!1);return s};c.start=function(){v&&(p=m,c.position(h))};c.stop=function(){p=!1;r=o};c.update=function(a){var b=a>o,a=Math.round(Math.min(h,Math.max(0,a)));v&&p&&a==h&&(a=0);for(var c=0;c<q;)n[c].position(a,b),c++;s&&s(a);o=a};c.addTargets=function(a,c){Array.isArray(a)||(a=[a]);var d=c.start?c.start:0,e=c.end?c.end:h,g=b.easing.get(c.ease?c.ease:"linear");delete c.start;
delete c.end;delete c.ease;a.forEach(function(a){for(var h in c)if(c.hasOwnProperty(h)){var i=c[h],k;for(k in i)i.hasOwnProperty(k)&&(Array.isArray(i[k])?i[k]:[i[k]]).forEach(function(c){var i=void 0==c.start?d:c.start,j=void 0==c.end?e:c.end,l=void 0==c.ease?g:b.easing.get(c.ease);n.push(new f(a,h,k,c,l,i,j,c.step))})}});q=n.length};c.removeTargets=function(a){var b=[];n.forEach(function(c){-1==a.indexOf(c.obj)&&b.push(c)});n=b};c.destroy=function(){n=[];b.animation.remove("motion."+a)}},f=function(a,
c,d,f,h,i,p,v){var s=new b.tween.getTweenObject(-1,a,c,d,f),r=!1,o=p-i,n=0;"function"!=typeof v&&(v=!1);this.position=function(a,b){var c=void 0;a>=i&&a<=p?(r=!0,c=h.exec(a-i,0,1,o)):r?(r=!1,c=b?1:0):b&&n<i&&a>p?c=1:!b&&n>p&&a<i&&(c=0);void 0!=c&&(s.apply(c),v&&v(c,this));n=a}}})})(lola);(function(b){b.registerModule(new function(){var b=this,h=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return h};this.Grid=function(a,c,d,f,e,g){this.draw=function(h,l){var l=void 0==l?g:l,j;if(l&b.Grid.VERTICAL)for(j=a+e;j<=d+a;j+=e)h.beginPath(),h.moveTo(j,c),h.lineTo(j,c+f),h.stroke(),h.closePath();if(l&b.Grid.HORIZONTAL)for(j=c+e;j<=f+c;j+=e)h.beginPath(),h.moveTo(a,j),h.lineTo(a+d,j),h.stroke(),h.closePath()};return this};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=
2;this.Axis=function(a,c,d,f,e,h){this.draw=function(k,l){l=void 0==l?h:l;k.beginPath();k.moveTo(a,c);l&b.Axis.VERTICAL?k.lineTo(a,c+d):k.lineTo(a+d,c);k.stroke();k.closePath();f&&(l&b.Axis.VERTICAL?(k.textAlign="center",k.fillText(f,a+e.x,c+d+e.y)):(k.textAlign="right",k.fillText(f,a+e.x,c+e.y)))};return this};this.Axis.VERTICAL=1})})(lola);(function(b){b.registerModule(new function(){var b=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return b};this.pv=function(b,a,c){return b/Math.pow(1+a,c)};this.fv=function(b,a,c){return b*Math.pow(1+a,c)};this.pva=function(b,a,c){return b*(1-1/Math.pow(1+a,c))/a};this.fva=function(b,a,c){return b*(Math.pow(1+a,c)-1)/a};this.payment=function(b,a,c,d){c=Math.pow(1+a,c);return b*a/(1-1/c)-d*a/(c-1)}})})(lola);(function(b){b.registerModule(new function(){function i(e){e=new b.http.SyncRequest(e);e.send();var f=e.responseXML(),e=[];if("tests"==f.documentElement.tagName)for(var f=f.documentElement,h=f.childNodes.length,i=0;i<h;i++){var j=f.childNodes[i];if(1==j.nodeType)switch(j.nodeName.toLowerCase()){case "script":j=new a(j);e.push(j);break;case "test":j=new c(j);e.push(j);break;case "xml":j=new d(j),e.push(j)}}e.unshift(0);e.unshift(g+1);k.splice.apply(k,e)}function h(){g++;if(g<k.length){var a=k[g];l=
a;a.execute()&&setTimeout(function(){h()},2)}else console.log("lola.test.complete")}function a(a){var c="",e="";this.execute=function(){j("executing",'"'+c+'"',"script");b.evaluate(e);return!0};a.hasAttribute("name")&&(c=a.attributes.getNamedItem("name").nodeValue);for(var d="",f=0;f<a.childNodes.length;f++)d+=a.childNodes[f].data;e=d;return this}function c(a){function c(){switch(f){case "equals":(l=d==g)||(w="assertion false: "+d+" == "+g);break;case "strictlyEquals":(l=d===g)||(w="assertion false: "+
d+" === "+g);break;case "doesNotEqual":(l=d!=g)||(w="assertion false: "+d+" != "+g);break;case "greaterThan":(l=d>g)||(w="assertion false: "+d+" > "+g);break;case "lessThan":(l=d<g)||(w="assertion false: "+d+" < "+g);break;case "greaterThanOrEquals":(l=d>=g)||(w="assertion false: "+d+" >= "+g);break;case "lessThanOrEquals":(l=d<=g)||(w="assertion false: "+d+" <= "+g);break;default:(l=d==g)||(w="assertion false: "+d+" == "+g)}l||(w="failed, "+w,m("    ",w))}var e,d,f="==",g,i,k=!1,l,w="";this.execute=
function(){j(e);try{if(k)return b.evaluate(i),!1;d=eval(i);c();return!0}catch(a){return l=!1,w="failed due to error: "+a.message,m("    ",w),j("    ",a),!0}};this.setResult=function(a){d=a;c();h()};(function(a){e=a.attributes.getNamedItem("name").nodeValue;a.hasAttribute("async")&&(k="true"==a.attributes.getNamedItem("async").nodeValue);a.hasAttribute("equals")?f="equals":a.hasAttribute("strictlyEquals")?f="strictlyEquals":a.hasAttribute("doesNotEqual")?f="doesNotEqual":a.hasAttribute("greaterThan")?
f="greaterThan":a.hasAttribute("lessThan")?f="lessThan":a.hasAttribute("greaterThanOrEquals")?f="greaterThanOrEquals":a.hasAttribute("lessThanOrEquals")&&(f="lessThanOrEquals");var b=a.attributes.getNamedItem(f).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":g=parseFloat(b);break;case "int":g=parseInt(b);break;case "bool":g="true"===b;break;default:g=""+b}for(var b="",c=0;c<a.childNodes.length;c++)b+=a.childNodes[c].data;i=b})(a);return this}function d(a){var c;a.hasAttribute("src")&&
(c=a.attributes.getNamedItem("src").nodeValue);this.execute=function(){var a=b.string,a=a.padFront(a.padEnd("\nsource\n","=",56),"=",104);j(a);c&&i(c);return!0}}var f=[],e="tests.xml",g=-1,k=[],l=null,j=function(){console.log([].splice.call(arguments,0).join(" "))},m=function(){console.error([].splice.call(arguments,0).join(" "))};this.namespace=function(){return"test"};this.dependencies=function(){return f};this.setLogFn=function(a){j=a};this.setErrorFn=function(a){m=a};this.setSource=function(a){e=
a};this.current=function(){return l};this.start=function(){k=[];j("lola.test.run: "+e);i(e);g=-1;h();return""}})})(lola);(function(b){"complete"===document.readyState?b.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",b.initialize,!1),b.window.addEventListener("load",b.initialize,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",b.initialize),b.window.attachEvent("onload",b.initialize))})(lola);