"use strict";(function(b){var k=(new Date).getTime(),g=function(a,b){return new g.Selector(a,b)};g.window=b;var a=!1;g.isInitialized=function(){return a};g.extend=function(a,b,e,f){void 0==e&&(e=!1);void 0==f&&(f=!1);for(var i in b)if(e||null==a[i])a[i]=b[i];else if(f)throw Error("property "+i+" already exists on extend target!");};g.getPackage=function(a,b,e){if("string"===typeof b)for(var b=b.split("."),f;f=b.shift();)null==a[f]&&(a[f]={}),0==b.length&&e&&(a[f]=e),a=a[f];return a};g.registerModule=function(a,
b){var b=void 0==b?!1:b,e=a.namespace();b?g.extend(g.getPackage(g,e),a,!1,!1):g.getPackage(g,e,a);this.hasFn(a,"dependencies")&&g.addDependencies(e,a.dependencies());a.selectorMethods&&(g.extend(g.Selector.prototype,a.selectorMethods,!1,!1),delete a.selectorMethods);g.hasFn(a,"initialize")&&g.addInitializer(a.initialize);g.debug("module registered:",e)};g.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",g.initialize,!1),g.window.removeEventListener("load",
g.initialize,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",g.initialize),g.window.detachEvent("onload",g.initialize));g.checkDependencies();g.executeInitializers();a=!0;var b=(new Date).getTime()-k;delete g.initialize;g.debug("initialization completed in",b,"ms")};b.lola=g;b.$=g})(window);Object.keys||(Object.keys=function(b){var k=[],g;for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&k.push(g);return k});Object.forEach||(Object.forEach=function(b,k,g){if(void 0===b||null===b)throw new TypeError;b=Object(b);if("function"!==typeof k)throw new TypeError;for(var a in b)b.hasOwnProperty(a)&&k.call(g,b[a],a,b)});
Array.prototype.forEach||(Array.prototype.forEach=function(b,k){if(void 0===this||null===this)throw new TypeError;var g=Object(this),a=g.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=0;d<a;d++)d in g&&b.call(k,g[d],d,g)});
Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(void 0===this||null===this)throw new TypeError;var k=Object(this),g=k.length>>>0;if(0===g)return-1;var a=0;0<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));if(a>=g)return-1;for(a=0<=a?a:Math.max(g-Math.abs(a),0);a<g;a++)if(a in k&&k[a]===b)return a;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(b){if(void 0===this||null===this)throw new TypeError;var k=Object(this),g=k.length>>>0;if(0===g)return-1;var a=g;1<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));for(g=0<=a?Math.min(a,g-1):g-Math.abs(a);0<=g;g--)if(g in k&&k[g]===b)return g;return-1});
Array.prototype.filter||(Array.prototype.filter=function(b,k){if(void 0===this||null===this)throw new TypeError;var g=Object(this),a=g.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=[],c=0;c<a;c++)if(c in g){var e=g[c];b.call(k,e,c,g)&&d.push(e)}return d});
Array.prototype.every||(Array.prototype.every=function(b,k){if(void 0===this||null===this)throw new TypeError;var g=Object(this),a=g.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=0;d<a;d++)if(d in g&&!b.call(k,g[d],d,g))return!1;return!0});
Array.prototype.map||(Array.prototype.map=function(b,k){if(void 0===this||null===this)throw new TypeError;var g=Object(this),a=g.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=Array(a),c=0;c<a;c++)c in g&&(d[c]=b.call(k,g[c],c,g));return d});
Array.prototype.some||(Array.prototype.some=function(b,k){if(void 0===this||null===this)throw new TypeError;var g=Object(this),a=g.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=0;d<a;d++)if(d in g&&b.call(k,g[d],d,g))return!0;return!1});
Array.prototype.reduce||(Array.prototype.reduce=function(b){var k,g=this.length,a;if("function"!==typeof b)throw new TypeError("First argument is not callable");if((0==g||null===g)&&1>=arguments.length)throw new TypeError("Array length is 0 and no second argument");1>=arguments.length?(a=this[0],k=1):a=arguments[1];for(k=k||0;k<g;++k)k in this&&(a=b.call(void 0,a,this[k],k,this));return a});
Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)||b instanceof Array});String.prototype.trim||(String.prototype.trim=function(){return(""+this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});(function(b){b.Selector=function(k,g){var a=0;if(Array.isArray(k))for(var d=k.length,a=0;a<d;a++)this[a]=d[a];else if("object"===typeof k)this[a]=k,a++;else if("string"===typeof k)if(window.Sizzle)for(var c=Sizzle(k,g),a=0;a<d;a++)this[a]=c[a];else try{g||(g=document);for(var c=g.querySelectorAll(k),e=c.length,a=0;a<e;a++)this[a]=c.item(a);this.length=a}catch(f){console.warn("Exception:",k)}else"function"==typeof k&&b.addInitializer(k);this.length=a;return this};b.Selector.prototype={};b.Selector.prototype.forEach=
Array.prototype.forEach;b.Selector.prototype.every=Array.prototype.every;b.Selector.prototype.filter=Array.prototype.filter;b.Selector.prototype.indexOf=Array.prototype.indexOf;b.Selector.prototype.join=Array.prototype.join;b.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;b.Selector.prototype.map=Array.prototype.map;b.Selector.prototype.push=Array.prototype.push;b.Selector.prototype.pop=Array.prototype.pop;b.Selector.prototype.shift=Array.prototype.shift;b.Selector.prototype.unshift=Array.prototype.unshift;
b.Selector.prototype.slice=Array.prototype.slice;b.Selector.prototype.splice=Array.prototype.splice;b.Selector.prototype.reverse=Array.prototype.reverse})(lola);(function(b){var k=new function(){function g(a){var j=[];Object.forEach(a,function(a){b.hasPackage(b,a)||j.push(a)});return j}var a=this,d={},c=0,e=[],f=[],i=!1,l;this.namespace=function(){return""};this.dependencies=function(){return d};this.url=function(){return l};this.setURL=function(b){l=new a.URL(b);i="true"==l.vars.debug};this.debugMode=function(){return i};this.getGUID=function(){return c++};this.addInitializer=function(a){b.isInitialized()?a(b):e.push(a)};this.addSafeDeleteHook=function(a,
j){f.push({fn:a,scope:j})};this.addDependencies=function(a,j){d[a]=j};this.safeDelete=function(a,j){for(var h=j?a[j]:a,b=f.length-1;0<=b;b--)if(h){var i=f[b];i.fn.call(i.scope,h)}a&&j&&delete a[j]};this.checkDependencies=function(a){var a=a?a:d,j=[],h;for(h in a){var b=g(a[h]);0<b.length&&j.push(h+": "+b.join(", "))}if(0<j.length)throw Error("module dependency checks failed for: \n\t"+j.join("\n\t"));};this.executeInitializers=function(){b.debug("core::executeInitializers");var a,j=e.length;for(a=
0;a<j;a++)b.hasFn(e,a)&&(e[a](b),delete e[a])};this.evaluate=function(a,j){null==j&&(j=document.getElementsByTagName("head")[0],j||(j=document.documentElement));var h=document.createElement("script");h.type="text/javascript";b.support.domEval?h.appendChild(document.createTextNode(a)):h.text=a;j.insertBefore(h,j.firstChild);j.removeChild(h)};this.loadScript=function(a,j){var h=document.getElementsByTagName("head")[0];h||(h=document.documentElement);var i=document.createElement("script");"function"==
typeof j&&b.event.addListener(i,"load",function(){j.apply()});i.src=a;h.insertBefore(i,h.firstChild)};this.hasPackage=function(a,j){var h=a;if("string"===typeof j)for(var b=j.split("."),i;i=b.shift();){if(null==h[i])return!1;h=h[i]}return!0};this.hasFn=function(a,j){return a&&a[j]&&"function"==typeof a[j]};this.debug=function(){i&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return 1==a.length?a[0]:a};this.selectorMethods=
{identify:function(){this.forEach(function(a){a.id||(a.id="lola-guid-"+b.getGUID())});return this},get:function(a){void 0==a&&(a=0);return this[a]},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,j){var h=this;a instanceof b.Selector?a.forEach(function(a){h.push(a)}):Array.isArray(a)?a.forEach(function(a){h.push(a)}):h.push(a);if(void 0==j||!0===j){var i=b.array.unique(this);this.splice(0,this.length);i.forEach(function(a){h.push(a)})}return this},g:function(){return b.__(this.i.apply(this,
arguments))},s:function(){this.i.apply(this,arguments);return this},_:function(){var a=this.i.apply(this,arguments);return void 0==arguments[arguments.length-1]?b.__(a):this},i:function(){var a=[],j=this,h=arguments.length;if(h){for(var i=arguments[0],b=[],d=1;d<h;d++)b.push(arguments[d]);this.forEach(function(h){a.push(i.apply(j,[h].concat(b)))})}return a}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?a[1]:"";var j={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,b,i){j[b]=i;return""});
this.vars=j;a=a.split(":");2==a.length?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=""==this.domain?"":"/";0<a.length&&(this.path=this.path+a.join("/")+"/");return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(j,h){a.push(h+"="+j)});var j=a.length?"?"+a.join("&"):"",h=""==this.hash?"":"#"+this.hash;return""!=this.protocol?this.protocol+
"://"+this.domain+this.path+this.page+j+h:this.path+this.page+j+h}};return this};k.setURL(b.window.location.href);b.registerModule(k,!0)})(lola);(function(b){b.registerModule(new function(){var k=this,g=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=!1;this.deleteExpando=!0;this.msEvent=!1;this.domEvent=!0;this.animationFrameType=0;this.cssRules=!1;this.namespace=function(){return"support"};this.dependencies=function(){return g};this.initialize=function(){b.debug("lola.support::initialize");k.cssRules=0<document.styleSheets.length&&document.styleSheets[0].cssRules||void 0==document.createStyleSheet?!0:!1};var a=document.documentElement,
d=document.createElement("script"),c="scriptCheck"+(new Date).getTime();d.type="text/javascript";try{d.appendChild(document.createTextNode("lola.window."+c+"=true;"))}catch(e){}a.insertBefore(d,a.firstChild);a.removeChild(d);k.domEval=b.window[c];delete b.window[c];a=document.createElement("div");a.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' >test</div>";a=a.firstChild;k.style="string"===typeof a.getAttribute("style");k.cssFloat=/^left$/.test(a.style.cssFloat);
k.colorAlpha=/^rgba.*/.test(a.style.backgroundColor);try{delete a.test}catch(f){k.deleteExpando=!1}document.addEventListener?k.domEvent=!0:document.attachEvent&&(k.msEvent=!0);window.requestAnimationFrame?k.animationFrameType=1:window.mozRequestAnimationFrame?k.animationFrameType=2:window.webkitRequestAnimationFrame?k.animationFrameType=3:window.oRequestAnimationFrame&&(k.animationFrameType=4)})})(lola);(function(b){b.registerModule(new function(){function b(a){return function(b,c){var e=b[a],f=c[a];return e<f?-1:e>f?1:0}}var g=[];this.namespace=function(){return"array"};this.dependencies=function(){return g};this.hasObjectWithProperty=function(a,b,c){return a.some(function(a){return a[b]==c})};this.unique=function(a){for(var b=[],c=a.length-1;0<=c;c--)-1==b.indexOf(a[c])&&b.push(a[c]);return b};this.isIn=function(a,b){return 0<=a.indexOf(b)};this.pruneNulls=function(a){var b=[];a.forEach(function(a){null!=
a&&b.push(a)});return b};this.sortOn=function(a,d){return d.sort(b(a))};this.selectorMethods={}})})(lola);(function(b){b.registerModule(new function(){function k(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),d=""==d?"Element":d;e[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";b.evaluate(a)}function g(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object /g,"").replace(/Element\]/g,""),d=""==d?"Element":
d;e[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";b.evaluate(a)}function a(a){e["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";b.evaluate(a)}var d=this,c=[],e={},f=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return c};this.get=function(a){return(a=
e[Object.prototype.toString.call(a)])?a:"other"};this.isPrimitive=function(a){return 0<=f.indexOf(d.get(a))};this.selectorMethods={getType:function(){return this.g(d.get)},isType:function(a,b){return void 0!=b&&0<=b?d.get(this[b])===a:this.every(function(b){return d.get(b)===a})},isPrimitive:function(a){return void 0!=a&&0<=a?d.isPrimitive(this.getType(a)):this.every(function(a){return 0<=d.isPrimitive(a)})}};(function(){"String,Number,Date,Array,Boolean,RegExp,Function,Object,Undefined,Null".split(",").forEach(a);
"a,abbr,acronym,address,applet,area,article,aside,audio,b,base,bdi,bdo,big,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,dir,div,dl,dt,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,label,legend,li,link,map,mark,menu,meta,meter,nav,noframes,noscript,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,s,samp,script,section,select,small,source,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbrxmp".split(",").forEach(k);
["object"].forEach(g);var d=document.createTextNode("test"),f=document.createComment("test"),d=Object.prototype.toString.call(d),f=Object.prototype.toString.call(f),c=Object.prototype.toString.call(b.window);e[d]="textnode";e[f]="commentnode";e[c]="window"})()})})(lola);(function(b){b.registerModule(new function(){var k=this,g=[],a={};this.namespace=function(){return"dom"};this.dependencies=function(){return g};this.attr=function(d,c,e,f){if(!1!==f&&a[c])return a[c].apply(d,arguments);if(d){if(e||""==e){if(b.type.isPrimitive(e))return d[c]=e;throw Error("attribute values must be primitives");}return d[c]}};this.addAttrHook=function(b,c){Array.isArray(b)||(b=[b]);b.forEach(function(b){a[b]=c})};this.deleteExpando=function(a,c){b.support.deleteExpando?delete a[c]:
a[c]=null};this.isDescendant=function(a,b){return k.isAncestor(b,a)};this.isAncestor=function(a,b){for(var e=b;e&&(e=e.parentNode)&&"BODY"!=e.nodeName;)if(a==e)return!0;return!1};this.selectorMethods={find:function(a){var b=$([]);this.forEach(function(e){e=$(a,e);b.concat(e)});return b},generation:function(a){a||(a=1);var b=$([]);this.forEach(function(e){for(var f=0;e=e.parentNode&&f<a;)f++;e&&b.concat([e])});return b},html:function(a){if(0==arguments.length){var c=[];this.forEach(function(a){c.push(a?
a.innerHTML:null)});return b.__(c)}this.forEach(function(c){if(c.childNodes){for(var f=c.childNodes.length,i=0;i<f;i++){var l=c.childNodes.item(i);b.safeDelete(l)}switch(b.type.get(a)){case "null":case "undefined":c.innerHTML="";break;case "string":c.innerHTML=a;break;case "array":c.innerHTML="";for(var m in a)c.appendChild(m);break;default:c.innerHTML="",c.appendChild(a)}}});return this},appendChild:function(a){if(0<this.length){var b=this.get();b&&b.appendChild&&b.appendChild(a)}return this},prependChild:function(a){0<
this.length&&this.get().insertBefore(a,this.get().firstChild);return this},cloneNode:function(a){return 0<this.length?this.get().cloneNode(a):null},insertBefore:function(a){1==this.length&&this.parent().insertBefore(a,this[0]);return this},insertAfter:function(a){1==this.length&&this.parent().insertAfter(a,this[0]);return this},removeChild:function(a){0<this.length&&(b.safeDelete(a),this.get().removeChild(a));return this},replaceChild:function(a,c){0<this.length&&(b.safeDelete(c),this.get().replaceChild(a,
c));return this},attr:function(a,c){if(void 0!=c)return this.forEach(function(b){k.attr(b,a,c)}),this;var e=[];this.forEach(function(b){e.push(k.attr(b,a))});return b.__(e)},removeAttr:function(a){this.forEach(function(b){b.removeAttribute(a)});return this},parent:function(a){if(void 0!=a)return this.forEach(function(b){$(a).appendChild(b)}),this;var c=[];this.forEach(function(a){c.push(a?a.parentNode:null)});return b.__(c)},nodeIndex:function(){var a=[];this.forEach(function(b){if(b.previousSibling){for(var e=
0;null!=(b=b.previousSibling);)e++;a.push(e)}else a.push(0)});return b.__(a)},deleteExpando:function(a){return this.s(b.deleteExpando,a)}};k.addAttrHook(["value","checked","selected"],function(a,c,e){var f=k.attr(a,c,void 0,!1);return void 0!=e?(c=k.attr(a,c,e,!1),f!=e&&b.event.trigger(a,"change",!1,!1),c):f})})})(lola);(function(b){b.registerModule(new function(){function k(a,i){var i=void 0==i?!0:i,d=b.dom.attr(a,e);if(null==d)switch(b.type.get(a)){case "function":case "object":d=a[e];null==d&&i&&(d=c++,a[e]=d);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:d=b.dom.attr(a,e),null==d&&i&&(d=c++,b.dom.attr(a,e,d))}return d}var g=this,a=["dom","type"],d={},c=1,e="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return a};this.get=function(a,b,c){var e=k(a,!1);return null==d[b]||null==e?c?g.set(a,{},b,!1):null:d[b][e]};this.getNamespaceData=function(a){return d[a]};this.set=function(a,i,c,e){a=k(a,!0);null==d[c]&&(d[c]={});e||null==d[c][a]?d[c][a]=i:b.extend(d[c][a],i,!0);return d[c][a]};this.remove=function(a,i,c){var e=k(a,!1);if(e){if(null==i||void 0==i){var i=[],j;for(j in d)i.push(j)}else"array"!=b.type.get(i)&&(i=[i]);i.forEach(function(a){delete d[a][e]})}void 0===
c&&(c=!0);c&&a.childNodes&&"array"==b.type.get(a.childNodes)&&a.childNodes.forEach(function(a){g.remove(a,i,!0)})};this.selectorMethods={getData:function(a,b){return this.g(g.get,a,b)},putData:function(a,b){return this.s(g.set,a,b)},updateData:function(a,b){return this.s(g.set,a,b,!1)},removeData:function(a,b){return this.s(g.remove,a,b)},removeAllData:function(a){return this.removeData(null,a)}};b.addSafeDeleteHook(this.remove,this)})})(lola);(function(b){b.registerModule(new function(){var k=[];this.namespace=function(){return"util"};this.dependencies=function(){return k};this.copyPrimitives=function(g,a){for(var d in g)b.type.isPrimitive(g[d])&&(a[d]=g[d])};this.checkArgs=function(g,a,d){for(var c=!0,e=[],f=a.length-1;0<=f;f--)if(void 0===a[f][1]||null===a[f][1])c=!1,e.push(a[f][0]+" is not set!");c||(console.groupCollapsed?console.groupCollapsed(g):console.group(g),"array"==b.type.get(d)&&d.forEach(function(a){console.info(a)}),e.forEach(function(a){console.warn(a)}),
console.groupEnd());return c};this.getInlineValue=function(g,a,d,c){g=$('script[type="text/x-lola-'+a+'"]',g);return g.length&&(g=eval(g[0].innerHTML),b.type.get(g)===d.toLowerCase())?g:c};this.nodeList2Array=function(b){try{return Array.prototype.slice.call(b,0)}catch(a){for(var d=[],c=b.length;c--;d.unshift(b[c]));return d}};this.selectorMethods={compareValues:function(b,a,d){var c=d;"string"===typeof b?this.foreach(function(d){c=a.call(this,c,Number(d[b]))}):"function"===typeof b&&this.foreach(function(d){c=
a.call(this,c,b.call(this,d))});return c}}})})(lola);(function(b){b.registerModule(new function(){var b=[];this.namespace=function(){return"string"};this.dependencies=function(){return b};this.padFront=function(b,a,d){for(var b=b.toString(),c=b.length,b=[b];c<d;)b.push(a),c++;return b.join("")};this.padEnd=function(b,a,d){for(var b=b.toString(),c=b.length,b=[b];c<d;)b.unshift(a),c++;return b.join("")};this.camelCase=function(b){for(var b=(""+b).split("-"),a=b.length,d=1;d<a;d++)0<b[d].length&&(b[d]=b[d].charAt(0).toUpperCase()+b[d].slice(1));return b.join("")};
this.dashed=function(b){for(var b=b.split(""),a,d=[];a=b.shift();)a==a.toUpperCase()&&d.push("-"),d.push(a.toLowerCase());return d.join("")}})})(lola);(function(b){b.registerModule(new function(){var b=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return b};this.selectorMethods={}})})(lola);(function(b){b.registerModule(new function(){function k(j){j=j||b.window.event;a(j,"capture")}function g(j){j=j||b.window.event;a(j,"bubble")}function a(a,h){var d=a.originalEvent?a:new l(a,{}),c=b.data.get(d.currentTarget,i);if(c&&c[h]&&c[h][a.type]){var f=[],e;for(e in c[h][a.type])f.push(c[h][a.type][e]);var f=b.array.sortOn("priority",f),m;for(m in f){if(d._immediatePropagationStopped)break;e=f[m];e.handler?e.handler.call(e.scope,d):delete c[h][a.type][e.huid]}}}var d=this;this.PRIORITY_BEFORE=
1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var c=["data","util","type"],e={mousewheel:["mousewheel","DOMMouseScroll"]},f={},i="_event";this.namespace=function(){return"event"};this.dependencies=function(){return c};this.addHook=function(a,b){f[a]=b};this.addListener=function(a,h,c,e,l,m,p){if(b.util.checkArgs("ERROR: lola.event.addListener( "+h+" )",[["target",a],["type",h],["handler",c]],[a,"type: "+h,"useCapture: "+e])){if(!1!==
p&&null!=f[h])return m=f[h],m.addListener(a,h,c,e,l,m);p=b.data.get(a,i);p||(p={capture:{},bubble:{}},b.data.set(a,p,i,!0));e=d.phaseString(a,e);l=l||d.PRIORITY_NORMAL;null==c.uid&&(c.uid=n++);var n=c.uid;null==p[e][h]&&(p[e][h]={});p[e][h][n]={priority:l,huid:n,handler:c,scope:m||a};"capture"==e?d.addDOMListener(a,h,k,!0):d.addDOMListener(a,h,g,!1);return n}};this.removeListener=function(a,h,c,e,l){b.util.checkArgs("ERROR: lola.event.removeListener( "+h+" )",[["target",a],["type",h],["handler",c]],
[a,"type: "+h,"useCapture: "+e])&&(!1!==l&&null!=f[h]?f[h].removeListener.call(f[h],a,h,c,e):((l=b.data.get(a,i))||(l={capture:{},bubble:{}}),e=d.phaseString(a,e),c="function"==b.type.get(c)?c.uid:c,delete l[e][h][c],0==Object.keys(l[e][h]).length&&("capture"==e?d.removeDOMListener(a,h,k,!0):d.removeDOMListener(a,h,g,!1))))};this.removeHandler=function(a,h,c){if(b.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a="function"==b.type.get(a)?a.uid:a,f=b.data.getNamespace(i);
if(f){var c=void 0==c?["capture","bubble"]:c?["capture"]:["bubble"],e;for(e in f){void 0!=h&&(h="array"==b.type.get(h)?h:[h]);for(var l in c){var m;if(h)for(m in h)f[e][l][m]&&delete f[e][l][m][a];else for(m in f[e][l])delete f[e][l][m][a];0==Object.keys(f[e][l][m]).length&&d.removeDOMListener(target,m,"capture"==l?k:g,"capture"==l)}}}}};this.trigger=function(j,h,c,d,i){if(b.util.checkArgs([j,h],["target","type"],"lola.event.trigger: type="+h+" bubbles="+c)){void 0==c&&(c=!0);void 0==d&&(d=!0);var f=
h;"string"===b.type.get(f)&&(f=document.createEvent("Event"),f.initEvent(h,c,d),f.data=i);j.dispatchEvent?j.dispatchEvent(f):(f=new l(f,j),a(f,"capture"),c&&a(f,"bubble"))}};this.addDOMListener=function(a,h,c,d){h=e[h]?e[h]:[h];h.forEach(function(f){try{b.support.domEvent&&a.addEventListener?a.addEventListener(f,c,d):b.support.msEvent&&a.attachEvent?a.attachEvent("on"+f,c):null==a["on"+f.toLowerCase()]&&(a["on"+h.toLowerCase()]=c)}catch(i){b.debug("lola.event.addDOMListener error:",a,h,c,d)}})};this.removeDOMListener=
function(a,h,c,d){h=e[h]?e[h]:[h];h.forEach(function(){try{b.support.domEvent&&a.removeEventListener?a.removeEventListener(h,c,d):b.support.msEvent&&a.detachEvent?a.detachEvent("on"+h,c):null==a["on"+h.toLowerCase()]&&delete a["on"+h.toLowerCase()]}catch(f){b.debug("lola.event.removeDOMListener error:",a,h,c,d)}})};this.getDOMTarget=function(a,b){a&&(a.currentTarget?b=a.currentTarget:a.srcElement&&(b=a.srcElement),b&&3==b.nodeType&&(b=b.parentNode));return b};this.getDOMKeycode=function(a){var b;
a.keyCode?b=a.keyCode:a.which&&(b=a.which);return b};this.getDOMKey=function(a){a=d.getDOMKeycode(a);return 65535<a?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):String.fromCharCode(a)};this.getDOMGlobalXY=function(a){var b=0,c=0;if(a.pageX||a.pageY)b=a.pageX,c=a.pageY;else if(a.clientX||a.clientY)b=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,c=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:b,y:c}};this.getDOMLocalXY=function(a){return{x:a.layerX||
a.offsetX||0,y:a.layerY||a.offsetY||0}};this.phaseString=function(a,h){return h&&(b.support.domEvent||b.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1;return!1};this.selectorMethods={addListener:function(a,b,c,f,i){return this.s(d.addListener,
a,b,c,f,i)},removeListener:function(a,b,c){return this.s(d.removeListener,a,b,c)},removeHandler:function(a,b,c){return this.s(d.removeHandler,a,b,c)},trigger:function(a,b,c,f){return this.s(d.trigger,a,b,c,f)}};var l=function(a,b){return this.init(a,b)};l.prototype={originalEvent:null,propagationStopped:!1,immediatePropagationStopped:!1,target:null,currentTarget:null,globalX:null,globalY:null,key:null,init:function(a,h){b.extend(this,a,!1,!1);this.originalEvent=a;h&&(this.target=h);this.currentTarget=
d.getDOMTarget(a,h);var c=d.getDOMGlobalXY(a);this.globalX=c.x;this.globalY=c.y;c=d.getDOMLocalXY(a);this.localX=c.x;this.localY=c.y;this.key=d.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();this.propagationStopped=!0},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();this.immediatePropagationStopped=!0}};this.AliasHook=function(a){this.addListener=function(c,d,
f,i,e,l){b.debug("alias hook addListener",d);var m;a.forEach(function(a){b.debug("    ",a);m=b.event.addListener(c,a,f,i,e,l,!1)});return m};this.removeListener=function(c,d,f,i){b.debug("alias hook removeListener",d);a.forEach(function(a){b.debug("    ",a);b.event.removeListener(c,a,f,i,!1)})}};this.addHook("transitionend",new this.AliasHook(["transitionend","webkitTransitionEnd","oTransitionEnd"]));this.addHook("hover",new function(){function a(c){var h=b.dom.attr(c,"hoverDelay"),h=null==h||void 0==
h?250:parseInt(h),d=b.data.get(c,m);d||(d={hasIntent:!1,wait:h,timeout:-1},b.data.set(c,d,m,!0));return d}function c(b){e.addListener(b.currentTarget,"mouseout",d,!1,0,e);b=a(b.currentTarget);b.hasIntent=!0;0>b.timeout&&(b.timeout=setTimeout(f,b.wait))}function d(b){e.removeListener(b.currentTarget,"mouseout",d,!1);a(b.currentTarget).hasIntent=!1}function f(b){e.removeListener(b,"mouseout",d,!1,0,e);var c=a(b);c.timeout=-1;c.hasIntent&&e.trigger(b,l)}var e=this,l="hover",m="eventHover";this.addListener=
function(b,d,f,i,m,v){d=e.addListener(b,l,f,i,m,v);a(b);e.addListener(b,"mouseover",c,!1,0,e);return d};this.removeListener=function(a,d,f,j){d=b.data.get(a,i);e.removeListener(a,l,f,j);f=e.phaseString(a,j);if(null==d[f][l]||0==Object.keys(d[f][l]).length)e.removeListener(a,"mouseover",c,!1),b.data.remove(a,m)};return this});var m=new function(){function a(c){var d=b.data.get(c,g);d||(d={within:!1},b.data.set(c,d,g,!0));return d}function c(a){b.support.msEvent||(a="do"+a);return a}function d(b){var c=
a(b.currentTarget);!c.within&&b.currentTarget!=b.relatedTarget&&(c.within=!0,e.trigger(b.currentTarget,l,!1))}function f(c){var d=a(c.currentTarget);d.within&&!b.util.isAncestor(c.currentTarget,c.relatedTarget)&&c.currentTarget!=c.relatedTarget&&(d.within=!1,e.trigger(c.currentTarget,m,!1))}var e=this,l="domouseenter",m="domouseleave",g="eventMouseEnterState";this.addListener=function(a,j,i,l,m,g){b.support.msEvent||(e.addListener(a,"mouseover",d,l,m,g),e.addListener(a,"mouseout",f,l,m,g));return e.addListener(a,
c(j),i,l,m,g)};this.removeListener=function(a,j,l,m){var g=b.data.get(a,i),k=e.phaseString(a,m),j=c(j);e.removeListener(a,j,l,m);if(!b.support.msEvent&&null==g[k][j]||0==g[k][j].keys().length)e.removeListener(a,"mouseover",d,m),e.removeListener(a,"mouseout",f,m)}};this.addHook("mouseenterstate",m);this.addHook("mouseleave",m);this.addHook("mouseenter",m)})})(lola);(function(b){b.registerModule(new function(){var b=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return b};this.normalizeRadians=function(b){for(var a=2*Math.PI;b<a;)b+=a;return b%a};this.normalizeDegrees=function(b){for(;360>b;)b+=360;return b%360};this.normalizeRange=function(b,a,d){return Math.max(b,Math.min(d,a))};this.selectorMethods={maxValue:function(b){return this.compareValues(b,Math.max,Number.MIN_VALUE)},minValue:function(b){return this.compareValues(b,Math.min,
Number.MAX_VALUE)},totalValue:function(b){return this.compareValues(b,function(a,b){return a+b},0)},avgValue:function(b){return this.totalValue(b)/this.length}}})})(lola);(function(b){b.registerModule(new function(){var b=this,g=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return g};this.rgb2hsl=function(a,b,c){var e=0,f=0,a=0>a?0:a,a=1<a?1:a,b=0>b?0:b,b=1<b?1:b,c=0>c?0:c,c=1<c?1:c,i=a>b?c>a?c:a:c>b?c:b,l=a<b?c<a?c:a:c<b?c:b;0!=i&&(f=(i-l)/i);if(0<f)for(var e=(i-a)/(i-l),m=(i-b)/(i-l),c=(i-c)/(i-l),e=(a==i?c-m:b==i?2+e-c:4+m-e)/6;0>e;)e++;return{h:e,s:f,l:i}};this.rgb2hex=function(a,b,c){var e="",a=0>a?0:a,b=0>b?0:b,b=1<b?1:b,
c=0>c?0:c,c=1<c?1:c,a=Math.round(255*(1<a?1:a)),b=Math.round(255*b),c=Math.round(255*c),f=[];f.push((a-a%16)/16);f.push(a%16);f.push((b-b%16)/16);f.push(b%16);f.push((c-c%16)/16);f.push(c%16);f.forEach(function(a){e+="0123456789ABCDEF".charAt(a)});return e};this.rgb2int=function(a,d,c){return parseInt("0x"+b.rgb2hex(a,d,c))};this.hsl2rgb=function(a,b,c){var a=0>a?0:a,a=1<a?1:a,b=0>b?0:b,b=1<b?1:b,c=0>c?0:c,c=1<c?1:c,e=0,f=0,i=0;if(0!=b){var a=6*(a-Math.floor(a)),l=a-Math.floor(a),m=c*(1-b),j=c*(1-
b*l),b=c*(1-b*(1-l));switch(Math.floor(a)){case 0:e=c;f=b;i=m;break;case 1:e=j;f=c;i=m;break;case 2:e=m;f=c;i=b;break;case 3:e=m;f=j;i=c;break;case 4:e=b;f=m;i=c;break;case 5:e=c,f=m,i=j}}return{r:e,g:f,b:i}};this.hsl2int=function(a,d,c){a=b.hsl2rgb(a,d,c);return b.rgb2int(a.r,a.g,a.b)};this.hsl2hex=function(a,d,c){a=b.hsl2rgb(a,d,c);return b.rgb2hex(a.r,a.g,a.b)};this.int2rgb=function(a){a=16777215<a?16777215:a;a=0>a?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}};this.int2hsl=function(a){a=
b.int2rgb(a);return b.rgb2hsl(a.r,a.g,a.b)};this.int2hex=function(a){a=b.int2rgb(a);return b.rgb2hex(a.r,a.g,a.b)};this.hex2int=function(a){return parseInt("0x"+(3==a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))};this.hex2rgb=function(a){return b.int2rgb(this.hex2int(a))};this.hex2hsl=function(a){return b.int2hsl(this.hex2int(a))}})})(lola);(function(b){b.registerModule(new function(){function k(a){1==i?b.window.requestAnimationFrame(a):2==i?b.window.mozRequestAnimationFrame(a):3==i?b.window.webkitRequestAnimationFrame(a):4==i?b.window.oRequestAnimationFrame(a):setTimeout(a,l)}function g(){var a=!1,j=b.now(),h;for(h in e)e[h].isActive()&&(a=!0,e[h].isComplete()?(b.event.trigger(e[h],"animationcomplete",!1,!1),delete e[h],c.push(parseInt(h))):e[h].enterFrame(j));a?k(g):f=!1}var a=this,d=["event"],c=[],e={},f=!1,i=0,l=1E3/30;this.namespace=
function(){return"animation"};this.dependencies=function(){return d};this.initialize=function(){i=b.support.animationFrameType};this.register=function(a,b){e[a]=b};this.start=function(a){e[a]&&e[a].start()};this.stop=function(a){e[a]&&e[a].stop()};this.pause=function(a){e[a]&&e[a].pause()};this.resume=function(a){e[a]&&e[a].resume()};this.selectorMethods={};this.Animation=function(c,j){var h=-1,i=-1,d=-1,e=!1,l=!1,p="function"===typeof c?c:function(){return!1};this.enterFrame=function(a){var b=a-
d,c=a-h;d=a;e=p.call(j,a,b,c)};this.isActive=function(){return e};this.isComplete=function(){return l};this.start=function(){e||this.restart()};this.pause=function(){e&&(e=!1,i=b.now(),b.event.trigger(a,"animationpause",!1,!1))};this.resume=function(){e||(e=!0,h+=b.now()-i,f||(f=!0,k(g)),b.event.trigger(a,"animationresume",!1,!1))};this.restart=function(){e=!0;l=!1;h=d=b.now();f||(f=!0,k(g));b.event.trigger(a,"animationstart",!1,!1)};this.stop=function(){e=!1;l=!0;b.event.trigger(a,"animationstop",
!1,!1)};return this}})})(lola);(function(b){b.registerModule(new function(){function k(a){c[a]||(c[a]=b.string.camelCase(a));return c[a]}function g(c,f,d){void 0==d?(c=a.getRawStyle(c,f),c=parseFloat(c.replace(b.regex.isDimension,"$1"))):(d=(""+d).match(b.regex.isDimension)?d:d+"px",c=a.setRawStyle(c,f,d));return c}var a=this,d=["type","math.color"],c={},e={},f={};this.namespace=function(){return"css"};this.dependencies=function(){return d};this.initialize=function(){b.debug("lola.css::initialize");"padding,margin,background-position,border-top-width,border-right-width,border-bottom-width,border-left-width,border-width,bottom,font-size,height,left,line-height,list-style-position,margin,margin-top,margin-right,margin-bottom,margin-left,max-height,max-width,min-height,min-width,outline-width,padding,padding-top,padding-right,padding-bottom,padding-left,right,text-indent,top,width".split(",").forEach(function(b){a.registerStyleHook(b,
g)});a.addStyleSheet("_default");c["float"]=b.support.cssFloat?"cssFloat":"styleFloat";var f=function(c,f,j,h){f=a.style(c,f,j,!1);return"auto"==f?b.geometry.getOffset(c,c.offsetParent)[h]+"px":f};a.registerStyleHook("top",function(a,b,c){return f(a,b,c,"y")});a.registerStyleHook("left",function(a,b,c){return f(a,b,c,"x")});delete a.initialize};this.style=function(b,c,f,j){var h=k(c);return!1!=b?null!=e[h]&&!1!==j?e[h].apply(b,arguments):void 0==f?a.getRawStyle(b,h):a.setRawStyle(b,h,f):!1};this.getRawStyle=
function(a,c){var f=k(c),j=a.style[f];if(!j||""==j){var h;document.defaultView&&document.defaultView.getComputedStyle&&(h=document.defaultView.getComputedStyle(a,void 0));j=h?h.getPropertyValue(b.string.dashed(f)):"undefined"!==typeof document.body.currentStyle?a.currentStyle[f]:void 0}return j};this.setRawStyle=function(a,b,c){b=k(b);return a.style[b]=c};this.registerStyleHook=function(a,b){var c=k(a);e[c]=b};this.addStyleSheet=function(c,f){var d=b.support.cssRules?document.createElement("style"):
document.createStyleSheet();f&&(d.source=f);c&&a.registerStyleSheet(d,c);b("head").appendChild(d)};this.registerStyleSheet=function(a,b){f[b]=a};this.addSelector=function(c,d,e){"string"==b.type.get(e)&&(e=f._default);var e=e||f._default,d=d||[],j=b.support.cssRules?e.cssRules.length:e.rules.length;e.addRule?e.addRule(c,null,j):e.insertRule(c+" { }",j);var h=b.support.cssRules?e.cssRules[j]:e.rules[j];d&&d.keys().forEach(function(b){a.style(h,b,d[b])});return h};this.performRuleAction=function(a,
c,f){for(var a=a.toLowerCase(),f=f?f.toLowerCase():"",d=0;d<document.styleSheets.length;d++){var h=document.styleSheets[d];if(!f||f==h.mediaText){var h=b.support.cssRules?h.cssRules:h.rules,e;for(e in h)h.hasOwnProperty(e)&&h[e]&&h[e].selectorText&&h[e].selectorText.toLowerCase()==a&&c(d,e)}}};this.getRules=function(c,f){var d=[];a.performRuleAction(c,function(a,c){b.support.cssRules?d.push(document.styleSheets[a].cssRules[c]):d.push(document.styleSheets[a].rules[c])},f);return d};this.updateRules=
function(b,c,f){var d=a.getRules(b,f);c.keys().forEach(function(b){d.forEach(function(f){a.style(f,b,c[b])})});return d};this.deleteRules=function(c,f){a.performRuleAction(c,function(a,c){b.support.cssRules?document.styleSheets[a].deleteRule(c):document.styleSheets[a].removeRule(c)},f)};this.classes=function(a,c){return void 0!=c?("array"!=b.type.get(c)&&(c="string"==b.type.get(c)?[c]:[]),a.className=c.join(" "),c):a.className.replace(b.regex.extraSpace," ").split(" ").reverse()};this.hasClass=function(c,
f){var d=a.classes(c);return b.array.isIn(d,f)};this.addClass=function(c,f){var d=a.classes(c);b.array.isIn(d,f)||(d.push(f),a.classes(c,d))};this.removeClass=function(b,c){var f=a.classes(b),d=f.indexOf(c);0<=d&&(f.splice(d,1),a.classes(b,f))};this.clearStyle=function(a,b){delete a.style[k(b)]};this.selectorMethods={style:function(b,c){return this._(a.style,b,c)},classes:function(b){return this._(a.classes,b)},hasClass:function(b){return this.every(function(c){return a.hasClass(c,b)})},addClass:function(b){return this.s(a.addClass,
b)},removeClass:function(b){return this.s(a.removeClass,b)}};this.Color=function(a){function c(a,b){return a?0<a.indexOf("%")?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/b:0}var f=this,d=b.math.color,h,e,g;this.getRgbValue=function(){return h};this.getHslValue=function(){return e};this.getHexValue=function(){return g};this.toInt=function(){return parseInt("0x"+g)};this.toHexString=function(){return"#"+g};this.toHslString=function(a){return(a?"hsla":"hsl")+"("+Math.round(360*e.h)+","+Math.round(100*
e.s)+"%,"+Math.round(100*e.l)+"%"+(a?","+e.a:"")+")"};this.toHslaString=function(){return f.toHslString(!0)};this.toRgbString=function(a){return(a?"rgba":"rgb")+"("+Math.round(255*h.r)+","+Math.round(255*h.g)+","+Math.round(255*h.b)+(a?","+h.a:"")+")"};this.toRgbaString=function(){return f.toRgbString(!0)};(function(a){if("string"==typeof a){var f=a.match(b.regex.isColor);if(f)switch(f[1]){case "#":a=a.match(b.regex.isHexColor);g=null!=a?a[1]:"000000";h=d.hex2rgb(g);e=d.rgb2hsl(h.r,h.g,h.b);h.a=e.a=
1;break;case "rgb":case "rgba":f={r:0,g:0,b:0,a:1};a=a.match(b.regex.isRGBColor);null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),f.r=c(a[0],255),f.g=c(a[1],255),f.b=c(a[2],255),f.a=3<a.length?c(a[3],1):1);h=f;g=d.rgb2hex(h.r,h.g,h.b);e=d.rgb2hsl(h.r,h.g,h.b);break;case "hsl":case "hsla":f={h:0,s:0,l:0,a:1},a=a.match(b.regex.isHSLColor),null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),f.h=c(a[0],360),f.s=c(a[1],1),f.l=c(a[2],1),f.a=3<a.length?c(a[3],1):1),e=f,h=d.hsl2rgb(e.h,e.s,e.l),g=d.rgb2hex(h.r,
h.g,h.b),h.a=e.a}}else void 0!=a.r&&void 0!=a.g&&void 0!=a.b?(h=a,g=d.rgb2hex(h.r,h.g,h.b),e=d.rgb2hsl(h.r,h.g,h.b)):void 0!=a.h&&void 0!=a.s&&void 0!=a.l&&(e=a,h=d.hsl2rgb(e.h,e.s,e.l),g=d.rgb2hex(h.r,h.g,h.b)),void 0!=a.a?(h.a=a.a,e.a=a.a):(h.a=1,e.a=1)})(a);return this}})})(lola);(function(b){b.registerModule(new function(){var k=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return k};this.transform=function(a,b,c){var e,f;if(window.ActiveXObject){e=new ActiveXObject("MSXML2.XSLTemplate");e.stylesheet=b.documentElement;b=e.createProcessor();b.input=a;for(f in c)b.addParameter(f,c[f]);b.transform();a=document.createElement("div");a.innerHTML=b.output;e=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var i=
new XSLTProcessor;i.importStylesheet(b);for(f in c)i.setParameter(null,f,c[f]);if(a=i.transformToFragment(a,document))e=a.childNodes}return e};this.cacheXsl=function(){};this.encode=function(a){"string"==typeof a&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){"string"==typeof a&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.selectorMethods={applyTransform:function(a,d,c){this.html(d);
this.forEach(function(d){b.event.addListener(a,"result",function(a){$(d).html(a.data)});b.event.addListener(a,"fault",function(){$(d).html(c)})});a.load()},applyRequest:function(a,d,c,e){this.html(c);this.forEach(function(c){b.event.addListener(a,"result",function(a){$(c).html(a.currentTarget.responseText())});b.event.addListener(a,"fault",function(){$(c).html(e)})});a.load()},loadContent:function(a,d,c){this.applyRequest(new b.http.AsyncRequest(a,"get",[]),{},d,c)}};var g=function(a,d,c,e,f,i){function l(){if(j)switch(j.readyState){case 1:b.event.trigger(g,
"loading",!0,!0,j);break;case 2:b.event.trigger(g,"loaded",!0,!0,j);break;case 3:b.event.trigger(g,"interactive",!0,!0,j);break;case 4:b.event.trigger(g,"statecomplete",!0,!0,j),200==j.status&&!h?(h=!0,b.event.trigger(g,"result",!0,!0,j)):400<=j.status&&(console.info("AsyncRequest.readyStateChange.fault:",a),b.event.trigger(g,"fault",!1,!1,j))}}var g=this,j=!1,h=!1;this.ready=function(){return h};var v=function(){var a=!1;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=new XMLHttpRequest}catch(b){a=
!1}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){a=!1}}return a};this.send=function(h){j=v();j.open(d,a,e,f,i);j.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var k=0;k<c.length;k++)try{j.setRequestHeader(c[k].name,c[k].value)}catch(s){}if(void 0!=h&&"string"!=b.type.get(h)){var k=[],p;for(p in h)k.push(p+"="+b.string.encode(h[p]));h=k.join("&")}j.onreadystatechange=function(){l.call(g)};
j.send(h);return j};this.responseText=function(){return h||!e?j.responseText:!1};this.responseXML=function(){return h||!e?j.responseXML:!1};d=d||"POST";c=c||[];e=void 0==e?!0:e;f=f||null;i=i||null;return this};this.AsyncRequest=function(a,b,c,e,f){return new g(a,b,c,!0,e,f)};this.SyncRequest=function(a,b,c,e,f){return new g(a,b,c,!1,e,f)};this.Transform=function(a,d,c,e){function f(){a.ready()&&d.ready()&&(e&&""!=e&&g.cacheXsl(e,d),h=g.transform(a.responseXML(),d.responseXML(),c),b.event.trigger(j,
"result",!0,!0,h))}function i(){b.event.trigger(j,"fault",!0,!0,"xsl fault")}function l(){b.event.trigger(j,"fault",!0,!0,"xml fault")}var g=j,j=this,h=[];this.resultNodes=function(){return h};this.send=function(b,c){a.ready()||a.send(b);d.ready()||d.send(c)};this.cancel=function(){b.event.removeListener(d,"result",f,!0);b.event.removeListener(d,"fault",i,!0);b.event.removeListener(a,"result",f,!0);b.event.removeListener(a,"fault",l,!0);try{d.abort()}catch(c){}try{a.abort()}catch(h){}};(function(){e=
e||"";if("string"==b.type.get(d)){var a=d;d=g.getCachedXsl(a);if(!d)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=d;if(this.xsl&&this.xml)b.event.addListener(this.xsl,"result",f,!0,0,this),b.event.addListener(this.xsl,"fault",i,!0,0,this),b.event.addListener(this.xml,"result",f,!0,0,this),b.event.addListener(this.xml,"fault",l,!0,0,this),f();else throw Error("transform error!");})();return this}})})(lola);(function(b){b.registerModule(new function(){function k(a){return f.test(a)?'"'+a.replace(f,function(a){var b=d.meta[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,b){var c,f,d,e,m=this.gap,n,o=b[a];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(a));"function"===typeof l&&(o=l.call(b,a,o));switch(typeof o){case "string":return k(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+
o;case "object":if(!o)return"null";this.gap+=this.indent;n=[];if("[object Array]"===Object.prototype.toString.apply(o)){e=o.length;for(c=0;c<e;c+=1)n[c]=g(c,o)||"null";d=0===n.length?"[]":i?"[\n"+i+n.join(",\n"+i)+"\n"+m+"]":"["+n.join(",")+"]";i=m;return d}if(l&&"object"===typeof l){e=l.length;for(c=0;c<e;c+=1)f=l[c],"string"===typeof f&&(d=g(f,o))&&n.push(k(f)+(i?": ":":")+d)}else for(f in o)Object.hasOwnProperty.call(o,f)&&(d=g(f,o))&&n.push(k(f)+(i?": ":":")+d);d=0===n.length?"{}":i?"{\n"+i+n.join(",\n"+
i)+"\n"+m+"}":"{"+n.join(",")+"}";i=m;return d}}function a(a,b){function c(a,f){var d,e,j=a[f];if(j&&"object"===typeof j)for(d in j)Object.hasOwnProperty.call(j,d)&&(e=c(j,d),void 0!==e?j[d]=e:delete j[d]);return b.call(a,f,j)}var f,a=""+a;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return f=eval("("+a+")"),"function"===typeof b?c({"":f},""):f;throw new SyntaxError("JSON.parse");}var d=this,c=["http"],e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=null,l=null,m=0;this.namespace=function(){return"json"};this.dependencies=function(){return c};this.encode=function(a){i="";l=void 0;return g("",
{"":a})};this.decode=function(b){return a(b)};this.get=function(a,c,f){console.log("json.get: "+a);var e=new b.URL(a);if("____"==e.protocol)a=new b.http.AsyncRequest(a),c&&$(a).addListener("result",function(a){console.log("    result");a=d.parse(a.data.responseText);c(a)}),a.send();else{console.log("    cross domain");var i=m++;d.handleResponse[i]=function(a){c(a);delete d.handleResponse[i]};e.vars[f?f:"jsonp"]="lola.json.handleResponse["+i+"]";b.loadScript(e.toString())}};this.selectorMethods={};
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+b.string.padFront(this.getUTCDate(),"0",2)+"T"+b.string.padFront(this.getUTCHours(),"0",2)+":"+b.string.padFront(this.getUTCMinutes(),"0",2)+":"+b.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()})})})(lola);(function(b){b.registerModule(new function(){var k=this,g={},a=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){b.debug("lola.agent::initialize");b.checkDependencies(this.dependencies);for(var d=a.length,c=0;c<d;c++)b.hasFn(a,c)&&(a[c](),delete a[c]);delete k.initialize};this.registerAgent=function(d){var c=d.namespace();b.debug("register agent: "+c);if(c&&b.hasFn(d,"sign")&&b.hasFn(d,"drop")){var e=b.getPackage(b.agent,c,
d);b.hasFn(d,"getDependencies")&&(this.dependencies["agent."+c]=d.getDependencies());g[c]=e;b.hasFn(d,"initialize")&&a.push(function(){d.initialize()});b.hasFn(d,"preinitialize")&&d.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,b){var e=g[b];if(e)e.sign(a);else throw Error("unknown agent: "+b);};this.drop=function(a,b){var e={};void 0==b?e=g:"string"==typeof b&&b.split(",").forEach(function(a){e[a]=g[a]});for(var f in e){var i=e[f];i&&i.drop(a)}};
this.selectorMethods={assignAgent:function(a){return this.s(k.assign,a)},dropAgent:function(a){return this.s(k.drop,a)}};b.addSafeDeleteHook(this.drop,this)})})(lola);(function(b){b.registerModule(new function(){function k(a){g.execute(a.type,a.data.parameters,a.data.responder)}var g=this,a=[],d={},c={};this.namespace=function(){return"cmd"};this.dependencies=function(){return a};this.register=function(a,c){"string"!=typeof a&&void 0==c&&(c=(new a).getName());b.debug("register command: "+c);null!=d[c]&&"string"!=typeof d[c]&&console.warn('command "'+c+'" has already been registered... overwriting');d[c]=a;b.event.addListener(g,c,k)};this.call=function(a,b,c,d,
m){c=new g.Responder(c,d,m);g.execute(a,b,c)};this.execute=function(a,f,i){if(d[a])if("string"==typeof d[a])c[a]||(b.loadScript(d[a],function(){if(b.hasFn(d,a)){for(var f=c[a].length,j=0;j<f;j++){var h=c[a][j];g.execute(h.name,h.params,h.responder)}delete c[a]}else throw Error('The command loaded from "'+d[a]+'" is not named "'+a+'"');}),c[a]=[]),c[a].push({name:a,params:f,responder:i});else{var l=d[a];l&&(l=new l,i&&(b.event.addListener(l,"result",i.handleResult),b.event.addListener(l,"fault",i.handleFault),
b.event.addListener(l,"status",i.handleStatus)),l.execute(f))}else throw Error("Unknown command type: "+a);return i};this.Responder=function(a,c,d){var l=void 0;this.getLastResponse=function(){return l};this.handleStatus=function(a){if(!l||"status"==l.type)l=a;"function"==typeof d&&d.apply(b.window,[a])};this.handleResult=function(c){l=c;"function"==typeof a&&a.apply(b.window,[c])};this.handleFault=function(a){l=a;"function"==typeof c&&c.apply(b.window,[a])};return this};this.Data=function(a,b){this.parameters=
function(){return a};this.responder=function(){return b}}})})(lola);(function(b){b.registerModule(new function(){function k(a){var c={};this.toString=function(){Object.keys(c);var a=[];c.forEach(function(b,c){a.push(c+":"+b)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(0<Object.keys(c).length)switch(b.type.get(a)){case "boolean":a=c[a?"0":"1"];break;default:a=c[a]}return a};a&&this.parse(a);return this}function g(a){if("function"!=typeof a)throw Error("invalid hook.");this.evaluate=function(c,d){return a.apply(b.window,arguments)}}function a(a){function c(a){for(var b=
[],f=a.search(d);0<=f;){var i=a.match(d),g=a.substring(0,f);g&&b.push(g);b.push(new k(i[1]));a=a.substring(f+i[0].length);f=a.search(d)}a&&b.push(a);e=b;j=b.length}var d=/\$\{([^\}]+)\}/,e=[],j=0;this.evaluate=function(a){var c=[];"array"!=b.type.get(a)&&(a=[a]);a.forEach(function(a,b){for(var f=0;f<j;){var d=e[f];"string"===typeof d?c.push(d):c.push(d.evaluate(a,b));f++}});return c.join("")};a&&c(a);return this}var d=this,c=["json"],e={};this.namespace=function(){return"template"};this.dependencies=
function(){return c};this.initialize=function(){b.debug("lola.template::initialize");if(!b)throw Error("lola not defined!");var a=b.now();b('script[type="text/x-lola-template"]').forEach(function(a){d.add(a.id,a.innerHTML)});var c=b.now();b.debug("templates parsed in "+(c-a)+" ms");delete d.initialize};this.add=function(b,c){if(!b||"getValue"==b)throw Error("invalid template id");e[b]=new a(c)};this.addHook=function(a,b){if(!a||"getValue"==a)throw Error("invalid hook id");e[a]=new g(b)};this.apply=
function(a,b){var c="",d;if(!e[a])throw Error('hook "'+a+'" not found.');(d=e[a])&&(c=d.evaluate(b));return c};this.selectorMethods={applyTemplate:function(a,c){this.html(b.template.apply(a,c))}}})})(lola);(function(b){b.registerModule(new function(){var k=this,g=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return g};this.getOffset=function(a,b){var c=new k.Point(a.offsetLeft,a.offsetTop);if(a.offsetParent)var e=k.getOffset(a.offsetParent),c=c.add(e);b&&(e=k.getOffset(b),c=c.subtract(e));return c};this.width=function(a,d){if(void 0!=d){var c=b.css.style(a,"borderLeft"),e=b.css.style(a,"borderRight"),f=b.css.style(a,"paddingLeft"),i=b.css.style(a,"paddingRight");
return b.css.style(a,"width",d-(c+e+f+i))}return a.offsetWidth?a.offsetWidth:a.clientWidth};this.innerWidth=function(a,d){var c;if("window"==$(a).getType()){c=-1;if(a.innerWidth)c=a.innerWidth;else{var e=a.document;e.documentElement&&e.documentElement.clientWidth?c=e.documentElement.clientWidth:e.body&&(c=e.body.clientWidth)}return c}if(void 0!=d)return b.css.style(a,"width",d);c=a.offsetWidth?a.offsetWidth:a.clientWidth;var e=b.css.style(a,"borderLeft"),f=b.css.style(a,"borderRight"),i=b.css.style(a,
"paddingLeft"),g=b.css.style(a,"paddingRight");return c-(e+f+i+g)};this.height=function(a,d){if(void 0!=d){var c=b.css.style(a,"borderTop"),e=b.css.style(a,"borderBottom"),f=b.css.style(a,"paddingTop"),i=b.css.style(a,"paddingBottom");return b.css.style(a,"height",d-(c+e+f+i))}return a.offsetHeight?a.offsetHeight:a.clientHeight};this.innerHeight=function(a,d){var c;if("window"==$(a).getType()){c=-1;if(a.innerHeight)c=a.innerHeight;else{var e=a.document;e.documentElement&&e.documentElement.clientHeight?
c=e.documentElement.clientHeight:e.body&&(c=e.body.clientHeight)}return c}if(void 0!=d)return b.css.style(a,"height",d);c=a.offsetHeight?a.offsetHeight:a.clientHeight;var e=b.css.style(a,"borderTop"),f=b.css.style(a,"borderBottom"),i=b.css.style(a,"paddingTop"),g=b.css.style(a,"paddingBottom");return c-(e+f+i+g)};this.selectorMethods={offset:function(a){return this.g(k.getOffset,a)},width:function(a){return this._(k.width,a)},height:function(a){return this._(k.height,a)},innerWidth:function(a){return this._(k.innerWidth,
a)},innerHeight:function(a){return this._(k.innerHeight,a)}};this.Point=function(a,b){this.x=a;this.y=b;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),b=Math.sqrt(this.x*this.x+this.y*this.y);return new k.Vector(b,a)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new k.Point(this.x,this.y)},operate:function(a,b){for(var c=this.copy(),e=b.length,f=0;f<e;f++){var i=b[f];"number"==typeof i?(c.x=a(c.x,i),c.y=a(c.y,
i)):(c.x=a(c.x,i.x),c.y=a(c.y,i.y))}return c},add:function(){return this.operate(function(a,b){return a+b},arguments)},subtract:function(){return this.operate(function(a,b){return a-b},arguments)},multiply:function(){return this.operate(function(a,b){return a*b},arguments)},divide:function(){return this.operate(function(a,b){return a/b},arguments)},pow:function(){return this.operate(function(a,b){return Math.pow(a,b)},arguments)},offsetPoint:function(a,b){var c=this.copy();c.x+=Math.cos(a)*b;c.y+=
Math.sin(a)*b;return c},distance:function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))}};this.Spline=function(a,b){a=a?a:[];b=void 0==b?0:b;this.addPoint=function(b,d){void 0==d&&(d=a.length);a.splice(d,0,b)};this.removePoint=function(b){void 0!=b&&a.splice(b,1,void 0)};this.updatePoint=function(b,d){void 0!=d&&a.splice(d,1,b)};this.getPoint=function(b){return b<a.length?a[b]:null};this.getPoints=function(){return a};this.draw=function(c,e){e=void 0==e?b:e;if(1<a.length){var f=
[];a.forEach(function(a){f.push(a.getControl1(),a.getAnchor(),a.getControl2())});var i=f.length;if(e&k.Spline.CONTROLS){var g=function(a,b){c.beginPath();c.moveTo(f[a].x,f[a].y);c.lineTo(f[b].x,f[b].y);c.stroke();c.closePath()};g(1,2);g(3,4)}c.beginPath();c.moveTo(f[1].x,f[1].y);for(g=2;g<i-3;g+=3)c.bezierCurveTo(f[g].x,f[g].y,f[g+1].x,f[g+1].y,f[g+2].x,f[g+2].y);e&k.Spline.CLOSED&&c.bezierCurveTo(f[i-1].x,f[i-1].y,f[0].x,f[0].y,f[1].x,f[1].y);e&k.Spline.FILL&&c.fill();e&k.Spline.STROKE&&c.stroke();
c.closePath()}else throw Error("not enough spline points");};this.normalize=function(a,b,f,d,g,m){for(var g=!0===g,m=!0===m,j=new k.Spline,h=this.getPoints(),v=h.length,w=b.subtract(a),u=d.subtract(f),b=function(b){b=b.subtract(a).divide(w);g&&(b.x=1-b.x);m&&(b.y=1-b.y);return b.multiply(u).add(f)},d=0;d<v;d++){var s=h[d].getControl1(),p=h[d].getAnchor(),n=h[d].getControl2(),p=b(p),s=p.subtract(b(s)).toVector(),n=b(n).subtract(p).toVector(),n=new k.SplinePoint(p.x,p.y,s.velocity,s.angle,n.velocity,
n.angle);j.addPoint(n)}return j};return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.SplinePoint=function(a,b,c,e,f,i){var g,m,j;this.setAngle=function(a,b){m.angle=a;j.angle=void 0==b?a+Math.PI:b};this.getAnchor=function(){return g};this.getControl1=function(a){return a?m:g.subtract(m.toPoint())};this.getControl2=function(a){return a?j:g.add(j.toPoint())};g=new k.Point(a,b);m=new k.Vector(c,e);j=new k.Vector(f,void 0==i?e+Math.PI:i);return this};
this.Vector=function(a,b){this.velocity=a;this.angle=b;this.copy=function(){return new k.Vector(this.velocity,this.angle)};this.add=function(a){this.velocity+=a.velocity;this.angle+=a.angle};this.toPoint=function(){return new k.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)};return this}})})(lola);(function(b){b.registerModule(new function(){function k(b){"string"===typeof b&&(b=a.getContext(b));return b||c}function g(b){a[b]=function(){var a=k();a[b].apply(a,arguments)}}var a=this,d=["util"],c=null,e={},f={},i={},l={};this.namespace=function(){return"graphics"};this.dependencies=function(){return d};this.registerContext=function(a,c){var f=a.getContext("2d"),c=void 0==c?b(a).identify().attr("id"):c,d=$(a).getData("_graphics",!0);null==d.contexts&&(d.contexts=[]);d.contexts.push(c);e[c]=f};
this.removeContext=function(a){if((a=b(a).getData("_graphics",!1))&&a.contexts)for(var c;c=a.contexts.pop();)delete e[c]};this.getContext=function(a){return e[a]};this.setContext=function(a){c=k(a)};this.resetContext=function(a){"string"==typeof a&&(c=k(a));c&&b.util.copyPrimitives(f,c)};this.registerStyle=function(a,c){var f={};b.util.copyPrimitives(c,f);i[a]=f};this.removeStyle=function(a){delete i[a]};this.registerRoutine=function(a,b){l[a]=b};this.removeRoutine=function(a){delete this.routines[a]};
this.executeRoutine=function(a){if(b.hasFn(l,a))l[a](c)};this.applyStyle=function(a,c){var c=k(c),d="string"==typeof a?i[a]||f:a;b.util.copyPrimitives(f,c);b.util.copyPrimitives(d,c)};this.draw=function(a,f){b.hasFn(a,"draw")&&a.draw(c,f)};this.clear=function(a){a=k(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){return this.s(a.registerContext)}};b.addSafeDeleteHook(a.removeContext,a);var m=document.createElement("canvas").getContext("2d"),j;for(j in m)b.type.isPrimitive(m[j])?
f[j]=m[j]:"function"==b.type.get(m[j])&&g(j)})})(lola);(function(b){b.registerModule(new function(){function k(a,b){var c=a.getPoints(),d=c.length-1,e=[];if(0<d){for(var b=b*d,h=[],g=1;g<=d;g++)h.push(c[g].getAnchor().x);for(var g=d=0,k=h[0],u=0;u<=b;u++){var s=u/b;if(s<=k){var s=(s-d)/(k-d),p=c[g].getAnchor(),n=c[g].getControl2(),o=c[g+1].getControl1(),q=c[g+1].getAnchor(),r=1-s,s=p.multiply(r*r*r).add(n.multiply(3*r*r*s),o.multiply(3*r*s*s),q.multiply(s*s*s));e.push(s)}else g++,d=k,k=h[g],u--}}return e}var g=this,a=["geometry"],d={},c="ease";this.namespace=
function(){return"easing"};this.methods=function(){return d};this.dependencies=function(){return a};this.setDefaultEase=function(a){d[a]&&(c=a,d["default"]=d[a])};this.sampleSpline=k;this.registerEasingSpline=function(a,b,c,e){var c=c?c:25,e=!0===e,j=b.getPoint(0).getAnchor(),h=b.getPoint(b.getPoints().length-1).getAnchor();if(0==j.x&&0==j.y&&1==h.x&&1==h.y)if(!d[a]||e)d[a]=new function(){this.getSpline=function(){return b};var a=k(b,c);this.getSamples=function(){return a};var f=a.length;this.exec=
function(b,c,d,e){for(var b=b/e,j=0;b>=a[j].x&&j<f;)if(j++,b<=a[j].x)return e=a[j-1],j=a[j],c+d*(e.y+(b-e.x)/(j.x-e.x)*(j.y-e.y));return 0};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,c,d,e,j){var h=b.geometry,k=new h.Spline,c=new h.Point(c,d),e=new h.Point(1-e,1-j),j=c.toVector(),e=e.toVector();k.addPoint(new h.SplinePoint(0,0,0,0,j.velocity,j.angle));k.addPoint(new h.SplinePoint(1,1,e.velocity,e.angle,
0,0));g.registerEasingSpline(a,k)};this.registerEasingFn=function(a,b){d[a]=new function(){this.name=a;this.exec=b;return this}};this.get=function(a){if(d[a])return d[a];b.debug('easing method "'+a+'" not found.');return d[c]};this.getAll=function(){return d};this.params={back:{a:2.7,b:1.7}};var e={back:{easeIn:function(a,b,c,d){return c*(a/=d)*a*(g.params.back.a*a-g.params.back.b)+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*(g.params.back.a*a+g.params.back.b)+1)+b}},bounce:{easeIn:function(a,
b,c,d){return c-e.bounce.easeOut(d-a,0,c,d)+b},easeOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b}},circular:{easeIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b}},cubic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b}},elastic:{easeIn:function(a,
b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var e,h;e=0.3*d;h=e/4;return-(c*Math.pow(2,10*(a-=1))*Math.sin((a*d-h)*2*Math.PI/e))+b},easeOut:function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var e,h;h=0.3*d;e=h/4;return c*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/h)+c+b}},exponential:{easeIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b}},quadratic:{easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,
b,c,d){return-c*(a/=d)*(a-2)+b}},quartic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOut:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b}},quintic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b}},sine:{easeIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b}}};(function(){var a=b.now();b.debug("lola.easing::preinitialize");g.registerSimpleEasing("none",
0,0,1,1);g.registerSimpleEasing("linear",0,0,1,1);g.registerSimpleEasing("ease",0.25,0.1,0.25,1);g.registerSimpleEasing("ease-in",0.42,0,1,1);g.registerSimpleEasing("ease-out",0,0,0.58,1);g.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);Object.keys(e).forEach(function(a){if(e[a].hasOwnProperty("easeIn")&&e[a].hasOwnProperty("easeOut")){var b=e[a].easeIn,c=e[a].easeOut;g.registerEasingFn(a+"-in",b);g.registerEasingFn(a+"-out",c);g.registerEasingFn(a+"-in-out",function(a,d,e,f){return a<f/2?b(a,
d,e/2,f/2):c(a-f/2,b(f,d,e/2,f),e/2,f/2)})}});var c=b.now();b.debug("easing preinitialization took",c-a,"ms");g.setDefaultEase("bounce-in-out")})();return this})})(lola);(function(b){b.registerModule(new function(){function k(a){var d=!1,e,k,l;e=void 0;k=function(){return!1};l=function(a,c,d,e){if(a=e[0].target)return b.event.trigger(a,"tweencomplete",!1,!1),!1};for(var m in i)i.hasOwnProperty(m)&&i[m].active&&(d=!0,i[m].complete?(b.event.trigger(i[m],"tweencomplete",!1,!1),g(e,k,l),delete i[m],f.push(parseInt(m))):i[m].calculate(a));var p=0,n=0;g(function(a){0==p&&delete c[a];p=0},function(a,b){0==n?delete c[a][b]:p++;n=0},function(a,b,d,e){for(var f=[],j;j=e.shift();)j&&
i[j.tweenId]&&i[j.tweenId].active&&(j.apply(i[j.tweenId].value),f.push(j));c[a][b][d]=f;0==c[a][b][d].length?delete c[a][b][d]:n++});return d}function g(a,b,d){for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],g;for(g in f)if(f.hasOwnProperty(g)){var i=f[g],k;for(k in i)if(i.hasOwnProperty(k)){var l=i[k];if(d&&!d(e,g,k,l))break}if(b&&!b(e,g))break}if(a&&!a(e))break}}var a=this,d=["animation","css","event","easing"],c={},e=0,f=[],i={},l={},m={};this.namespace=function(){return"tween"};this.dependencies=
function(){return d};this.initialize=function(){var c=new b.animation.Animation(k,a);b.animation.register("tween",c);0<Object.keys(i).length&&b.animation.start("tween")};this.registerTween=function(a){var b=0<f.length?f.pop():e++;i[b]=a;return b};this.start=function(a){i[a]&&i[a].start()};this.stop=function(a){i[a]&&i[a].stop()};this.pause=function(a){i[a]&&i[a].pause()};this.resume=function(a){i[a]&&i[a].resume()};this.addTarget=function(d,e,f,g){if(i[d]){g=!0===g;"array"!=b.type.get(e)&&(e=[e]);
for(var k=e.length,l=0;l<k;l++){var m=e[l],n=$(m).identify().attr("id");c[n]||(c[n]={});for(var o in f)if(f.hasOwnProperty(o)){var q=f[o];c[n][o]||(c[n][o]={});for(var r in q)if(q.hasOwnProperty(r)&&(g||null==c[n][o][r]))c[n][o][r]||(c[n][o][r]=[]),g?c[n][o][r].push(a.getTweenObject(d,m,o,r,q[r])):c[n][o][r]=[a.getTweenObject(d,m,o,r,q[r])]}}}else throw Error("tween not found");};this.getTweenObject=function(c,d,e,f,g){var i,k,n;g.from||(i=b(d)[e](f),"object"==typeof g?g.from=i:g={from:i,to:""+g});
i=g.from?g.from:"function"==typeof g?g.call(d):$(d)[e](f);var o=0;if(null!=i&&void 0!=i)b.type.isPrimitive(g)?k=g:g.to?(o=0,k=g.to):g.add?(o=1,k=g.add):g.by&&(o=1,k=g.by);else throw Error("invalid tween parameters");var q,r;if(l[e])q=l[e];else for(var t in m)if(m.hasOwnProperty(t)){q=m[t];if(t==e)break;if(!0===q.match||q.match&&q.match.test(""+k)&&q.match.test(""+i))break;else q=null}q&&(k=q.parse(k),i=q.parse(i),n=q.getDelta(k,i,o),r=q.proxy,q.canTween(i,k)||(q=null));q||(r=b.tween.setAfterProxy,
n=k);return new a.TweenObject(c,d,e,f,i,n,r)};this.addTweenType=function(a,b){m[a]=b};this.addTweenType("simple",{match:b.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,b){return void 0!=a&&void 0!=b},getDelta:function(a,b,c){return c?a:a-b},proxy:function(a,b){a.$target[a.type](a.property,a.initialValue+a.deltaValue*b)}});this.addTweenType("dimensional",{match:b.regex.isDimension,parse:function(a){a=(""+a).match(b.regex.isDimension);return{value:parseFloat(a[1]),units:a[2]}},
canTween:function(a,b){return a&&b&&(a.units==b.units||""==a.units&&""!=b.units)},getDelta:function(a,b,c){return c?{value:a.value,units:a.units}:{value:a.value-b.value,units:a.units}},proxy:function(a,b){var c=a.deltaValue;a.$target[a.type](a.property,a.initialValue.value+c.value*b+c.units)}});this.addTweenType("color",{match:b.regex.isColor,parse:function(a){return(new b.css.Color(a)).getRgbValue()},canTween:function(a,b){return a&&b},getDelta:function(a,b,c){return c?{r:a.r,g:a.g,b:a.b,a:a.a}:
{r:a.r-b.r,g:a.g-b.g,b:a.b-b.b,a:a.a-b.a}},proxy:function(a,c){var d=a.initialValue,e=a.deltaValue,f=255*(d.r+e.r*c)|0,g=255*(d.g+e.g*c)|0,i=255*(d.b+e.b*c)|0,d=d.a+e.a*c;if(b.support.colorAlpha)a.$target[a.type](a.property,"rgba("+[f,g,i,d].join()+")");else a.$target[a.type](a.property,"rgb("+[f,g,i].join()+")")}});this.addTweenType("class",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=a.$target;1>b?c.hasClass(a.property)||
c.addClass(a.property):c.hasClass(a.property)&&c.removeClass(a.property)}});this.addTweenType("event",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=a.$target;1<=b?c.trigger(a.property,!1,!1,a.deltaValue):0>=b&&c.trigger(a.property,!1,!1,a.initialValue)}});this.addTweenType("setafter",{match:!0,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){if(1<=b)a.$target[a.type](a.property,
a.initialValue+a.deltaValue)}});this.selectorMethods={tween:function(b,c,d,e,f){c=a.registerTween(new a.Tween(c,e,d));a.addTarget(c,this.getAll(),b,f);a.start(c);return this}};this.Tween=function(a,b,c){this.init(a,b,c);return this};this.Tween.prototype={startTime:-1,pauseTime:-1,lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:!1,complete:!1,init:function(a,c,d){this.duration=a;this.easing="function"==typeof c?c:"string"==typeof c?b.easing.get(c):b.easing.get("default");this.delay=d||0;
c||(this.easing={exec:function(a,b,c,d){return a/d*c+b}})},calculate:function(a){a=a-this.startTime-this.delay;a>=this.duration&&(a=this.duration,this.active=this.complete=!0);this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active||(this.active=!0,this.startTime=b.now(),b.animation.start("tween"),b.event.trigger(this,"tweenstart",!1,!1))},stop:function(){this.active=!1;this.complete=!0;b.event.trigger(this,"tweenstop",!1,!1)},pause:function(){this.active&&(this.active=
!1,this.pauseTime=b.now(),b.event.trigger(this,"tweenpause",!1,!1))},resume:function(){this.active||(this.active=!0,this.startTime+=b.now()-this.pauseTime,b.animation.start("tween"),b.event.trigger(this,"tweenresume",!1,!1))}};this.TweenObject=function(a,b,c,d,e,f,g){this.init(a,b,c,d,e,f,g);return this};this.TweenObject.prototype={$target:null,target:null,type:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,b,c,d,e,f,g){this.$target=$(b);this.target=
b;this.type=c;this.property=d;this.tweenId=a;this.initialValue=e;this.deltaValue=f;this.proxy=g},apply:function(a){this.proxy(this,a)}}})})(lola);(function(b){b.registerModule(new function(){function k(a,b){var c=!1;if(f!=i){var d=f-i,h=0>d?-1:1,d=d/2,j=e*(b/1E3),k=d*h;k>j?(g(i+j*h),c=!0):1>k?g(f):(g(i+d),c=!0)}return c}function g(a){for(var b=a>i,a=Math.round(Math.min(l,Math.max(0,a))),c=0;c<j;)m[c].setPosition(a,b),c++;i=a}var a=this,d=["tween"],c,e=2E3,f=0,i=0,l=1E4,m=[],j=0;this.namespace=function(){return"motion"};this.dependencies=function(){return d};this.setEndPosition=function(a){l=a};this.setPosition=function(a){f=Math.round(a);c.start()};
this.setMaxRate=function(a){e=a};this.initialize=function(){b.debug("motion::initialize");c=new b.animation.Animation(k,a);b.animation.register("motion",c);delete a.initialize};this.addTarget=function(a,c){Array.isArray(a)||(a=[a]);var d=c.start?c.start:0,e=c.end?c.end:range,f=b.easing.get(c.ease?c.ease:"linear"),g=c.step;delete c.start;delete c.end;delete c.ease;delete c.step;a.forEach(function(a){for(var b in c)if(c.hasOwnProperty(b)){var i=c[b],j;for(j in i)i.hasOwnProperty(j)&&m.push(new h(a,
b,j,c[b][j],void 0==c[b][j].ease?f:c[b][j].ease,void 0==c[b][j].start?d:c[b][j].start,void 0==c[b][j].end?e:c[b][j].end,g))}});j=m.length};this.selectorMethods={motionRange:function(b){a.addTarget(this.getAll(),b)}};var h=function(a,c,d,e,f,g,h,j){var k=new b.tween.getTweenObject(-1,a,c,d,e),l=!1,m=h-g;"function"!=typeof j&&(j=!1);this.setPosition=function(a,b){var c=void 0;a>=g&&a<=h?(l=!0,c=f.exec(a-g,0,1,m)):l?(l=!1,c=b?1:0):b&&i<g&&a>h?c=1:!b&&i>h&&a<g&&(c=0);void 0!=c&&(k.apply(c),j&&j(c,this))}}})})(lola);(function(b){b.registerModule(new function(){var b=this,g=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return g};this.Grid=function(a,d,c,e,f,g){this.draw=function(l,m){var m=void 0==m?g:m,j;if(m&b.Grid.VERTICAL)for(j=a+f;j<=c+a;j+=f)l.beginPath(),l.moveTo(j,d),l.lineTo(j,d+e),l.stroke(),l.closePath();if(m&b.Grid.HORIZONTAL)for(j=d+f;j<=e+d;j+=f)l.beginPath(),l.moveTo(a,j),l.lineTo(a+c,j),l.stroke(),l.closePath()};return this};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=
2;this.Axis=function(a,d,c,e,f,g){this.draw=function(l,m){m=void 0==m?g:m;l.beginPath();l.moveTo(a,d);m&b.Axis.VERTICAL?l.lineTo(a,d+c):l.lineTo(a+c,d);l.stroke();l.closePath();e&&(m&b.Axis.VERTICAL?(l.textAlign="center",l.fillText(e,a+f.x,d+c+f.y)):(l.textAlign="right",l.fillText(e,a+f.x,d+f.y)))};return this};this.Axis.VERTICAL=1})})(lola);(function(b){b.registerModule(new function(){var b=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return b};this.pv=function(b,a,d){return b/Math.pow(1+a,d)};this.fv=function(b,a,d){return b*Math.pow(1+a,d)};this.pva=function(b,a,d){return b*(1-1/Math.pow(1+a,d))/a};this.fva=function(b,a,d){return b*(Math.pow(1+a,d)-1)/a};this.payment=function(b,a,d,c){d=Math.pow(1+a,d);return b*a/(1-1/d)-c*a/(d-1)}})})(lola);(function(b){b.registerModule(new function(){function k(e){e=new b.http.SyncRequest(e);e.send();var f=e.responseXML(),e=[];if("tests"==f.documentElement.tagName)for(var f=f.documentElement,g=f.childNodes.length,h=0;h<g;h++){var j=f.childNodes[h];if(1==j.nodeType)switch(j.nodeName.toLowerCase()){case "script":j=new a(j);e.push(j);break;case "test":j=new d(j);e.push(j);break;case "xml":j=new c(j),e.push(j)}}e.unshift(0);e.unshift(i+1);l.splice.apply(l,e)}function g(){i++;if(i<l.length){var a=l[i];m=
a;a.execute()&&setTimeout(function(){g()},2)}else console.log("lola.test.complete")}function a(a){var c="",d="";this.execute=function(){j("executing",'"'+c+'"',"script");b.evaluate(d);return!0};a.hasAttribute("name")&&(c=a.attributes.getNamedItem("name").nodeValue);for(var e="",f=0;f<a.childNodes.length;f++)e+=a.childNodes[f].data;d=e;return this}function d(a){function c(){switch(f){case "equals":(m=e==i)||(t="assertion false: "+e+" == "+i);break;case "strictlyEquals":(m=e===i)||(t="assertion false: "+
e+" === "+i);break;case "doesNotEqual":(m=e!=i)||(t="assertion false: "+e+" != "+i);break;case "greaterThan":(m=e>i)||(t="assertion false: "+e+" > "+i);break;case "lessThan":(m=e<i)||(t="assertion false: "+e+" < "+i);break;case "greaterThanOrEquals":(m=e>=i)||(t="assertion false: "+e+" >= "+i);break;case "lessThanOrEquals":(m=e<=i)||(t="assertion false: "+e+" <= "+i);break;default:(m=e==i)||(t="assertion false: "+e+" == "+i)}m||(t="failed, "+t,h("    ",t))}var d,e,f="==",i,k,l=!1,m,t="";this.execute=
function(){j(d);try{if(l)return b.evaluate(k),!1;e=eval(k);c();return!0}catch(a){return m=!1,t="failed due to error: "+a.message,h("    ",t),j("    ",a),!0}};this.setResult=function(a){e=a;c();g()};(function(a){d=a.attributes.getNamedItem("name").nodeValue;a.hasAttribute("async")&&(l="true"==a.attributes.getNamedItem("async").nodeValue);a.hasAttribute("equals")?f="equals":a.hasAttribute("strictlyEquals")?f="strictlyEquals":a.hasAttribute("doesNotEqual")?f="doesNotEqual":a.hasAttribute("greaterThan")?
f="greaterThan":a.hasAttribute("lessThan")?f="lessThan":a.hasAttribute("greaterThanOrEquals")?f="greaterThanOrEquals":a.hasAttribute("lessThanOrEquals")&&(f="lessThanOrEquals");var b=a.attributes.getNamedItem(f).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":i=parseFloat(b);break;case "int":i=parseInt(b);break;case "bool":i="true"===b;break;default:i=""+b}for(var b="",c=0;c<a.childNodes.length;c++)b+=a.childNodes[c].data;k=b})(a);return this}function c(a){var c;a.hasAttribute("src")&&
(c=a.attributes.getNamedItem("src").nodeValue);this.execute=function(){var a=b.string,a=a.padFront(a.padEnd("\nsource\n","=",56),"=",104);j(a);c&&k(c);return!0}}var e=[],f="tests.xml",i=-1,l=[],m=null,j=function(){console.log([].splice.call(arguments,0).join(" "))},h=function(){console.error([].splice.call(arguments,0).join(" "))};this.namespace=function(){return"test"};this.dependencies=function(){return e};this.setLogFn=function(a){j=a};this.setErrorFn=function(a){h=a};this.setSource=function(a){f=
a};this.current=function(){return m};this.start=function(){l=[];j("lola.test.run: "+f);k(f);i=-1;g();return""}})})(lola);(function(b){"complete"===document.readyState?b.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",b.initialize,!1),b.window.addEventListener("load",b.initialize,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",b.initialize),b.window.attachEvent("onload",b.initialize))})(lola);