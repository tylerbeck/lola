"use strict";(function(c){var i=(new Date).getTime(),h=function(a,b){return new h.Selector(a,b)};h.window=c;var b=!1;h.isInitialized=function(){return b};h.extend=function(a,b,c,e){void 0==c&&(c=!1);void 0==e&&(e=!1);for(var g in b)if(c||null==a[g])a[g]=b[g];else if(e)throw Error("property "+g+" already exists on extend target!");};h.getPackage=function(a,b,c){if("string"===typeof b)for(var b=b.split("."),e;e=b.shift();)null==a[e]&&(a[e]={}),0==b.length&&c&&(a[e]=c),a=a[e];return a};h.registerModule=function(a,
b){var b=void 0==b?!1:b,c=a.namespace();b?h.extend(h.getPackage(h,c),a,!1,!1):h.getPackage(h,c,a);this.hasFn(a,"dependencies")&&h.addDependencies(c,a.dependencies());a.selectorMethods&&(h.extend(h.Selector.prototype,a.selectorMethods,!1,!1),delete a.selectorMethods);h.hasFn(a,"initialize")&&h.addInitializer(a.initialize);h.debug("module registered:",c)};h.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",h.initialize,!1),h.window.removeEventListener("load",
h.initialize,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",h.initialize),h.window.detachEvent("onload",h.initialize));h.checkDependencies();h.executeInitializers();b=!0;var a=(new Date).getTime()-i;delete h.initialize;h.debug("initialization completed in",a,"ms")};c.lola=h;c.$=h})(window);Object.keys||(Object.keys=function(c){var i=[],h;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&i.push(h);return i});Object.forEach||(Object.forEach=function(c,i,h){if(void 0===c||null===c)throw new TypeError;c=Object(c);if("function"!==typeof i)throw new TypeError;for(var b in c)c.hasOwnProperty(b)&&i.call(h,c[b],b,c)});
Array.prototype.forEach||(Array.prototype.forEach=function(c,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),b=h.length>>>0;if("function"!==typeof c)throw new TypeError;for(var a=0;a<b;a++)a in h&&c.call(i,h[a],a,h)});
Array.prototype.indexOf||(Array.prototype.indexOf=function(c){if(void 0===this||null===this)throw new TypeError;var i=Object(this),h=i.length>>>0;if(0===h)return-1;var b=0;0<arguments.length&&(b=Number(arguments[1]),b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(0<b||-1)*Math.floor(Math.abs(b))));if(b>=h)return-1;for(b=0<=b?b:Math.max(h-Math.abs(b),0);b<h;b++)if(b in i&&i[b]===c)return b;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(c){if(void 0===this||null===this)throw new TypeError;var i=Object(this),h=i.length>>>0;if(0===h)return-1;var b=h;1<arguments.length&&(b=Number(arguments[1]),b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(0<b||-1)*Math.floor(Math.abs(b))));for(h=0<=b?Math.min(b,h-1):h-Math.abs(b);0<=h;h--)if(h in i&&i[h]===c)return h;return-1});
Array.prototype.filter||(Array.prototype.filter=function(c,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),b=h.length>>>0;if("function"!==typeof c)throw new TypeError;for(var a=[],d=0;d<b;d++)if(d in h){var f=h[d];c.call(i,f,d,h)&&a.push(f)}return a});
Array.prototype.every||(Array.prototype.every=function(c,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),b=h.length>>>0;if("function"!==typeof c)throw new TypeError;for(var a=0;a<b;a++)if(a in h&&!c.call(i,h[a],a,h))return!1;return!0});
Array.prototype.map||(Array.prototype.map=function(c,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),b=h.length>>>0;if("function"!==typeof c)throw new TypeError;for(var a=Array(b),d=0;d<b;d++)d in h&&(a[d]=c.call(i,h[d],d,h));return a});
Array.prototype.some||(Array.prototype.some=function(c,i){if(void 0===this||null===this)throw new TypeError;var h=Object(this),b=h.length>>>0;if("function"!==typeof c)throw new TypeError;for(var a=0;a<b;a++)if(a in h&&c.call(i,h[a],a,h))return!0;return!1});
Array.prototype.reduce||(Array.prototype.reduce=function(c){var i,h=this.length,b;if("function"!==typeof c)throw new TypeError("First argument is not callable");if((0==h||null===h)&&1>=arguments.length)throw new TypeError("Array length is 0 and no second argument");1>=arguments.length?(b=this[0],i=1):b=arguments[1];for(i=i||0;i<h;++i)i in this&&(b=c.call(void 0,b,this[i],i,this));return b});
Array.isArray||(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)||c instanceof Array});String.prototype.trim||(String.prototype.trim=function(){return(""+this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});(function(c){c.Selector=function(i,h){var b=0;if(Array.isArray(i))for(var a=i.length,b=0;b<a;b++)this[b]=a[b];else if("object"===typeof i)this[b]=i,b++;else if("string"===typeof i)if(window.Sizzle)for(var d=Sizzle(i,h),b=0;b<a;b++)this[b]=d[b];else try{h||(h=document);for(var d=h.querySelectorAll(i),f=d.length,b=0;b<f;b++)this[b]=d.item(b);this.length=b}catch(e){console.warn("Exception:",i)}else"function"==typeof i&&c.addInitializer(i);this.length=b;return this};c.Selector.prototype={};c.Selector.prototype.forEach=
Array.prototype.forEach;c.Selector.prototype.every=Array.prototype.every;c.Selector.prototype.filter=Array.prototype.filter;c.Selector.prototype.indexOf=Array.prototype.indexOf;c.Selector.prototype.join=Array.prototype.join;c.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;c.Selector.prototype.map=Array.prototype.map;c.Selector.prototype.push=Array.prototype.push;c.Selector.prototype.pop=Array.prototype.pop;c.Selector.prototype.shift=Array.prototype.shift;c.Selector.prototype.unshift=Array.prototype.unshift;
c.Selector.prototype.slice=Array.prototype.slice;c.Selector.prototype.splice=Array.prototype.splice;c.Selector.prototype.reverse=Array.prototype.reverse})(lola);(function(c){var i=new function(){function h(a){var k=[];Object.forEach(a,function(a){c.hasPackage(c,a)||k.push(a)});return k}var b=this,a={},d=0,f=[],e=[],g=!1,j;this.namespace=function(){return""};this.dependencies=function(){return a};this.url=function(){return j};this.setURL=function(a){j=new b.URL(a);g="true"==j.vars.debug};this.debugMode=function(){return g};this.getGUID=function(){return d++};this.addInitializer=function(a){c.isInitialized()?a(c):f.push(a)};this.addSafeDeleteHook=function(a,
k){e.push({fn:a,scope:k})};this.addDependencies=function(g,k){a[g]=k};this.safeDelete=function(a,k){for(var g=k?a[k]:a,b=e.length-1;0<=b;b--)if(g){var c=e[b];c.fn.call(c.scope,g)}a&&k&&delete a[k]};this.checkDependencies=function(g){var g=g?g:a,k=[],b;for(b in g){var e=h(g[b]);0<e.length&&k.push(b+": "+e.join(", "))}if(0<k.length)throw Error("module dependency checks failed for: \n\t"+k.join("\n\t"));};this.executeInitializers=function(){c.debug("core::executeInitializers");var a,k=f.length;for(a=
0;a<k;a++)c.hasFn(f,a)&&(f[a](c),delete f[a])};this.evaluate=function(a,k){null==k&&(k=document.getElementsByTagName("head")[0],k||(k=document.documentElement));var g=document.createElement("script");g.type="text/javascript";c.support.domEval?g.appendChild(document.createTextNode(a)):g.text=a;k.insertBefore(g,k.firstChild);k.removeChild(g)};this.loadScript=function(a,k){var g=document.getElementsByTagName("head")[0];g||(g=document.documentElement);var b=document.createElement("script");"function"==
typeof k&&c.event.addListener(b,"load",function(){k.apply()});b.src=a;g.insertBefore(b,g.firstChild)};this.hasPackage=function(a,k){var g=a;if("string"===typeof k)for(var b=k.split("."),e;e=b.shift();){if(null==g[e])return!1;g=g[e]}return!0};this.hasFn=function(a,k){return a&&a[k]&&"function"==typeof a[k]};this.debug=function(){g&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return 1==a.length?a[0]:a};this.selectorMethods=
{identify:function(){this.forEach(function(a){a.id||(a.id="lola-guid-"+c.getGUID())});return this},get:function(a){void 0==a&&(a=0);return this[a]},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,k){var g=this;a instanceof c.Selector?a.forEach(function(a){g.push(a)}):Array.isArray(a)?a.forEach(function(a){g.push(a)}):g.push(a);if(void 0==k||!0===k){var b=c.array.unique(this);this.splice(0,this.length);b.forEach(function(a){g.push(a)})}return this},g:function(){return c.__(this.i.apply(this,
arguments))},s:function(){this.i.apply(this,arguments);return this},_:function(){var a=this.i.apply(this,arguments);return void 0==arguments[arguments.length-1]?c.__(a):this},i:function(){var a=[],k=this,g=arguments.length;if(g){for(var b=arguments[0],e=[],c=1;c<g;c++)e.push(arguments[c]);this.forEach(function(g){a.push(b.apply(k,[g].concat(e)))})}return a}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?a[1]:"";var k={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,g,b){k[g]=b;return""});
this.vars=k;a=a.split(":");2==a.length?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=""==this.domain?"":"/";0<a.length&&(this.path=this.path+a.join("/")+"/");return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(k,g){a.push(g+"="+k)});var k=a.length?"?"+a.join("&"):"",g=""==this.hash?"":"#"+this.hash;return""!=this.protocol?this.protocol+
"://"+this.domain+this.path+this.page+k+g:this.path+this.page+k+g}};return this};i.setURL(c.window.location.href);c.registerModule(i,!0)})(lola);(function(c){c.registerModule(new function(){var i=this,h=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=!1;this.deleteExpando=!0;this.msEvent=!1;this.domEvent=!0;this.animationFrameType=0;this.cssRules=!1;this.namespace=function(){return"support"};this.dependencies=function(){return h};this.initialize=function(){c.debug("lola.support::initialize");i.cssRules=0<document.styleSheets.length&&document.styleSheets[0].cssRules||void 0==document.createStyleSheet?!0:!1};var b=document.documentElement,
a=document.createElement("script"),d="scriptCheck"+(new Date).getTime();a.type="text/javascript";try{a.appendChild(document.createTextNode("lola.window."+d+"=true;"))}catch(f){}b.insertBefore(a,b.firstChild);b.removeChild(a);i.domEval=c.window[d];delete c.window[d];b=document.createElement("div");b.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' >test</div>";b=b.firstChild;i.style="string"===typeof b.getAttribute("style");i.cssFloat=/^left$/.test(b.style.cssFloat);
i.colorAlpha=/^rgba.*/.test(b.style.backgroundColor);try{delete b.test}catch(e){i.deleteExpando=!1}document.addEventListener?i.domEvent=!0:document.attachEvent&&(i.msEvent=!0);window.requestAnimationFrame?i.animationFrameType=1:window.mozRequestAnimationFrame?i.animationFrameType=2:window.webkitRequestAnimationFrame?i.animationFrameType=3:window.oRequestAnimationFrame&&(i.animationFrameType=4)})})(lola);(function(c){c.registerModule(new function(){function c(b){return function(a,c){var f=a[b],e=c[b];return f<e?-1:f>e?1:0}}var h=[];this.namespace=function(){return"array"};this.dependencies=function(){return h};this.hasObjectWithProperty=function(b,a,c){return b.some(function(b){return b[a]==c})};this.unique=function(b){for(var a=[],c=b.length-1;0<=c;c--)-1==a.indexOf(b[c])&&a.push(b[c]);return a};this.isIn=function(b,a){return 0<=b.indexOf(a)};this.pruneNulls=function(b){var a=[];b.forEach(function(b){null!=
b&&a.push(b)});return a};this.sortOn=function(b,a){return a.sort(c(b))};this.doSomething=function(){};this.selectorMethods={}})})(lola);(function(c){c.registerModule(new function(){function i(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),b=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),b=""==b?"Element":b;f[a]=b.toLowerCase();a="lola.Selector.prototype['is"+b+"'] = function(index){ return this.isType('"+b.toLowerCase()+"',index); };";c.evaluate(a)}function h(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),b=a.replace(/\[object /g,"").replace(/Element\]/g,""),b=""==b?"Element":
b;f[a]=b.toLowerCase();a="lola.Selector.prototype['is"+b+"'] = function(index){ return this.isType('"+b.toLowerCase()+"',index); };";c.evaluate(a)}function b(a){f["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(a)}var a=this,d=[],f={},e=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return d};this.get=function(a){return(a=
f[Object.prototype.toString.call(a)])?a:"other"};this.isPrimitive=function(b){return 0<=e.indexOf(a.get(b))};this.selectorMethods={getType:function(){return this.g(a.get)},isType:function(b,e){return void 0!=e&&0<=e?a.get(this[e])===b:this.every(function(e){return a.get(e)===b})},isPrimitive:function(b){return void 0!=b&&0<=b?a.isPrimitive(this.getType(b)):this.every(function(b){return 0<=a.isPrimitive(b)})}};(function(){"String,Number,Date,Array,Boolean,RegExp,Function,Object,Undefined,Null".split(",").forEach(b);
"a,abbr,acronym,address,applet,area,article,aside,audio,b,base,bdi,bdo,big,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,dir,div,dl,dt,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,label,legend,li,link,map,mark,menu,meta,meter,nav,noframes,noscript,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,s,samp,script,section,select,small,source,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbrxmp".split(",").forEach(i);
["object"].forEach(h);var a=document.createTextNode("test"),e=document.createComment("test"),a=Object.prototype.toString.call(a),e=Object.prototype.toString.call(e),d=Object.prototype.toString.call(c.window);f[a]="textnode";f[e]="commentnode";f[d]="window"})()})})(lola);(function(c){c.registerModule(new function(){var i=this,h=[],b={};this.namespace=function(){return"dom"};this.dependencies=function(){return h};this.attr=function(a,d,f,e){if(!1!==e&&b[d])return b[d].apply(a,arguments);if(a){if(f||""==f){if(c.type.isPrimitive(f))return a[d]=f;throw Error("attribute values must be primitives");}return a[d]}};this.addAttrHook=function(a,c){Array.isArray(a)||(a=[a]);a.forEach(function(a){b[a]=c})};this.deleteExpando=function(a,b){c.support.deleteExpando?delete a[b]:
a[b]=null};this.isDescendant=function(a,b){return i.isAncestor(b,a)};this.isAncestor=function(a,b){for(var c=b;c&&(c=c.parentNode)&&"BODY"!=c.nodeName;)if(a==c)return!0;return!1};this.selectorMethods={find:function(a){var b=$([]);this.forEach(function(c){c=$(a,c);b.concat(c)});return b},generation:function(a){a||(a=1);var b=$([]);this.forEach(function(c){for(var e=0;c=c.parentNode&&e<a;)e++;c&&b.concat([c])});return b},html:function(a){if(0==arguments.length){var b=[];this.forEach(function(a){b.push(a?
a.innerHTML:null)});return c.__(b)}this.forEach(function(b){if(b.childNodes){for(var e=b.childNodes.length,g=0;g<e;g++){var j=b.childNodes.item(g);c.safeDelete(j)}switch(c.type.get(a)){case "null":case "undefined":b.innerHTML="";break;case "string":b.innerHTML=a;break;case "array":b.innerHTML="";for(var d in a)b.appendChild(d);break;default:b.innerHTML="",b.appendChild(a)}}});return this},appendChild:function(a){if(0<this.length){var b=this.get();b&&b.appendChild&&b.appendChild(a)}return this},prependChild:function(a){0<
this.length&&this.get().insertBefore(a,this.get().firstChild);return this},cloneNode:function(a){return 0<this.length?this.get().cloneNode(a):null},insertBefore:function(a){1==this.length&&this.parent().insertBefore(a,this[0]);return this},insertAfter:function(a){1==this.length&&this.parent().insertAfter(a,this[0]);return this},removeChild:function(a){0<this.length&&(c.safeDelete(a),this.get().removeChild(a));return this},replaceChild:function(a,b){0<this.length&&(c.safeDelete(b),this.get().replaceChild(a,
b));return this},attr:function(a,b){if(void 0!=b)return this.forEach(function(e){i.attr(e,a,b)}),this;var f=[];this.forEach(function(b){f.push(i.attr(b,a))});return c.__(f)},removeAttr:function(a){this.forEach(function(b){b.removeAttribute(a)});return this},parent:function(a){if(void 0!=a)return this.forEach(function(b){$(a).appendChild(b)}),this;var b=[];this.forEach(function(a){b.push(a?a.parentNode:null)});return c.__(b)},nodeIndex:function(){var a=[];this.forEach(function(b){if(b.previousSibling){for(var c=
0;null!=(b=b.previousSibling);)c++;a.push(c)}else a.push(0)});return c.__(a)},deleteExpando:function(a){return this.s(i.deleteExpando,a)},isAncestor:function(a){return this.s(i.isAncestor,a)}};i.addAttrHook(["value","checked","selected"],function(a,b,h){var e=i.attr(a,b,void 0,!1);return void 0!=h?(b=i.attr(a,b,h,!1),e!=h&&c.event.trigger(a,"change",!1,!1),b):e})})})(lola);(function(c){c.registerModule(new function(){function i(a,b){var b=void 0==b?!0:b,j=c.dom.attr(a,f);if(null==j)switch(c.type.get(a)){case "function":case "object":j=a[f];null==j&&b&&(j=d++,a[f]=j);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:j=c.dom.attr(a,f),null==j&&b&&(j=d++,c.dom.attr(a,f,j))}return j}var h=this,b=["dom","type"],a={},d=1,f="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return b};this.get=function(b,g,c){var d=i(b,!1);return null==a[g]||null==d?c?h.set(b,{},g,!1):null:a[g][d]};this.getNamespaceData=function(b){return a[b]};this.set=function(b,g,j,d){b=i(b,!0);null==a[j]&&(a[j]={});d||null==a[j][b]?a[j][b]=g:c.extend(a[j][b],g,!0);return a[j][b]};this.remove=function(b,g,j){var d=i(b,!1);if(d){if(null==g||void 0==g){var g=[],k;for(k in a)g.push(k)}else"array"!=c.type.get(g)&&(g=[g]);g.forEach(function(b){delete a[b][d]})}void 0===
j&&(j=!0);j&&b.childNodes&&"array"==c.type.get(b.childNodes)&&b.childNodes.forEach(function(a){h.remove(a,g,!0)})};this.selectorMethods={getData:function(a,b){return this.g(h.get,a,b)},putData:function(a,b){return this.s(h.set,a,b)},updateData:function(a,b){return this.s(h.set,a,b,!1)},removeData:function(a,b){return this.s(h.remove,a,b)},removeAllData:function(a){return this.removeData(null,a)}};c.addSafeDeleteHook(this.remove,this)})})(lola);(function(c){c.registerModule(new function(){var i=[];this.namespace=function(){return"util"};this.dependencies=function(){return i};this.copyPrimitives=function(h,b){for(var a in h)c.type.isPrimitive(h[a])&&(b[a]=h[a])};this.checkArgs=function(h,b,a){for(var d=!0,f=[],e=b.length-1;0<=e;e--)if(void 0===b[e][1]||null===b[e][1])d=!1,f.push(b[e][0]+" is not set!");d||(console.groupCollapsed?console.groupCollapsed(h):console.group(h),"array"==c.type.get(a)&&a.forEach(function(a){console.info(a)}),f.forEach(function(a){console.warn(a)}),
console.groupEnd());return d};this.getInlineValue=function(h,b,a,d){h=$('script[type="text/x-lola-'+b+'"]',h);return h.length&&(h=eval(h[0].innerHTML),c.type.get(h)===a.toLowerCase())?h:d};this.nodeList2Array=function(c){try{return Array.prototype.slice.call(c,0)}catch(b){for(var a=[],d=c.length;d--;a.unshift(c[d]));return a}};this.selectorMethods={compareValues:function(c,b,a){var d=a;"string"===typeof c?this.foreach(function(a){d=b.call(this,d,Number(a[c]))}):"function"===typeof c&&this.foreach(function(a){d=
b.call(this,d,c.call(this,a))});return d}}})})(lola);(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"string"};this.dependencies=function(){return c};this.padFront=function(c,b,a){for(var c=c.toString(),d=c.length,c=[c];d<a;)c.push(b),d++;return c.join("")};this.padEnd=function(c,b,a){for(var c=c.toString(),d=c.length,c=[c];d<a;)c.unshift(b),d++;return c.join("")};this.camelCase=function(c){for(var c=(""+c).split("-"),b=c.length,a=1;a<b;a++)0<c[a].length&&(c[a]=c[a].charAt(0).toUpperCase()+c[a].slice(1));return c.join("")};
this.dashed=function(c){for(var c=c.split(""),b,a=[];b=c.shift();)b==b.toUpperCase()&&a.push("-"),a.push(b.toLowerCase());return a.join("")};this.base64Encode=function(c){for(var b="",a=0;a<c.length;){var d=c.charCodeAt(a++)&255,f=c.charCodeAt(a++)&255,e=c.charCodeAt(a++)&255,g=d>>2,d=(d&3)<<4|f>>4;isNaN(f)?f=e=64:(f=(f&15)<<2|e>>6,e=isNaN(e)?64:e&63);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)}return b}})})(lola);(function(c){c.registerModule(new function(){var c=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return c};this.selectorMethods={}})})(lola);(function(c){c.registerModule(new function(){function i(a){a=a||c.window.event;b(a,"capture")}function h(a){a=a||c.window.event;b(a,"bubble")}function b(a,b){var e=a.originalEvent?a:new j(a,{}),d=c.data.get(e.currentTarget,g);if(d&&d[b]&&d[b][a.type]){var l=[],f;for(f in d[b][a.type])l.push(d[b][a.type][f]);var l=c.array.sortOn("priority",l),h;for(h in l){if(e._immediatePropagationStopped)break;f=l[h];f.handler?f.handler.call(f.scope,e):delete d[b][a.type][f.huid]}}}var a=this;this.PRIORITY_BEFORE=
1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var d=["data","util","type"],f={mousewheel:["mousewheel","DOMMouseScroll"]},e={},g="_event";this.namespace=function(){return"event"};this.dependencies=function(){return d};this.addHook=function(a,b){e[a]=b};this.addListener=function(b,m,j,d,l,f,p){if(c.util.checkArgs("ERROR: lola.event.addListener( "+m+" )",[["target",b],["type",m],["handler",j]],[b,"type: "+m,"useCapture: "+d])){if(!1!==
p&&null!=e[m])return f=e[m],f.addListener(b,m,j,d,l,f);p=c.data.get(b,g);p||(p={capture:{},bubble:{}},c.data.set(b,p,g,!0));d=a.phaseString(b,d);l=l||a.PRIORITY_NORMAL;null==j.uid&&(j.uid=n++);var n=j.uid;null==p[d][m]&&(p[d][m]={});p[d][m][n]={priority:l,huid:n,handler:j,scope:f||b};"capture"==d?a.addDOMListener(b,m,i,!0):a.addDOMListener(b,m,h,!1);return n}};this.removeListener=function(b,m,j,d,l){c.util.checkArgs("ERROR: lola.event.removeListener( "+m+" )",[["target",b],["type",m],["handler",j]],
[b,"type: "+m,"useCapture: "+d])&&(!1!==l&&null!=e[m]?e[m].removeListener.call(e[m],b,m,j,d):((l=c.data.get(b,g))||(l={capture:{},bubble:{}}),d=a.phaseString(b,d),j="function"==c.type.get(j)?j.uid:j,l&&l[d]&&l[d][m]&&(delete l[d][m][j],l[d][m]&&0==Object.keys(l[d][m]).length&&("capture"==d?a.removeDOMListener(b,m,i,!0):a.removeDOMListener(b,m,h,!1)))))};this.removeHandler=function(b,e,j){if(c.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",b]],[])){var b="function"==c.type.get(b)?b.uid:
b,d=c.data.getNamespace(g);if(d){var j=void 0==j?["capture","bubble"]:j?["capture"]:["bubble"],l;for(l in d){void 0!=e&&(e="array"==c.type.get(e)?e:[e]);for(var f in j){var p;if(e)for(p in e)d[l][f][p]&&delete d[l][f][p][b];else for(p in d[l][f])delete d[l][f][p][b];0==Object.keys(d[l][f][p]).length&&a.removeDOMListener(target,p,"capture"==f?i:h,"capture"==f)}}}}};this.trigger=function(a,g,e,d,l){if(c.util.checkArgs([a,g],["target","type"],"lola.event.trigger: type="+g+" bubbles="+e)){void 0==e&&
(e=!0);void 0==d&&(d=!0);var f=g;"string"===c.type.get(f)&&(f=document.createEvent("Event"),f.initEvent(g,e,d),f.data=l);a.dispatchEvent?a.dispatchEvent(f):(f=new j(f,a),b(f,"capture"),e&&b(f,"bubble"))}};this.addDOMListener=function(a,b,g,e){b=f[b]?f[b]:[b];b.forEach(function(j){try{c.support.domEvent&&a.addEventListener?a.addEventListener(j,g,e):c.support.msEvent&&a.attachEvent?a.attachEvent("on"+j,g):null==a["on"+j.toLowerCase()]&&(a["on"+b.toLowerCase()]=g)}catch(d){c.debug("lola.event.addDOMListener error:",
a,b,g,e)}})};this.removeDOMListener=function(a,b,g,e){b=f[b]?f[b]:[b];b.forEach(function(){try{c.support.domEvent&&a.removeEventListener?a.removeEventListener(b,g,e):c.support.msEvent&&a.detachEvent?a.detachEvent("on"+b,g):null==a["on"+b.toLowerCase()]&&delete a["on"+b.toLowerCase()]}catch(j){c.debug("lola.event.removeDOMListener error:",a,b,g,e)}})};this.getDOMTarget=function(a,b){a&&(a.currentTarget?b=a.currentTarget:a.srcElement&&(b=a.srcElement),b&&3==b.nodeType&&(b=b.parentNode));return b};this.getDOMKeycode=
function(a){var b;a.keyCode?b=a.keyCode:a.which&&(b=a.which);return b};this.getDOMKey=function(b){b=a.getDOMKeycode(b);return 65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(b&1023))):String.fromCharCode(b)};this.getDOMGlobalXY=function(a){var b=0,c=0;if(a.pageX||a.pageY)b=a.pageX,c=a.pageY;else if(a.clientX||a.clientY)b=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,c=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:b,y:c}};this.getDOMLocalXY=
function(a){return{x:a.layerX||a.offsetX||0,y:a.layerY||a.offsetY||0}};this.phaseString=function(a,b){return b&&(c.support.domEvent||c.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1;return!1};this.selectorMethods={addListener:function(b,
c,g,e,j){return this.s(a.addListener,b,c,g,e,j)},removeListener:function(b,c,g){return this.s(a.removeListener,b,c,g)},removeHandler:function(b,c,g){return this.s(a.removeHandler,b,c,g)},trigger:function(b,c,g,e){return this.s(a.trigger,b,c,g,e)}};var j=function(a,b){return this.init(a,b)};j.prototype={originalEvent:null,propagationStopped:!1,immediatePropagationStopped:!1,target:null,currentTarget:null,globalX:null,globalY:null,key:null,init:function(b,g){c.extend(this,b,!1,!1);this.originalEvent=
b;this.target=b.target;this.currentTarget=a.getDOMTarget(b,g);var e=a.getDOMGlobalXY(b);this.globalX=e.x;this.globalY=e.y;e=a.getDOMLocalXY(b);this.localX=e.x;this.localY=e.y;this.key=a.getDOMKey(b);if(b.hasOwnProperty("wheelDelta")||b.axis){var j={x:b.wheelDeltaX,y:b.wheelDeltaY};b.axis&&(j.x=-3*(2===b.axis?0:b.detail),j.y=-3*(1===b.axis?0:b.detail))}this.wheelDelta=j;return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();
this.propagationStopped=!0},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();this.immediatePropagationStopped=!0}};this.AliasHook=function(a){this.addListener=function(b,g,e,j,d,l){c.debug("alias hook addListener",g);var f;a.forEach(function(a){c.debug("    ",a);f=c.event.addListener(b,a,e,j,d,l,!1)});return f};this.removeListener=function(b,g,e,j){c.debug("alias hook removeListener",g);a.forEach(function(a){c.debug("    ",a);c.event.removeListener(b,a,e,j,!1)})}};
this.addHook("transitionend",new this.AliasHook(["transitionend","webkitTransitionEnd","oTransitionEnd"]));this.addHook("mousewheel",new this.AliasHook(["mousewheel","DOMMouseScroll"]));this.addHook("hover",new function(){function a(b){var g=c.dom.attr(b,"hoverDelay"),g=null==g||void 0==g?250:parseInt(g),e=c.data.get(b,f);e||(e={hasIntent:!1,wait:g,timeout:-1},c.data.set(b,e,f,!0));return e}function b(c){d.addListener(c.currentTarget,"mouseout",e,!1,0,d);c=a(c.currentTarget);c.hasIntent=!0;0>c.timeout&&
(c.timeout=setTimeout(j,c.wait))}function e(b){d.removeListener(b.currentTarget,"mouseout",e,!1);a(b.currentTarget).hasIntent=!1}function j(b){d.removeListener(b,"mouseout",e,!1,0,d);var c=a(b);c.timeout=-1;c.hasIntent&&d.trigger(b,l)}var d=this,l="hover",f="eventHover";this.addListener=function(c,g,e,j,f,r){g=d.addListener(c,l,e,j,f,r);a(c);d.addListener(c,"mouseover",b,!1,0,d);return g};this.removeListener=function(a,e,j,k){e=c.data.get(a,g);d.removeListener(a,l,j,k);j=d.phaseString(a,k);if(null==
e[j][l]||0==Object.keys(e[j][l]).length)d.removeListener(a,"mouseover",b,!1),c.data.remove(a,f)};return this});var l=new function(){function a(b){var g=c.data.get(b,h);g||(g={within:!1},c.data.set(b,g,h,!0));return g}function b(a){c.support.msEvent||(a="do"+a);return a}function e(b){var c=a(b.currentTarget);!c.within&&b.currentTarget!=b.relatedTarget&&(c.within=!0,d.trigger(b.currentTarget,l,!1))}function j(b){var g=a(b.currentTarget);g.within&&!c.util.isAncestor(b.currentTarget,b.relatedTarget)&&
b.currentTarget!=b.relatedTarget&&(g.within=!1,d.trigger(b.currentTarget,f,!1))}var d=this,l="domouseenter",f="domouseleave",h="eventMouseEnterState";this.addListener=function(a,g,k,l,f,h){c.support.msEvent||(d.addListener(a,"mouseover",e,l,f,h),d.addListener(a,"mouseout",j,l,f,h));return d.addListener(a,b(g),k,l,f,h)};this.removeListener=function(a,k,l,f){var h=c.data.get(a,g),i=d.phaseString(a,f),k=b(k);d.removeListener(a,k,l,f);if(!c.support.msEvent&&null==h[i][k]||0==h[i][k].keys().length)d.removeListener(a,
"mouseover",e,f),d.removeListener(a,"mouseout",j,f)}};this.addHook("mouseenterstate",l);this.addHook("mouseleave",l);this.addHook("mouseenter",l)})})(lola);(function(c){c.registerModule(new function(){var c=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return c};this.normalizeRadians=function(c){for(var b=2*Math.PI;c<b;)c+=b;return c%b};this.normalizeDegrees=function(c){for(;360>c;)c+=360;return c%360};this.normalizeRange=function(c,b,a){return Math.max(c,Math.min(a,b))};this.selectorMethods={maxValue:function(c){return this.compareValues(c,Math.max,Number.MIN_VALUE)},minValue:function(c){return this.compareValues(c,Math.min,
Number.MAX_VALUE)},totalValue:function(c){return this.compareValues(c,function(b,a){return b+a},0)},avgValue:function(c){return this.totalValue(c)/this.length}}})})(lola);(function(c){c.registerModule(new function(){var c=this,h=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return h};this.rgb2hsl=function(b,a,c){var f=0,e=0,b=0>b?0:b,b=1<b?1:b,a=0>a?0:a,a=1<a?1:a,c=0>c?0:c,c=1<c?1:c,g=b>a?c>b?c:b:c>a?c:a,j=b<a?c<b?c:b:c<a?c:a;0!=g&&(e=(g-j)/g);if(0<e)for(var f=(g-b)/(g-j),l=(g-a)/(g-j),c=(g-c)/(g-j),f=(b==g?c-l:a==g?2+f-c:4+l-f)/6;0>f;)f++;return{h:f,s:e,l:g}};this.rgb2hex=function(b,a,c){var f="",b=0>b?0:b,a=0>a?0:a,a=1<a?1:a,
c=0>c?0:c,c=1<c?1:c,b=Math.round(255*(1<b?1:b)),a=Math.round(255*a),c=Math.round(255*c),e=[];e.push((b-b%16)/16);e.push(b%16);e.push((a-a%16)/16);e.push(a%16);e.push((c-c%16)/16);e.push(c%16);e.forEach(function(a){f+="0123456789ABCDEF".charAt(a)});return f};this.rgb2int=function(b,a,d){return parseInt("0x"+c.rgb2hex(b,a,d))};this.hsl2rgb=function(b,a,c){var b=0>b?0:b,b=1<b?1:b,a=0>a?0:a,a=1<a?1:a,c=0>c?0:c,c=1<c?1:c,f=0,e=0,g=0;if(0!=c){var b=6*(b-Math.floor(b)),j=b-Math.floor(b),l=c*(1-a),k=c*(1-
a*j),a=c*(1-a*(1-j));switch(Math.floor(b)){case 0:f=c;e=a;g=l;break;case 1:f=k;e=c;g=l;break;case 2:f=l;e=c;g=a;break;case 3:f=l;e=k;g=c;break;case 4:f=a;e=l;g=c;break;case 5:f=c,e=l,g=k}}return{r:f,g:e,b:g}};this.hsl2int=function(b,a,d){b=c.hsl2rgb(b,a,d);return c.rgb2int(b.r,b.g,b.b)};this.hsl2hex=function(b,a,d){b=c.hsl2rgb(b,a,d);return c.rgb2hex(b.r,b.g,b.b)};this.int2rgb=function(b){b=16777215<b?16777215:b;b=0>b?0:b;return{r:(b>>16&255)/255,g:(b>>8&255)/255,b:(b&255)/255}};this.int2hsl=function(b){b=
c.int2rgb(b);return c.rgb2hsl(b.r,b.g,b.b)};this.int2hex=function(b){b=c.int2rgb(b);return c.rgb2hex(b.r,b.g,b.b)};this.hex2int=function(b){return parseInt("0x"+(3==b.length?b[0]+b[0]+b[1]+b[1]+b[2]+b[2]:b))};this.hex2rgb=function(b){return c.int2rgb(this.hex2int(b))};this.hex2hsl=function(b){return c.int2hsl(this.hex2int(b))}})})(lola);(function(c){c.registerModule(new function(){function i(a){1==g?c.window.requestAnimationFrame(a):2==g?c.window.mozRequestAnimationFrame(a):3==g?c.window.webkitRequestAnimationFrame(a):4==g?c.window.oRequestAnimationFrame(a):setTimeout(a,j)}function h(){var a=!1,b=c.now(),g;for(g in f)f[g].isActive()&&(a=!0,f[g].isComplete()?(c.event.trigger(f[g],"animationcomplete",!1,!1),delete f[g],d.push(parseInt(g))):f[g].enterFrame(b));a?i(h):e=!1}var b=this,a=["event"],d=[],f={},e=!1,g=0,j=1E3/30;this.namespace=
function(){return"animation"};this.dependencies=function(){return a};this.initialize=function(){g=c.support.animationFrameType};this.register=function(a,b){f[a]=b};this.remove=function(a){f[a]&&delete f[a]};this.start=function(a){f[a]&&f[a].start()};this.stop=function(a){f[a]&&f[a].stop()};this.pause=function(a){f[a]&&f[a].pause()};this.resume=function(a){f[a]&&f[a].resume()};this.selectorMethods={};this.Animation=function(a,g){var j=-1,d=-1,f=-1,s=!1,q=!1,p="function"===typeof a?a:function(){return!1};
this.enterFrame=function(a){var b=a-f,c=a-j;f=a;s=p.call(g,a,b,c)};this.isActive=function(){return s};this.isComplete=function(){return q};this.start=function(){s||this.restart()};this.pause=function(){s&&(s=!1,d=c.now(),c.event.trigger(b,"animationpause",!1,!1))};this.resume=function(){s||(s=!0,j+=c.now()-d,e||(e=!0,i(h)),c.event.trigger(b,"animationresume",!1,!1))};this.restart=function(){s=!0;q=!1;j=f=c.now();e||(e=!0,i(h));c.event.trigger(b,"animationstart",!1,!1)};this.stop=function(){s=!1;q=
!0;c.event.trigger(b,"animationstop",!1,!1)};return this}})})(lola);(function(c){c.registerModule(new function(){function i(a){d[a]||(d[a]=c.string.camelCase(a));return d[a]}function h(a,e,d){void 0==d?(a=b.getRawStyle(a,e),a=parseFloat(a.replace(c.regex.isDimension,"$1"))):(d=(""+d).match(c.regex.isDimension)?d:d+"px",a=b.setRawStyle(a,e,d));return a}var b=this,a=["type","math.color"],d={},f={},e={};this.namespace=function(){return"css"};this.dependencies=function(){return a};this.initialize=function(){c.debug("lola.css::initialize");"padding,margin,background-position,border-top-width,border-right-width,border-bottom-width,border-left-width,border-width,bottom,font-size,height,left,line-height,list-style-position,margin,margin-top,margin-right,margin-bottom,margin-left,max-height,max-width,min-height,min-width,outline-width,padding,padding-top,padding-right,padding-bottom,padding-left,right,text-indent,top,width".split(",").forEach(function(a){b.registerStyleHook(a,
h)});b.addStyleSheet("_default");d["float"]=c.support.cssFloat?"cssFloat":"styleFloat";var a=function(a,g,e,d){g=b.style(a,g,e,!1);return"auto"==g?c.geometry.getOffset(a,a.offsetParent)[d]+"px":g};b.registerStyleHook("top",function(b,c,e){return a(b,c,e,"y")});b.registerStyleHook("left",function(b,c,e){return a(b,c,e,"x")});delete b.initialize};this.style=function(a,c,e,k){var d=i(c);return!1!=a?null!=f[d]&&!1!==k?f[d].apply(a,arguments):void 0==e?b.getRawStyle(a,d):b.setRawStyle(a,d,e):!1};this.getRawStyle=
function(a,b){var e=i(b),d=a.style[e];if(!d||""==d){var m;document.defaultView&&document.defaultView.getComputedStyle&&(m=document.defaultView.getComputedStyle(a,void 0));d=m?m.getPropertyValue(c.string.dashed(e)):"undefined"!==typeof document.body.currentStyle?a.currentStyle[e]:void 0}return d};this.setRawStyle=function(a,b,c){b=i(b);return a.style[b]=c};this.registerStyleHook=function(a,b){var c=i(a);f[c]=b};this.addStyleSheet=function(a,e){var d=c.support.cssRules?document.createElement("style"):
document.createStyleSheet();e&&(d.source=e);a&&b.registerStyleSheet(d,a);c("head").appendChild(d)};this.registerStyleSheet=function(a,b){e[b]=a};this.addSelector=function(a,j,d){"string"==c.type.get(d)&&(d=e._default);var d=d||e._default,j=j||[],k=c.support.cssRules?d.cssRules.length:d.rules.length;d.addRule?d.addRule(a,null,k):d.insertRule(a+" { }",k);var m=c.support.cssRules?d.cssRules[k]:d.rules[k];j&&j.keys().forEach(function(a){b.style(m,a,j[a])});return m};this.performRuleAction=function(a,
b,e){for(var a=a.toLowerCase(),e=e?e.toLowerCase():"",d=0;d<document.styleSheets.length;d++){var m=document.styleSheets[d];if(!e||e==m.mediaText){var m=c.support.cssRules?m.cssRules:m.rules,f;for(f in m)m.hasOwnProperty(f)&&m[f]&&m[f].selectorText&&m[f].selectorText.toLowerCase()==a&&b(d,f)}}};this.getRules=function(a,e){var d=[];b.performRuleAction(a,function(a,b){c.support.cssRules?d.push(document.styleSheets[a].cssRules[b]):d.push(document.styleSheets[a].rules[b])},e);return d};this.updateRules=
function(a,c,e){var d=b.getRules(a,e);c.keys().forEach(function(a){d.forEach(function(e){b.style(e,a,c[a])})});return d};this.deleteRules=function(a,e){b.performRuleAction(a,function(a,b){c.support.cssRules?document.styleSheets[a].deleteRule(b):document.styleSheets[a].removeRule(b)},e)};this.classes=function(a,b){return void 0!=b?("array"!=c.type.get(b)&&(b="string"==c.type.get(b)?[b]:[]),a.className=b.join(" "),b):(a&&a.className?a.className.replace(c.regex.extraSpace," "):"").split(" ").reverse()};
this.hasClass=function(a,e){var d=b.classes(a);return c.array.isIn(d,e)};this.addClass=function(a,e){var d=b.classes(a);c.array.isIn(d,e)||(d.push(e),b.classes(a,d))};this.removeClass=function(a,c){var e=b.classes(a),d=e.indexOf(c);0<=d&&(e.splice(d,1),b.classes(a,e))};this.clearStyle=function(a,b){delete a.style[i(b)]};this.selectorMethods={style:function(a,c){return this._(b.style,a,c)},classes:function(a){return this._(b.classes,a)},hasClass:function(a){return this.every(function(c){return b.hasClass(c,
a)})},addClass:function(a){return this.s(b.addClass,a)},removeClass:function(a){return this.s(b.removeClass,a)}};this.Color=function(a){function b(a,c){return a?0<a.indexOf("%")?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/c:0}var e=this,d=c.math.color,f,h,i;this.getRgbValue=function(){return f};this.getHslValue=function(){return h};this.getHexValue=function(){return i};this.toInt=function(){return parseInt("0x"+i)};this.toHexString=function(){return"#"+i};this.toHslString=function(a){return(a?
"hsla":"hsl")+"("+Math.round(360*h.h)+","+Math.round(100*h.s)+"%,"+Math.round(100*h.l)+"%"+(a?","+h.a:"")+")"};this.toHslaString=function(){return e.toHslString(!0)};this.toRgbString=function(a){return(a?"rgba":"rgb")+"("+Math.round(255*f.r)+","+Math.round(255*f.g)+","+Math.round(255*f.b)+(a?","+f.a:"")+")"};this.toRgbaString=function(){return e.toRgbString(!0)};(function(a){if("string"==typeof a){var e=a.match(c.regex.isColor);if(e)switch(e[1]){case "#":a=a.match(c.regex.isHexColor);i=null!=a?a[1]:
"000000";f=d.hex2rgb(i);h=d.rgb2hsl(f.r,f.g,f.b);f.a=h.a=1;break;case "rgb":case "rgba":e={r:0,g:0,b:0,a:1};a=a.match(c.regex.isRGBColor);null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),e.r=b(a[0],255),e.g=b(a[1],255),e.b=b(a[2],255),e.a=3<a.length?b(a[3],1):1);f=e;i=d.rgb2hex(f.r,f.g,f.b);h=d.rgb2hsl(f.r,f.g,f.b);break;case "hsl":case "hsla":e={h:0,s:0,l:0,a:1},a=a.match(c.regex.isHSLColor),null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),e.h=b(a[0],360),e.s=b(a[1],1),e.l=b(a[2],1),e.a=3<a.length?
b(a[3],1):1),h=e,f=d.hsl2rgb(h.h,h.s,h.l),i=d.rgb2hex(f.r,f.g,f.b),f.a=h.a}}else void 0!=a.r&&void 0!=a.g&&void 0!=a.b?(f=a,i=d.rgb2hex(f.r,f.g,f.b),h=d.rgb2hsl(f.r,f.g,f.b)):void 0!=a.h&&void 0!=a.s&&void 0!=a.l&&(h=a,f=d.hsl2rgb(h.h,h.s,h.l),i=d.rgb2hex(f.r,f.g,f.b)),void 0!=a.a?(f.a=a.a,h.a=a.a):(f.a=1,h.a=1)})(a);return this}})})(lola);(function(c){c.registerModule(new function(){var i=this,h=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return h};this.transform=function(a,b,c){var e,g;if(window.ActiveXObject){e=new ActiveXObject("MSXML2.XSLTemplate");e.stylesheet=b.documentElement;b=e.createProcessor();b.input=a;for(g in c)b.addParameter(g,c[g]);b.transform();a=document.createElement("div");a.innerHTML=b.output;e=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var j=
new XSLTProcessor;j.importStylesheet(b);for(g in c)c.hasOwnProperty(g)&&j.setParameter(g,c[g]);if(a=j.transformToFragment(a,document))e=a.childNodes}return e};this.cacheXsl=function(){};this.encode=function(a){"string"==typeof a&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){"string"==typeof a&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.getParamString=function(a){if(void 0!=a&&"string"!=
c.type.get(a)){var b=[],f;for(f in a)a.hasOwnProperty(f)&&b.push(f+"="+i.encode(a[f]));return b.join("&")}return""};this.selectorMethods={applyTransform:function(a,b,f){this.html(b);this.forEach(function(b){c.event.addListener(a,"result",function(a){$(b).html(a.data)});c.event.addListener(a,"fault",function(){$(b).html(f)})});a.load()},applyRequest:function(a,b,f,e){this.html(f);this.forEach(function(b){c.event.addListener(a,"result",function(a){$(b).html(a.currentTarget.responseText())});c.event.addListener(a,
"fault",function(){$(b).html(e)})});a.load()},loadContent:function(a,b,f){this.applyRequest(new c.http.AsyncRequest(a,"get",[]),{},b,f)}};var b=function(a,b,f,e,g,j){function h(){if(m)switch(m.readyState){case 1:c.event.trigger(k,"loading",!0,!0,m);break;case 2:c.event.trigger(k,"loaded",!0,!0,m);break;case 3:c.event.trigger(k,"interactive",!0,!0,m);break;case 4:c.event.trigger(k,"statecomplete",!0,!0,m),200==m.status&&!r?(r=!0,c.event.trigger(k,"result",!0,!0,m)):400<=m.status&&(console.info("AsyncRequest.readyStateChange.fault:",
a),c.event.trigger(k,"fault",!1,!1,m))}}var k=this,m=!1,r=!1;this.ready=function(){return r};var i=function(){var a=!1;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=new XMLHttpRequest}catch(b){a=!1}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){a=!1}}return a};this.send=function(c){m=i();m.open(b,a,e,g,j);for(var r in f)f.hasOwnProperty(r)&&m.setRequestHeader(r,f[r]);m.onreadystatechange=function(){h.call(k)};
m.send(c);return m};this.responseText=function(){return r||!e?m.responseText:!1};this.responseXML=function(){return r||!e?m.responseXML:!1};b=b||"POST";f=f||[];e=void 0==e?!0:e;g=g||null;j=j||null;return this};this.AsyncRequest=function(a,c,f,e,g){return new b(a,c,f,!0,e,g)};this.SyncRequest=function(a,c,f,e,g){return new b(a,c,f,!1,e,g)};this.Transform=function(a,b,f,e){function g(){a.ready()&&b.ready()&&(e&&""!=e&&k.cacheXsl(e,b),r=k.transform(a.responseXML(),b.responseXML(),f),c.event.trigger(m,
"result",!0,!0,r))}function j(){c.event.trigger(m,"fault",!0,!0,"xsl fault")}function h(){c.event.trigger(m,"fault",!0,!0,"xml fault")}var k=m,m=this,r=[];this.resultNodes=function(){return r};this.send=function(c,e){a.ready()||a.send(c);b.ready()||b.send(e)};this.cancel=function(){c.event.removeListener(b,"result",g,!0);c.event.removeListener(b,"fault",j,!0);c.event.removeListener(a,"result",g,!0);c.event.removeListener(a,"fault",h,!0);try{b.abort()}catch(e){}try{a.abort()}catch(f){}};(function(){e=
e||"";if("string"==c.type.get(b)){var a=b;b=k.getCachedXsl(a);if(!b)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=b;if(this.xsl&&this.xml)c.event.addListener(this.xsl,"result",g,!0,0,this),c.event.addListener(this.xsl,"fault",j,!0,0,this),c.event.addListener(this.xml,"result",g,!0,0,this),c.event.addListener(this.xml,"fault",h,!0,0,this),g();else throw Error("transform error!");})();return this}})})(lola);(function(c){c.registerModule(new function(){function i(b){return e.test(b)?'"'+b.replace(e,function(b){var c=a.meta[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function h(a,b){var c,e,d,f,l=this.gap,n,o=b[a];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(a));"function"===typeof j&&(o=j.call(b,a,o));switch(typeof o){case "string":return i(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+
o;case "object":if(!o)return"null";this.gap+=this.indent;n=[];if("[object Array]"===Object.prototype.toString.apply(o)){f=o.length;for(c=0;c<f;c+=1)n[c]=h(c,o)||"null";d=0===n.length?"[]":g?"[\n"+g+n.join(",\n"+g)+"\n"+l+"]":"["+n.join(",")+"]";g=l;return d}if(j&&"object"===typeof j){f=j.length;for(c=0;c<f;c+=1)e=j[c],"string"===typeof e&&(d=h(e,o))&&n.push(i(e)+(g?": ":":")+d)}else for(e in o)Object.hasOwnProperty.call(o,e)&&(d=h(e,o))&&n.push(i(e)+(g?": ":":")+d);d=0===n.length?"{}":g?"{\n"+g+n.join(",\n"+
g)+"\n"+l+"}":"{"+n.join(",")+"}";g=l;return d}}function b(a,b){function c(a,e){var g,d,f=a[e];if(f&&"object"===typeof f)for(g in f)Object.hasOwnProperty.call(f,g)&&(d=c(f,g),void 0!==d?f[g]=d:delete f[g]);return b.call(a,e,f)}var e,a=""+a;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");}var a=this,d=["http"],f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=null,j=null,l=0;this.namespace=function(){return"json"};this.dependencies=function(){return d};this.encode=function(a){g="";j=void 0;return h("",
{"":a})};this.decode=function(a){return b(a)};this.get=function(b,e,g){console.log("json.get: "+b);var d=new c.URL(b);if("____"==d.protocol)b=new c.http.AsyncRequest(b),e&&$(b).addListener("result",function(b){console.log("    result");b=a.parse(b.data.responseText);e(b)}),b.send();else{console.log("    cross domain");var f=l++;a.handleResponse[f]=function(b){e(b);delete a.handleResponse[f]};d.vars[g?g:"jsonp"]="lola.json.handleResponse["+f+"]";c.loadScript(d.toString())}};this.selectorMethods={};
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+c.string.padFront(this.getUTCDate(),"0",2)+"T"+c.string.padFront(this.getUTCHours(),"0",2)+":"+c.string.padFront(this.getUTCMinutes(),"0",2)+":"+c.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()})})})(lola);(function(c){c.registerModule(new function(){var i=this,h={},b=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){c.debug("lola.agent::initialize");c.checkDependencies(this.dependencies);for(var a=b.length,d=0;d<a;d++)c.hasFn(b,d)&&(b[d](),delete b[d]);delete i.initialize};this.registerAgent=function(a){var d=a.namespace();c.debug("register agent: "+d);if(d&&c.hasFn(a,"sign")&&c.hasFn(a,"drop")){var f=c.getPackage(c.agent,d,
a);c.hasFn(a,"getDependencies")&&(this.dependencies["agent."+d]=a.getDependencies());h[d]=f;c.hasFn(a,"initialize")&&b.push(function(){a.initialize()});c.hasFn(a,"preinitialize")&&a.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,b){var c=h[b];if(c)c.sign(a);else throw Error("unknown agent: "+b);};this.drop=function(a,b){var c={};void 0==b?c=h:"string"==typeof b&&b.split(",").forEach(function(a){c[a]=h[a]});for(var e in c){var g=c[e];g&&g.drop(a)}};
this.selectorMethods={assignAgent:function(a){return this.s(i.assign,a)},dropAgent:function(a){return this.s(i.drop,a)}};c.addSafeDeleteHook(this.drop,this)})})(lola);(function(c){c.registerModule(new function(){function i(a){h.execute(a.type,a.data.parameters,a.data.responder)}var h=this,b=[],a={},d={};this.namespace=function(){return"cmd"};this.dependencies=function(){return b};this.register=function(b,e){"string"!=typeof b&&void 0==e&&(e=(new b).getName());c.debug("register command: "+e);null!=a[e]&&"string"!=typeof a[e]&&console.warn('command "'+e+'" has already been registered... overwriting');a[e]=b;c.event.addListener(h,e,i)};this.call=function(a,b,c,d,
l){c=new h.Responder(c,d,l);h.execute(a,b,c)};this.execute=function(b,e,g){if(a[b])if("string"==typeof a[b])d[b]||(c.loadScript(a[b],function(){if(c.hasFn(a,b)){for(var e=d[b].length,g=0;g<e;g++){var j=d[b][g];h.execute(j.name,j.params,j.responder)}delete d[b]}else throw Error('The command loaded from "'+a[b]+'" is not named "'+b+'"');}),d[b]=[]),d[b].push({name:b,params:e,responder:g});else{var j=a[b];j&&(j=new j,g&&(c.event.addListener(j,"result",g.handleResult),c.event.addListener(j,"fault",g.handleFault),
c.event.addListener(j,"status",g.handleStatus)),j.execute(e))}else throw Error("Unknown command type: "+b);return g};this.Responder=function(a,b,g){var d=void 0;this.getLastResponse=function(){return d};this.handleStatus=function(a){if(!d||"status"==d.type)d=a;"function"==typeof g&&g.apply(c.window,[a])};this.handleResult=function(b){d=b;"function"==typeof a&&a.apply(c.window,[b])};this.handleFault=function(a){d=a;"function"==typeof b&&b.apply(c.window,[a])};return this};this.Data=function(a,b){this.parameters=
function(){return a};this.responder=function(){return b}}})})(lola);(function(c){c.registerModule(new function(){function i(a){var b={};this.toString=function(){Object.keys(b);var a=[];b.forEach(function(b,c){a.push(c+":"+b)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(0<Object.keys(b).length)switch(c.type.get(a)){case "boolean":a=b[a?"0":"1"];break;default:a=b[a]}return a};a&&this.parse(a);return this}function h(a){if("function"!=typeof a)throw Error("invalid hook.");this.evaluate=function(b,d){return a.apply(c.window,arguments)}}function b(a){function b(a){for(var c=
[],e=a.search(d);0<=e;){var g=a.match(d),h=a.substring(0,e);h&&c.push(h);c.push(new i(g[1]));a=a.substring(e+g[0].length);e=a.search(d)}a&&c.push(a);f=c;k=c.length}var d=/\$\{([^\}]+)\}/,f=[],k=0;this.evaluate=function(a){var b=[];"array"!=c.type.get(a)&&(a=[a]);a.forEach(function(a,c){for(var e=0;e<k;){var g=f[e];"string"===typeof g?b.push(g):b.push(g.evaluate(a,c));e++}});return b.join("")};a&&b(a);return this}var a=this,d=["json"],f={};this.namespace=function(){return"template"};this.dependencies=
function(){return d};this.initialize=function(){c.debug("lola.template::initialize");if(!c)throw Error("lola not defined!");var b=c.now();c('script[type="text/x-lola-template"]').forEach(function(b){a.add(b.id,b.innerHTML)});var g=c.now();c.debug("templates parsed in "+(g-b)+" ms");delete a.initialize};this.add=function(a,c){if(!a||"getValue"==a)throw Error("invalid template id");f[a]=new b(c)};this.addHook=function(a,b){if(!a||"getValue"==a)throw Error("invalid hook id");f[a]=new h(b)};this.apply=
function(a,b){var c="",d;if(!f[a])throw Error('hook "'+a+'" not found.');(d=f[a])&&(c=d.evaluate(b));return c};this.selectorMethods={applyTemplate:function(a,b){this.html(c.template.apply(a,b))}}})})(lola);(function(c){c.registerModule(new function(){var i=this,h=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return h};this.getOffset=function(b,a){var c=new i.Point(b.offsetLeft,b.offsetTop);if(b.offsetParent)var f=i.getOffset(b.offsetParent),c=c.add(f);a&&(f=i.getOffset(a),c=c.subtract(f));return c};this.width=function(b,a){if(void 0!=a){var d=c.css.style(b,"borderLeft"),f=c.css.style(b,"borderRight"),e=c.css.style(b,"paddingLeft"),g=c.css.style(b,"paddingRight");
return c.css.style(b,"width",a-(d+f+e+g))}return b.offsetWidth?b.offsetWidth:b.clientWidth};this.innerWidth=function(b,a){var d;if("window"==$(b).getType()){d=-1;if(b.innerWidth)d=b.innerWidth;else{var f=b.document;f.documentElement&&f.documentElement.clientWidth?d=f.documentElement.clientWidth:f.body&&(d=f.body.clientWidth)}return d}if(void 0!=a)return c.css.style(b,"width",a);d=b.offsetWidth?b.offsetWidth:b.clientWidth;var f=c.css.style(b,"borderLeft"),e=c.css.style(b,"borderRight"),g=c.css.style(b,
"paddingLeft"),j=c.css.style(b,"paddingRight");return d-(f+e+g+j)};this.height=function(b,a){if(void 0!=a){var d=c.css.style(b,"borderTop"),f=c.css.style(b,"borderBottom"),e=c.css.style(b,"paddingTop"),g=c.css.style(b,"paddingBottom");return c.css.style(b,"height",a-(d+f+e+g))}return b.offsetHeight?b.offsetHeight:b.clientHeight};this.innerHeight=function(b,a){var d;if("window"==$(b).getType()){d=-1;if(b.innerHeight)d=b.innerHeight;else{var f=b.document;f.documentElement&&f.documentElement.clientHeight?
d=f.documentElement.clientHeight:f.body&&(d=f.body.clientHeight)}return d}if(void 0!=a)return c.css.style(b,"height",a);d=b.offsetHeight?b.offsetHeight:b.clientHeight;var f=c.css.style(b,"borderTop"),e=c.css.style(b,"borderBottom"),g=c.css.style(b,"paddingTop"),j=c.css.style(b,"paddingBottom");return d-(f+e+g+j)};this.selectorMethods={offset:function(b){return this.g(i.getOffset,b)},width:function(b){return this._(i.width,b)},height:function(b){return this._(i.height,b)},innerWidth:function(b){return this._(i.innerWidth,
b)},innerHeight:function(b){return this._(i.innerHeight,b)}};this.Point=function(b,a){this.x=b;this.y=a;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var b=Math.atan2(this.y,this.x),a=Math.sqrt(this.x*this.x+this.y*this.y);return new i.Vector(a,b)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new i.Point(this.x,this.y)},operate:function(b,a){for(var c=this.copy(),f=a.length,e=0;e<f;e++){var g=a[e];"number"==typeof g?(c.x=b(c.x,g),c.y=b(c.y,
g)):(c.x=b(c.x,g.x),c.y=b(c.y,g.y))}return c},add:function(){return this.operate(function(b,a){return b+a},arguments)},subtract:function(){return this.operate(function(b,a){return b-a},arguments)},multiply:function(){return this.operate(function(b,a){return b*a},arguments)},divide:function(){return this.operate(function(b,a){return b/a},arguments)},pow:function(){return this.operate(function(b,a){return Math.pow(b,a)},arguments)},offsetPoint:function(b,a){var c=this.copy();c.x+=Math.cos(b)*a;c.y+=
Math.sin(b)*a;return c},distance:function(b){return Math.sqrt(Math.pow(b.x-this.x,2)+Math.pow(b.y-this.y,2))}};this.Spline=function(b,a){b=b?b:[];a=void 0==a?0:a;this.addPoint=function(a,c){void 0==c&&(c=b.length);b.splice(c,0,a)};this.removePoint=function(a){void 0!=a&&b.splice(a,1,void 0)};this.updatePoint=function(a,c){void 0!=c&&b.splice(c,1,a)};this.getPoint=function(a){return a<b.length?b[a]:null};this.getPoints=function(){return b};this.draw=function(c,f){f=void 0==f?a:f;if(1<b.length){var e=
[];b.forEach(function(a){e.push(a.getControl1(),a.getAnchor(),a.getControl2())});var g=e.length;if(f&i.Spline.CONTROLS){var j=function(a,b){c.beginPath();c.moveTo(e[a].x,e[a].y);c.lineTo(e[b].x,e[b].y);c.stroke();c.closePath()};j(1,2);j(3,4)}c.beginPath();c.moveTo(e[1].x,e[1].y);for(j=2;j<g-3;j+=3)c.bezierCurveTo(e[j].x,e[j].y,e[j+1].x,e[j+1].y,e[j+2].x,e[j+2].y);f&i.Spline.CLOSED&&c.bezierCurveTo(e[g-1].x,e[g-1].y,e[0].x,e[0].y,e[1].x,e[1].y);f&i.Spline.FILL&&c.fill();f&i.Spline.STROKE&&c.stroke();
c.closePath()}else throw Error("not enough spline points");};this.normalize=function(a,b,c,g,j,h){for(var j=!0===j,h=!0===h,k=new i.Spline,m=this.getPoints(),r=m.length,v=b.subtract(a),s=g.subtract(c),b=function(b){b=b.subtract(a).divide(v);j&&(b.x=1-b.x);h&&(b.y=1-b.y);return b.multiply(s).add(c)},g=0;g<r;g++){var q=m[g].getControl1(),p=m[g].getAnchor(),n=m[g].getControl2(),p=b(p),q=p.subtract(b(q)).toVector(),n=b(n).subtract(p).toVector(),n=new i.SplinePoint(p.x,p.y,q.velocity,q.angle,n.velocity,
n.angle);k.addPoint(n)}return k};return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.SplinePoint=function(b,a,c,f,e,g){var j,h,k;this.setAngle=function(a,b){h.angle=a;k.angle=void 0==b?a+Math.PI:b};this.getAnchor=function(){return j};this.getControl1=function(a){return a?h:j.subtract(h.toPoint())};this.getControl2=function(a){return a?k:j.add(k.toPoint())};j=new i.Point(b,a);h=new i.Vector(c,f);k=new i.Vector(e,void 0==g?f+Math.PI:g);return this};
this.Vector=function(b,a){this.velocity=b;this.angle=a;this.copy=function(){return new i.Vector(this.velocity,this.angle)};this.add=function(a){this.velocity+=a.velocity;this.angle+=a.angle};this.toPoint=function(){return new i.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)};return this}})})(lola);(function(c){c.registerModule(new function(){function i(a){"string"===typeof a&&(a=b.getContext(a));return a||d}function h(a){b[a]=function(){var b=i(null);b&&b[a].apply(b,arguments)}}var b=this,a=["util"],d=null,f={},e={},g={},j={};this.namespace=function(){return"graphics"};this.dependencies=function(){return a};this.registerContext=function(a,b){var e=a.getContext("2d"),b=void 0==b?c(a).identify().attr("id"):b,g=$(a).getData("_graphics",!0);null==g.contexts&&(g.contexts=[]);g.contexts.push(b);
f[b]=e};this.removeContext=function(a){if((a=c(a).getData("_graphics",!1))&&a.contexts)for(var b;b=a.contexts.pop();)delete f[b]};this.getContext=function(a){return f[a]};this.setContext=function(a){d=i(a)};this.resetContext=function(a){"string"==typeof a&&(d=i(a));d&&c.util.copyPrimitives(e,d)};this.registerStyle=function(a,b){var e={};c.util.copyPrimitives(b,e);g[a]=e};this.removeStyle=function(a){delete g[a]};this.registerRoutine=function(a,b){j[a]=b};this.removeRoutine=function(a){delete this.routines[a]};
this.executeRoutine=function(a){if(c.hasFn(j,a))j[a](d)};this.applyStyle=function(a,b){var b=i(b),d="string"==typeof a?g[a]||e:a;c.util.copyPrimitives(e,b);c.util.copyPrimitives(d,b)};this.draw=function(a,b){c.hasFn(a,"draw")&&a.draw(d,b)};this.clear=function(a){a=i(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){return this.s(b.registerContext)}};c.addSafeDeleteHook(b.removeContext,b);var l=document.createElement("canvas").getContext("2d"),k;for(k in l)c.type.isPrimitive(l[k])?
e[k]=l[k]:"function"==c.type.get(l[k])&&h(k)})})(lola);(function(c){c.registerModule(new function(){function i(a,b){var c=a.getPoints(),d=c.length-1,f=[];if(0<d){for(var b=b*d,h=[],i=1;i<=d;i++)h.push(c[i].getAnchor().x);for(var i=d=0,v=h[0],s=0;s<=b;s++){var q=s/b;if(q<=v){var q=(q-d)/(v-d),p=c[i].getAnchor(),n=c[i].getControl2(),o=c[i+1].getControl1(),t=c[i+1].getAnchor(),u=1-q,q=p.multiply(u*u*u).add(n.multiply(3*u*u*q),o.multiply(3*u*q*q),t.multiply(q*q*q));f.push(q)}else i++,d=v,v=h[i],s--}}return f}var h=this,b=["geometry"],a={},d="ease";this.namespace=
function(){return"easing"};this.methods=function(){return a};this.dependencies=function(){return b};this.setDefaultEase=function(b){a[b]&&(d=b,a["default"]=a[b])};this.sampleSpline=i;this.registerEasingSpline=function(b,c,d,f){var d=d?d:25,f=!0===f,k=c.getPoint(0).getAnchor(),h=c.getPoint(c.getPoints().length-1).getAnchor();if(0==k.x&&0==k.y&&1==h.x&&1==h.y)if(!a[b]||f)a[b]=new function(){this.getSpline=function(){return c};var a=i(c,d);this.getSamples=function(){return a};var b=a.length;this.exec=
function(c,e,g,d){for(var c=c/d,f=0;c>=a[f].x&&f<b;)if(f++,c<=a[f].x)return d=a[f-1],f=a[f],e+g*(d.y+(c-d.x)/(f.x-d.x)*(f.y-d.y));return 0};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,b,d,f,k){var i=c.geometry,r=new i.Spline,b=new i.Point(b,d),f=new i.Point(1-f,1-k),k=b.toVector(),f=f.toVector();r.addPoint(new i.SplinePoint(0,0,0,0,k.velocity,k.angle));r.addPoint(new i.SplinePoint(1,1,f.velocity,f.angle,
0,0));h.registerEasingSpline(a,r)};this.registerEasingFn=function(b,c){a[b]=new function(){this.name=b;this.exec=c;return this}};this.get=function(b){if(a[b])return a[b];c.debug('easing method "'+b+'" not found.');return a[d]};this.getAll=function(){return a};this.params={back:{a:2.7,b:1.7}};var f={back:{easeIn:function(a,b,c,d){return c*(a/=d)*a*(h.params.back.a*a-h.params.back.b)+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*(h.params.back.a*a+h.params.back.b)+1)+b}},bounce:{easeIn:function(a,
b,c,d){return c-f.bounce.easeOut(d-a,0,c,d)+b},easeOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b}},circular:{easeIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b}},cubic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b}},elastic:{easeIn:function(a,
b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var f,h;f=0.3*d;h=f/4;return-(c*Math.pow(2,10*(a-=1))*Math.sin((a*d-h)*2*Math.PI/f))+b},easeOut:function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var f,h;h=0.3*d;f=h/4;return c*Math.pow(2,-10*a)*Math.sin((a*d-f)*2*Math.PI/h)+c+b}},exponential:{easeIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b}},quadratic:{easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,
b,c,d){return-c*(a/=d)*(a-2)+b}},quartic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOut:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b}},quintic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b}},septic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a*a*a+1)+b}},sine:{easeIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOut:function(a,b,c,d){return c*
Math.sin(a/d*(Math.PI/2))+b}}};(function(){var a=c.now();c.debug("lola.easing::preinitialize");h.registerSimpleEasing("none",0,0,1,1);h.registerSimpleEasing("linear",0,0,1,1);h.registerSimpleEasing("ease",0.25,0.1,0.25,1);h.registerSimpleEasing("ease-in",0.42,0,1,1);h.registerSimpleEasing("ease-out",0,0,0.58,1);h.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);Object.keys(f).forEach(function(a){if(f[a].hasOwnProperty("easeIn")&&f[a].hasOwnProperty("easeOut")){var b=f[a].easeIn,c=f[a].easeOut;h.registerEasingFn(a+
"-in",b);h.registerEasingFn(a+"-out",c);h.registerEasingFn(a+"-in-out",function(a,d,e,g){return a<g/2?b(a,d,e/2,g/2):c(a-g/2,b(g,d,e/2,g),e/2,g/2)})}});var b=c.now();c.debug("easing preinitialization took",b-a,"ms");h.setDefaultEase("bounce-in-out")})();return this})})(lola);(function(c){c.registerModule(new function(){function i(a){var b=!1,f,j,i;f=void 0;j=function(){return!1};i=function(a,b,d,e){if(a=e[0].target)return c.event.trigger(a,"tweencomplete",!1,!1),!1};for(var l in g)g.hasOwnProperty(l)&&g[l].active&&(b=!0,g[l].complete?(c.event.trigger(g[l],"tweencomplete",!1,!1),h(f,j,i),delete g[l],e.push(parseInt(l))):g[l].calculate(a));var p=0,n=0;h(function(a){0==p&&delete d[a];p=0},function(a,b){0==n?delete d[a][b]:p++;n=0},function(a,b,c,e){for(var f=[],k;k=e.shift();)k&&
g[k.tweenId]&&g[k.tweenId].active&&(k.apply(g[k.tweenId].value),f.push(k));d[a][b][c]=f;0==d[a][b][c].length?delete d[a][b][c]:n++});return b}function h(a,b,c){for(var e in d)if(d.hasOwnProperty(e)){var g=d[e],f;for(f in g)if(g.hasOwnProperty(f)){var h=g[f],j;for(j in h)if(h.hasOwnProperty(j)){var i=h[j];if(c&&!c(e,f,j,i))break}if(b&&!b(e,f))break}if(a&&!a(e))break}}var b=this,a=["animation","css","event","easing"],d={},f=0,e=[],g={},j={},l={};this.namespace=function(){return"tween"};this.dependencies=
function(){return a};this.initialize=function(){var a=new c.animation.Animation(i,b);c.animation.register("tween",a);0<Object.keys(g).length&&c.animation.start("tween")};this.registerTween=function(a){var b=0<e.length?e.pop():f++;g[b]=a;return b};this.start=function(a){g[a]&&g[a].start()};this.stop=function(a){g[a]&&g[a].stop()};this.pause=function(a){g[a]&&g[a].pause()};this.resume=function(a){g[a]&&g[a].resume()};this.addTarget=function(a,e,f,h){if(g[a]){h=!0===h;"array"!=c.type.get(e)&&(e=[e]);
for(var j=e.length,i=0;i<j;i++){var l=e[i],n=$(l).identify().attr("id");d[n]||(d[n]={});for(var o in f)if(f.hasOwnProperty(o)){var t=f[o];d[n][o]||(d[n][o]={});for(var u in t)if(t.hasOwnProperty(u)&&(h||null==d[n][o][u]))d[n][o][u]||(d[n][o][u]=[]),h?d[n][o][u].push(b.getTweenObject(a,l,o,u,t[u])):d[n][o][u]=[b.getTweenObject(a,l,o,u,t[u])]}}}else throw Error("tween not found");};this.getTweenObject=function(a,d,e,g,f){var h,i,n;f.from||(h=c(d)[e](g),"object"==typeof f?f.from=h:f={from:h,to:""+f});
h=f.from?f.from:"function"==typeof f?f.call(d):$(d)[e](g);var o=0;if(null!=h&&void 0!=h)c.type.isPrimitive(f)?i=f:f.to?(o=0,i=f.to):f.add?(o=1,i=f.add):f.by&&(o=1,i=f.by);else throw Error("invalid tween parameters");var t,u;if(j[e])t=j[e];else for(var w in l)if(l.hasOwnProperty(w)){t=l[w];if(w==e)break;if(!0===t.match||t.match&&t.match.test(""+i)&&t.match.test(""+h))break;else t=null}t&&(i=t.parse(i),h=t.parse(h),n=t.getDelta(i,h,o),u=t.proxy,t.canTween(h,i)||(t=null));t||(u=c.tween.setAfterProxy,
n=i);return new b.TweenObject(a,d,e,g,h,n,u)};this.addTweenType=function(a,b){l[a]=b};this.addTweenType("simple",{match:c.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,b){return void 0!=a&&void 0!=b},getDelta:function(a,b,c){return c?a:a-b},proxy:function(a,b){a.$target[a.type](a.property,a.initialValue+a.deltaValue*b)}});this.addTweenType("dimensional",{match:c.regex.isDimension,parse:function(a){a=(""+a).match(c.regex.isDimension);return{value:parseFloat(a[1]),units:a[2]}},
canTween:function(a,b){return a&&b&&(a.units==b.units||""==a.units&&""!=b.units)},getDelta:function(a,b,c){return c?{value:a.value,units:a.units}:{value:a.value-b.value,units:a.units}},proxy:function(a,b){var c=a.deltaValue;a.$target[a.type](a.property,a.initialValue.value+c.value*b+c.units)}});this.addTweenType("color",{match:c.regex.isColor,parse:function(a){return(new c.css.Color(a)).getRgbValue()},canTween:function(a,b){return a&&b},getDelta:function(a,b,c){return c?{r:a.r,g:a.g,b:a.b,a:a.a}:
{r:a.r-b.r,g:a.g-b.g,b:a.b-b.b,a:a.a-b.a}},proxy:function(a,b){var d=a.initialValue,e=a.deltaValue,f=255*(d.r+e.r*b)|0,g=255*(d.g+e.g*b)|0,h=255*(d.b+e.b*b)|0,d=d.a+e.a*b;if(c.support.colorAlpha)a.$target[a.type](a.property,"rgba("+[f,g,h,d].join()+")");else a.$target[a.type](a.property,"rgb("+[f,g,h].join()+")")}});this.addTweenType("class",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=a.$target;1>b?c.hasClass(a.property)||
c.addClass(a.property):c.hasClass(a.property)&&c.removeClass(a.property)}});this.addTweenType("event",{match:!1,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){var c=a.$target;1<=b?c.trigger(a.property,!1,!1,a.deltaValue):0>=b&&c.trigger(a.property,!1,!1,a.initialValue)}});this.addTweenType("setafter",{match:!0,parse:function(a){return a},canTween:function(){return!0},getDelta:function(a){return a},proxy:function(a,b){if(1<=b)a.$target[a.type](a.property,
a.initialValue+a.deltaValue)}});this.selectorMethods={tween:function(a,c,d,e,f){c=b.registerTween(new b.Tween(c,e,d));b.addTarget(c,this.getAll(),a,f);b.start(c);return this}};this.Tween=function(a,b,c){this.init(a,b,c);return this};this.Tween.prototype={startTime:-1,pauseTime:-1,lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:!1,complete:!1,init:function(a,b,d){this.duration=a;this.easing="function"==typeof b?b:"string"==typeof b?c.easing.get(b):c.easing.get("default");this.delay=d||0;
b||(this.easing={exec:function(a,b,c,d){return a/d*c+b}})},calculate:function(a){a=a-this.startTime-this.delay;a>=this.duration&&(a=this.duration,this.active=this.complete=!0);this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active||(this.active=!0,this.startTime=c.now(),c.animation.start("tween"),c.event.trigger(this,"tweenstart",!1,!1))},stop:function(){this.active=!1;this.complete=!0;c.event.trigger(this,"tweenstop",!1,!1)},pause:function(){this.active&&(this.active=
!1,this.pauseTime=c.now(),c.event.trigger(this,"tweenpause",!1,!1))},resume:function(){this.active||(this.active=!0,this.startTime+=c.now()-this.pauseTime,c.animation.start("tween"),c.event.trigger(this,"tweenresume",!1,!1))}};this.TweenObject=function(a,b,c,d,e,f,g){this.init(a,b,c,d,e,f,g);return this};this.TweenObject.prototype={$target:null,target:null,type:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,b,c,d,e,f,g){this.$target=$(b);this.target=
b;this.type=c;this.property=d;this.tweenId=a;this.initialValue=e;this.deltaValue=f;this.proxy=g},apply:function(a){this.proxy(this,a)}}})})(lola);(function(c){c.registerModule(new function(){function i(b){var c=[];void 0==b?b=a.keys():"string"==typeof b&&(b=[b]);Array.isArray(b)&&b.forEach(function(b){a[b]&&c.push(b)});return c}var h=this,b=["tween"],a={};this.namespace=function(){return"motion"};this.dependencies=function(){return b};this.initialize=function(){c.debug("motion::initialize");delete h.initialize};this.register=function(b,c){if(!a[b]){var f=new d(b);c.frames&&f.frames(c.frames);c.maxRate&&f.maxRate(c.maxRate);c.timed&&f.timed(c.timed);
c.loop&&f.loop(c.loop);c.step&&f.step(c.step);a[b]=f}};this.remove=function(b){i(b).forEach(function(b){a[b].destroy();delete a[b]})};this.get=function(b){return a[b]};this.addTargets=function(b,c,d){(b=a[b])&&b.addTargets(c,d)};this.removeTargets=function(b,c){i(c).forEach(function(c){(c=a[c])&&c.removeTargets(b)})};this.position=function(b,c){i(c).forEach(function(c){a[c]&&a[c].position(b)})};this.selectorMethods={motionRange:function(a,b){h.addTargets(a,this.getAll(),b);return this}};var d=function(a){var b=
this,d=new c.animation.Animation(function(a,c){var d=!1;if(q!=p){var e=q-p,f=0>e?-1:1,e=e/2,h=i*(c/1E3),j=e*f;j>h?(b.update(p+h*f),d=!0):1>j?b.update(q):(b.update(p+e),d=!0)}v&&r&&(d=!0);return d},b);c.animation.register("motion."+a,d);var h=1E4,i=5E3,m=!1,r=!1,v=!1,s,q=0,p=0,n=[],o=0;b.frames=function(a){a&&(h=parseInt(a));return h};b.position=function(a){void 0!=a&&(q=Math.round(a),d.start());return q};b.maxRate=function(a){void 0!=a&&(i=a);return i};b.timed=function(a){void 0!=a&&(v=!0===a);return v};
b.loop=function(a){void 0!=a&&(m=!0===a);return m};b.step=function(a){void 0!=a&&(s="function"==typeof a?a:!1);return s};b.start=function(){v&&(r=m,b.position(h))};b.stop=function(){r=!1;q=p};b.update=function(a){var b=a>p,a=Math.round(Math.min(h,Math.max(0,a)));v&&r&&a==h&&(a=0);for(var c=0;c<o;)n[c].position(a,b),c++;s&&s(a);p=a};b.addTargets=function(a,b){Array.isArray(a)||(a=[a]);var d=b.start?b.start:0,e=b.end?b.end:h,g=c.easing.get(b.ease?b.ease:"linear");delete b.start;delete b.end;delete b.ease;
a.forEach(function(a){for(var h in b)if(b.hasOwnProperty(h)){var i=b[h],j;for(j in i)i.hasOwnProperty(j)&&(Array.isArray(i[j])?i[j]:[i[j]]).forEach(function(b){var i=void 0==b.start?d:b.start,k=void 0==b.end?e:b.end,l=void 0==b.ease?g:c.easing.get(b.ease);n.push(new f(a,h,j,b,l,i,k,b.step))})}});o=n.length};b.removeTargets=function(a){var b=[];n.forEach(function(c){-1==a.indexOf(c.obj)&&b.push(c)});n=b};b.destroy=function(){n=[];c.animation.remove("motion."+a)}},f=function(a,b,d,f,h,i,r,v){var s=
new c.tween.getTweenObject(-1,a,b,d,f),q=!1,p=r-i,n=0;"function"!=typeof v&&(v=!1);this.position=function(a,b){var c=void 0;a>=i&&a<=r?(q=!0,c=h.exec(a-i,0,1,p)):q?(q=!1,c=b?1:0):b&&n<i&&a>r?c=1:!b&&n>r&&a<i&&(c=0);void 0!=c&&(s.apply(c),v&&v(c,this));n=a}}})})(lola);(function(c){c.registerModule(new function(){var c=this,h=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return h};this.Grid=function(b,a,d,f,e,g){this.draw=function(h,l){var l=void 0==l?g:l,k;if(l&c.Grid.VERTICAL)for(k=b+e;k<=d+b;k+=e)h.beginPath(),h.moveTo(k,a),h.lineTo(k,a+f),h.stroke(),h.closePath();if(l&c.Grid.HORIZONTAL)for(k=a+e;k<=f+a;k+=e)h.beginPath(),h.moveTo(b,k),h.lineTo(b+d,k),h.stroke(),h.closePath()};return this};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=
2;this.Axis=function(b,a,d,f,e,g){this.draw=function(h,l){l=void 0==l?g:l;h.beginPath();h.moveTo(b,a);l&c.Axis.VERTICAL?h.lineTo(b,a+d):h.lineTo(b+d,a);h.stroke();h.closePath();f&&(l&c.Axis.VERTICAL?(h.textAlign="center",h.fillText(f,b+e.x,a+d+e.y)):(h.textAlign="right",h.fillText(f,b+e.x,a+e.y)))};return this};this.Axis.VERTICAL=1})})(lola);(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return c};this.pv=function(c,b,a){return c/Math.pow(1+b,a)};this.fv=function(c,b,a){return c*Math.pow(1+b,a)};this.pva=function(c,b,a){return c*(1-1/Math.pow(1+b,a))/b};this.fva=function(c,b,a){return c*(Math.pow(1+b,a)-1)/b};this.payment=function(c,b,a,d){a=Math.pow(1+b,a);return c*b/(1-1/a)-d*b/(a-1)}})})(lola);(function(c){c.registerModule(new function(){function i(e){e=new c.http.SyncRequest(e);e.send();var f=e.responseXML(),e=[];if("tests"==f.documentElement.tagName)for(var f=f.documentElement,h=f.childNodes.length,i=0;i<h;i++){var k=f.childNodes[i];if(1==k.nodeType)switch(k.nodeName.toLowerCase()){case "script":k=new b(k);e.push(k);break;case "test":k=new a(k);e.push(k);break;case "xml":k=new d(k),e.push(k)}}e.unshift(0);e.unshift(g+1);j.splice.apply(j,e)}function h(){g++;if(g<j.length){var a=j[g];l=
a;a.execute()&&setTimeout(function(){h()},2)}else console.log("lola.test.complete")}function b(a){var b="",d="";this.execute=function(){k("executing",'"'+b+'"',"script");c.evaluate(d);return!0};a.hasAttribute("name")&&(b=a.attributes.getNamedItem("name").nodeValue);for(var e="",f=0;f<a.childNodes.length;f++)e+=a.childNodes[f].data;d=e;return this}function a(a){function b(){switch(f){case "equals":(l=e==g)||(w="assertion false: "+e+" == "+g);break;case "strictlyEquals":(l=e===g)||(w="assertion false: "+
e+" === "+g);break;case "doesNotEqual":(l=e!=g)||(w="assertion false: "+e+" != "+g);break;case "greaterThan":(l=e>g)||(w="assertion false: "+e+" > "+g);break;case "lessThan":(l=e<g)||(w="assertion false: "+e+" < "+g);break;case "greaterThanOrEquals":(l=e>=g)||(w="assertion false: "+e+" >= "+g);break;case "lessThanOrEquals":(l=e<=g)||(w="assertion false: "+e+" <= "+g);break;default:(l=e==g)||(w="assertion false: "+e+" == "+g)}l||(w="failed, "+w,m("    ",w))}var d,e,f="==",g,i,j=!1,l,w="";this.execute=
function(){k(d);try{if(j)return c.evaluate(i),!1;e=eval(i);b();return!0}catch(a){return l=!1,w="failed due to error: "+a.message,m("    ",w),k("    ",a),!0}};this.setResult=function(a){e=a;b();h()};(function(a){d=a.attributes.getNamedItem("name").nodeValue;a.hasAttribute("async")&&(j="true"==a.attributes.getNamedItem("async").nodeValue);a.hasAttribute("equals")?f="equals":a.hasAttribute("strictlyEquals")?f="strictlyEquals":a.hasAttribute("doesNotEqual")?f="doesNotEqual":a.hasAttribute("greaterThan")?
f="greaterThan":a.hasAttribute("lessThan")?f="lessThan":a.hasAttribute("greaterThanOrEquals")?f="greaterThanOrEquals":a.hasAttribute("lessThanOrEquals")&&(f="lessThanOrEquals");var b=a.attributes.getNamedItem(f).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":g=parseFloat(b);break;case "int":g=parseInt(b);break;case "bool":g="true"===b;break;default:g=""+b}for(var b="",c=0;c<a.childNodes.length;c++)b+=a.childNodes[c].data;i=b})(a);return this}function d(a){var b;a.hasAttribute("src")&&
(b=a.attributes.getNamedItem("src").nodeValue);this.execute=function(){var a=c.string,a=a.padFront(a.padEnd("\nsource\n","=",56),"=",104);k(a);b&&i(b);return!0}}var f=[],e="tests.xml",g=-1,j=[],l=null,k=function(){console.log([].splice.call(arguments,0).join(" "))},m=function(){console.error([].splice.call(arguments,0).join(" "))};this.namespace=function(){return"test"};this.dependencies=function(){return f};this.setLogFn=function(a){k=a};this.setErrorFn=function(a){m=a};this.setSource=function(a){e=
a};this.current=function(){return l};this.start=function(){j=[];k("lola.test.run: "+e);i(e);g=-1;h();return""}})})(lola);(function(c){"complete"===document.readyState?c.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",c.initialize,!1),c.window.addEventListener("load",c.initialize,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",c.initialize),c.window.attachEvent("onload",c.initialize))})(lola);