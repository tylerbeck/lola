(function(c){var g=function(c,a){return new g.Selector(c,a)};g.window=c;g.extend=function(c,a,d,e){d==void 0&&(d=false);e==void 0&&(e=false);for(var f in a)if(d||c[f]==null)c[f]=a[f];else if(e)throw Error("property "+f+" already exists on extend target!");};g.getPackage=function(c,a,d){if(typeof a==="string")for(var a=a.split("."),e;e=a.shift();)c[e]==null&&(c[e]={}),a.length==0&&d&&(c[e]=d),c=c[e];return c};g.registerModule=function(c,a){var a=a==void 0?false:a,d=c.namespace();a?g.extend(g.getPackage(g,
d),c,false,false):g.getPackage(g,d,c);this.hasFn(c,"dependencies")&&g.addDependencies(d,c.dependencies());c.selectorMethods&&(g.extend(g.Selector.prototype,c.selectorMethods,false,false),delete c.selectorMethods);g.hasFn(c,"initialize")&&g.addInitializer(c.initialize);g.debug("module registered:",d)};g.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",g.initialize,false),g.window.removeEventListener("load",g.initialize,false)):document.attachEvent&&(document.detachEvent("onreadystatechange",
g.initialize),g.window.detachEvent("onload",g.initialize));g.checkDependencies();g.executeInitializers();delete g.initialize};c.lola=g;c.$=g})(window);if(!Object.keys)Object.keys=function(c){var g=[],h;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&g.push(h);return g};if(!Object.forEach)Object.forEach=function(c,g,h){if(c===void 0||c===null)throw new TypeError;c=Object(c);if(typeof g!=="function")throw new TypeError;for(var a in c)c.hasOwnProperty(a)&&g.call(h,c[a],a,c)};
if(!Array.prototype.forEach)Array.prototype.forEach=function(c,g){if(this===void 0||this===null)throw new TypeError;var h=Object(this),a=h.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)d in h&&c.call(g,h[d],d,h)};
if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c){if(this===void 0||this===null)throw new TypeError;var g=Object(this),h=g.length>>>0;if(h===0)return-1;var a=0;arguments.length>0&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));if(a>=h)return-1;for(a=a>=0?a:Math.max(h-Math.abs(a),0);a<h;a++)if(a in g&&g[a]===c)return a;return-1};
if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(c){if(this===void 0||this===null)throw new TypeError;var g=Object(this),h=g.length>>>0;if(h===0)return-1;var a=h;arguments.length>1&&(a=Number(arguments[1]),a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));for(h=a>=0?Math.min(a,h-1):h-Math.abs(a);h>=0;h--)if(h in g&&g[h]===c)return h;return-1};
if(!Array.prototype.filter)Array.prototype.filter=function(c,g){if(this===void 0||this===null)throw new TypeError;var h=Object(this),a=h.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],e=0;e<a;e++)if(e in h){var f=h[e];c.call(g,f,e,h)&&d.push(f)}return d};
if(!Array.prototype.every)Array.prototype.every=function(c,g){if(this===void 0||this===null)throw new TypeError;var h=Object(this),a=h.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)if(d in h&&!c.call(g,h[d],d,h))return false;return true};
if(!Array.prototype.map)Array.prototype.map=function(c,g){if(this===void 0||this===null)throw new TypeError;var h=Object(this),a=h.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=Array(a),e=0;e<a;e++)e in h&&(d[e]=c.call(g,h[e],e,h));return d};
if(!Array.prototype.some)Array.prototype.some=function(c,g){if(this===void 0||this===null)throw new TypeError;var h=Object(this),a=h.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=0;d<a;d++)if(d in h&&c.call(g,h[d],d,h))return true;return false};
if(!Array.prototype.reduce)Array.prototype.reduce=function(c){var g,h=this.length,a;if(typeof c!=="function")throw new TypeError("First argument is not callable");if((h==0||h===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");if(arguments.length<=1){for(;g=h;)throw new TypeError("Empty array and no second argument");a=this[g++]}else a=arguments[1];for(g=g||0;g<h;g++)g in this&&(a=c.call(void 0,a,this[g],g,this));return a};
if(!Array.isArray)Array.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"||c instanceof Array};if(!String.prototype.trim)String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")};
(function(c){c.Selector=function(c,h){var a=0;if(typeof c==="string")if(window.Sizzle)for(var d=Sizzle(c,h),a=0;a<j;a++)this[a]=d[a];else try{h||(h=document);for(var d=h.querySelectorAll(c),e=d.length,a=0;a<e;a++)this[a]=d.item(a);this.length=a}catch(f){console.warn("Exception:",c)}else if(Array.isArray(c))for(var j=c.length,a=0;a<j;a++)this[a]=j[a];else this[a]=c,a++;this.length=a;return this};c.Selector.prototype={};c.Selector.prototype.forEach=Array.prototype.forEach;c.Selector.prototype.every=
Array.prototype.every;c.Selector.prototype.filter=Array.prototype.filter;c.Selector.prototype.indexOf=Array.prototype.indexOf;c.Selector.prototype.join=Array.prototype.join;c.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;c.Selector.prototype.map=Array.prototype.map;c.Selector.prototype.push=Array.prototype.push;c.Selector.prototype.pop=Array.prototype.pop;c.Selector.prototype.shift=Array.prototype.shift;c.Selector.prototype.unshift=Array.prototype.unshift;c.Selector.prototype.slice=Array.prototype.slice;
c.Selector.prototype.splice=Array.prototype.splice;c.Selector.prototype.reverse=Array.prototype.reverse})(lola);
(function(c){var g=new function(){function h(a){var d=[];Object.forEach(a,function(a){c.hasPackage(c,a)||d.push(a)});return d}var a=this,d={},e=0,f=[],j=[],l=false;this.namespace=function(){return""};this.dependencies=function(){return d};this.url=function(){};this.setURL=function(d){d=new a.URL(d);l=d.vars.debug=="true"};this.debugMode=function(){return l};this.getGUID=function(){return e++};this.addInitializer=function(a){f.push(a)};this.addSafeDeleteHook=function(a,d){j.push({fn:a,scope:d})};this.addDependencies=
function(a,c){d[a]=c};this.safeDelete=function(a,d){for(var n=d?a[d]:a,c=j.length-1;c>=0;c--)if(n){var e=j[c];e.fn.call(e.scope,n)}a&&d&&delete a[d]};this.checkDependencies=function(a){var a=a?a:d,c=[],n;for(n in a){var e=h(a[n]);e.length>0&&c.push(n+": "+e.join(", "))}if(c.length>0)throw Error("module dependency checks failed for: \n\t"+c.join("\n\t"));};this.executeInitializers=function(){c.debug("core::executeInitializers");var a,d=f.length;for(a=0;a<d;a++)c.hasFn(f,a)&&(f[a](),delete f[a])};this.evaluate=
function(a,d){if(d==null&&(d=document.getElementsByTagName("head")[0],!d))d=document.documentElement;var n=document.createElement("script");n.type="text/javascript";c.support.domEval?n.appendChild(document.createTextNode(a)):n.text=a;d.insertBefore(n,d.firstChild);d.removeChild(n)};this.loadScript=function(a,d){var n=document.getElementsByTagName("head")[0];if(!n)n=document.documentElement;var e=document.createElement("script");typeof d=="function"&&c.event.addListener(e,"load",function(){d.apply()});
e.src=a;n.insertBefore(e,n.firstChild)};this.hasPackage=function(a,d){var n=a;if(typeof d==="string")for(var c=d.split("."),e;e=c.shift();)if(n[e]==null)return false;else n=n[e];return true};this.hasFn=function(a,d){return a&&a[d]&&typeof a[d]=="function"};this.debug=function(){l&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return a.length==1?a[0]:a};this.selectorMethods={identify:function(){this.forEach(function(a){if(!a.id)a.id=
"lola-guid-"+c.getGUID()});return this},get:function(a){a==void 0&&(a=0);return this[a]},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,d){var n=this;a instanceof c.Selector?a.forEach(function(a){n.push(a)}):Array.isArray(a)?a.forEach(function(a){n.push(a)}):n.push(a);if(d==void 0||d===true){var e=c.array.unique(this);this.splice(0,this.length);e.forEach(function(a){n.push(a)})}return this}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?a[1]:
"";var d={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,e){d[c]=e;return""});this.vars=d;a=a.split(":");a.length==2?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=this.domain==""?"":"/";if(a.length>0)this.path=this.path+a.join("/")+"/";return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(d,n){a.push(n+"="+d)});var d=a.length?
"?"+a.join("&"):"",n=this.hash==""?"":"#"+this.hash;return this.protocol!=""?this.protocol+"://"+this.domain+this.path+this.page+d+n:this.path+this.page+d+n}};return this};g.setURL(c.window.location.href);c.registerModule(g,true)})(lola);
(function(c){c.registerModule(new function(){var g=this,h=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=false;this.deleteExpando=true;this.msEvent=false;this.domEvent=true;this.animationFrameType=0;this.cssRules=false;this.namespace=function(){return"support"};this.dependencies=function(){return h};this.initialize=function(){c.debug("lola.support::initialize");g.cssRules=document.styleSheets.length>0&&document.styleSheets[0].cssRules||document.createStyleSheet==void 0?true:false};var a=
document.documentElement,d=document.createElement("script"),e="scriptCheck"+(new Date).getTime();d.type="text/javascript";try{d.appendChild(document.createTextNode("lola.window."+e+"=true;"))}catch(f){}a.insertBefore(d,a.firstChild);a.removeChild(d);g.domEval=c.window[e];delete c.window[e];a=document.createElement("div");a.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' >test</div>";a=a.firstChild;g.style=typeof a.getAttribute("style")===
"string";g.cssFloat=/^left$/.test(a.style.cssFloat);g.colorAlpha=/^rgba.*/.test(a.style.backgroundColor);try{delete a.test}catch(j){g.deleteExpando=false}if(document.addEventListener)g.domEvent=true;else if(document.attachEvent)g.msEvent=true;if(window.requestAnimationFrame)g.animationFrameType=1;else if(window.mozRequestAnimationFrame)g.animationFrameType=2;else if(window.webkitRequestAnimationFrame)g.animationFrameType=3;else if(window.oRequestAnimationFrame)g.animationFrameType=4})})(lola);
(function(c){c.registerModule(new function(){var g=[];this.namespace=function(){return"array"};this.dependencies=function(){return g};this.hasObjectWithProperty=function(c,a,d){return c.some(function(c){return c[a]==d})};this.unique=function(c){for(var a=[],d=c.length-1;d>=0;d--)a.indexOf(c[d])==-1&&a.push(c[d]);return a};this.isIn=function(c,a){return c.indexOf(a)>=0};this.pruneNulls=function(c){var a=[];c.forEach(function(d){d!=null&&a.push(d)});return a};this.getSortFunction=function(c){return function(a,
d){var e=a[c],f=d[c];return e<f?-1:e>f?1:0}};this.sortOn=function(h,a){return a.sort(c.array.getSortFunction(h))};this.selectorMethods={}})})(lola);
(function(c){c.registerModule(new function(){function g(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),d=d==""?"Element":d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function h(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object /g,"").replace(/Element\]/g,""),d=d==""?"Element":
d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function a(a){f["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(a)}var d=this,e=[],f={},j=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return e};this.get=function(a){return a?
(a=f[Object.prototype.toString.call(a)])?a:"other":"null"};this.isPrimitive=function(a){return j.indexOf(d.get(a))>=0};this.selectorMethods={getType:function(){var a=[];this.forEach(function(c){a.push(d.get(c))});return c.__(a)},isType:function(a,c){return c!=void 0&&c>=0?d.get(this[c])==a:this.every(function(c){return d.get(c)==a})},isPrimitive:function(a){return a!=void 0&&a>=0?d.isPrimitive(this.getType(a)):this.every(function(a){return d.isPrimitive(a)>=0})}};(function(){"String Number Date Array Boolean RegExp Function Object".split(" ").forEach(a);
"a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command datalist dd del details dfn dir div dl dt em embed fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins keygen kbd label legend li link map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup svg table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr xmp".split(" ").forEach(g);
"object".split(" ").forEach(h);var d=document.createTextNode("test"),c=document.createComment("test"),d=Object.prototype.toString.call(d),c=Object.prototype.toString.call(c);f[d]="textnode";f[c]="commentnode"})()})})(lola);
(function(c){c.registerModule(new function(){var g=this,h=[],a={};this.namespace=function(){return"dom"};this.dependencies=function(){return h};this.attr=function(d,e,f){if(a[e])return a[e].apply(d,arguments);else if(d)if(f||f=="")if(c(f).isPrimitive())return d[e]=f;else throw Error("attribute values must be primitives");else return d[e]};this.deleteExpando=function(a,e){c.support.deleteExpando?delete a[e]:a[e]=null};this.isDescendant=function(a,c){return g.isAncestor(c,a)};this.isAncestor=function(a,
c){for(var f=c;f&&(f=f.parentNode)&&f.nodeName!="BODY";)if(a==f)return true;return false};this.selectorMethods={find:function(a){var c=$([]);this.forEach(function(f){f=$(a,f);c.concat(f)});return c},generation:function(a){a||(a=1);var c=$([]);this.forEach(function(f){for(var j=0;f=f.parentNode&&j<a;)j++;f&&c.concat([f])});return c},html:function(a){if(arguments.length==0){var e=[];this.forEach(function(a){e.push(a?a.innerHTML:null)});return c.__(e)}else return this.forEach(function(e){if(e.hasOwnProperty("childNodes")){for(var j=
e.childNodes.length,l=0;l<j;l++){var k=e.childNodes.item(l);console.log("safeDelete",k.nodeType);c.safeDelete(k)}switch(c.type.get(a)){case "null":case "undefined":e.innerHTML="";break;case "string":e.innerHTML=a;break;case "array":e.innerHTML="";for(var h in a)e.appendChild(h);break;default:e.innerHTML="",e.appendChild(a)}}}),this},appendChild:function(a){this.length>0&&this.get().appendChild(a);return this},prependChild:function(a){this.length>0&&this.get().insertBefore(a,this.get().firstChild);
return this},cloneNode:function(a){return this.length>0?this.get().cloneNode(a):null},insertBefore:function(a){this.length>0&&this.get().insertBefore(a);return this},removeChild:function(a){this.length>0&&(c.safeDelete(a),this.get().removeChild(a));return this},replaceChild:function(a,e){this.length>0&&(c.safeDelete(e),this.get().replaceChild(a,e));return this},attr:function(a,e){if(e!=void 0)return this.forEach(function(c){g.attr(c,a,e)}),this;else{var f=[];this.forEach(function(c){f.push(g.attr(c,
a))});return c.__(f)}},removeAttr:function(a){this.forEach(function(c){c.removeAttribute(a)});return this},parent:function(a){if(a!=void 0)return this.forEach(function(c){$(a).appendChild(c)}),this;else{var e=[];this.forEach(function(a){e.push(a?a.parentNode:null)});return c.__(e)}},deleteExpando:function(a){this.forEach(function(e){c.deleteExpando(e,a)});return this}}})})(lola);
(function(c){c.registerModule(new function(){function g(a,d){var d=d==void 0?true:d,k=c.dom.attr(a,f);if(k==null)switch(c.type.get(a)){case "function":case "object":k=a[f];k==null&&d&&(k=e++,a[f]=k);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:k=c.dom.attr(a,f),k==null&&d&&(k=e++,c.dom.attr(a,f,k))}return k}var h=this,a=["dom","type"],d={},e=1,f="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return a};this.get=function(a,c,e){var f=g(a,false);return d[c]==null||f==null?e?h.set(a,{},c,false):null:d[c][f]};this.getNamespaceData=function(a){return d[a]};this.set=function(a,e,k,f){a=g(a,true);d[k]==null&&(d[k]={});f||d[k][a]==null?d[k][a]=e:c.extend(d[k][a],e,true);return d[k][a]};this.remove=function(a,e,k){var f=g(a,false);if(f){if(e==null||e==void 0){var e=[],n;for(n in d)e.push(n)}else c.type.get(e)!="array"&&(e=[e]);
e.forEach(function(a){delete d[a][f]})}k===void 0&&(k=true);k&&a.childNodes&&c.type.get(a.childNodes)=="array"&&a.childNodes.forEach(function(a){h.remove(a,e,true)})};this.selectorMethods={getData:function(a,d){var e=[];this.forEach(function(c){e.push(h.get(c,a,d))});return c.__(e)},putData:function(a,d){this.forEach(function(c){h.set(c,a,d,true)});return this},updateData:function(a,d){this.forEach(function(c){h.set(c,a,d,false)});return this},removeData:function(a,d){this.forEach(function(c){h.remove(c,
a,d)});return this},removeAllData:function(a){return this.removeData(null,a)}};c.addSafeDeleteHook(this.remove,this)})})(lola);
(function(c){c.registerModule(new function(){var g=[];this.namespace=function(){return"util"};this.dependencies=function(){return g};this.copyPrimitives=function(h,a){for(var d in h)c.type.isPrimitive(h[d])&&(a[d]=h[d])};this.checkArgs=function(h,a,d){for(var e=true,f=[],j=a.length-1;j>=0;j--)if(a[j][1]===void 0||a[j][1]===null)e=false,f.push(a[j][0]+" is not set!");e||(console.groupCollapsed?console.groupCollapsed(h):console.group(h),c.type.get(d)=="array"&&d.forEach(function(a){console.info(a)}),
f.forEach(function(a){console.warn(a)}),console.groupEnd());return e};this.selectorMethods={compareValues:function(c,a,d){var e=d;typeof c==="string"?this.foreach(function(d){e=a.call(this,e,Number(d[c]))}):typeof c==="function"&&this.foreach(function(d){e=a.call(this,e,c.call(this,d))});return e}}})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"string"};this.dependencies=function(){return c};this.padFront=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.push(a),e++;return c.join("")};this.padEnd=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.unshift(a),e++;return c.join("")};this.camelCase=function(c){for(var c=c.split("-"),a=c.length,d=1;d<a;d++)c[d].length>0&&(c[d]=c[d].charAt(0).toUpperCase()+c[d].slice(1));return c.join("")}})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return c}})})(lola);
(function(c){c.registerModule(new function(){function g(d){d=d||c.window.event;a(d,"capture")}function h(d){d=d||c.window.event;a(d,"bubble")}function a(a,d){var e=a.hasOwnProperty("originalEvent")?a:new k(a,{}),f=c.data.get(e.currentTarget,l);if(f&&f[d]&&f[d][a.type]){var j=[],g;for(g in f[d][a.type])j.push(f[d][a.type][g]);var j=c.array.sortOn("priority",j),h;for(h in j){if(e._immediatePropagationStopped)break;g=j[h];g.handler?g.handler.call(g.scope,e):delete f[d][a.type][g.huid]}}}var d=this;this.PRIORITY_BEFORE=
1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var e=["data","util","type"],f={mousewheel:["mousewheel","DOMMouseScroll"]},j={},l="_event";this.namespace=function(){return"event"};this.dependencies=function(){return e};this.addHook=function(a,d){j[a]=d};this.addListener=function(a,e,k,f,q,m){if(c.util.checkArgs("ERROR: lola.event.addListener( "+e+" )",[["target",a],["type",e],["handler",k]],[a,"type: "+e,"useCapture: "+f]))if(j[e]!=
null)return m=j[e],m.addListener(a,e,k,f,q,m);else{var t=c.data.get(a,l);t||(t={capture:{},bubble:{}},c.data.set(a,t,l,true));f=d.phaseString(a,f);q=q||this.PRIORITY_NORMAL;if(k.uid==null)k.uid=s++;var s=k.uid;t[f][e]==null&&(t[f][e]={});t[f][e][s]={priority:q,huid:s,handler:k,scope:m||a};f=="capture"?d.addDOMListener(a,e,g,true):d.addDOMListener(a,e,h,false);return s}};this.removeListener=function(a,e,k,f){if(c.util.checkArgs("ERROR: lola.event.removeListener( "+e+" )",[["target",a],["type",e],["handler",
k]],[a,"type: "+e,"useCapture: "+f]))if(j[e]!=null)j[e].removeListener.call(j[e],a,e,k,f);else{var q=c.data.get(a,l);q||(q={capture:{},bubble:{}});f=d.phaseString(a,f);k=c.type.get(k)=="function"?k.uid:k;delete q[f][e][k];Object.keys(q[f][e]).length==0&&(f=="capture"?d.removeDOMListener(a,e,g,true):d.removeDOMListener(a,e,h,false))}};this.removeHandler=function(a,e,k){if(c.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a=c.type.get(a)=="function"?a.uid:a,f=c.data.getNamespace(l);
if(f){var k=k==void 0?["capture","bubble"]:k?["capture"]:["bubble"],j;for(j in f){e!=void 0&&(e=c.type.get(e)=="array"?e:[e]);for(var m in k){var t;if(e)for(t in e)f[j][m][t]&&delete f[j][m][t][a];else for(t in f[j][m])delete f[j][m][t][a];Object.keys(f[j][m][t]).length==0&&d.removeDOMListener(target,t,m=="capture"?g:h,m=="capture")}}}}};this.trigger=function(d,e,f,j,g){if(c.util.checkArgs([d,e],["target","type"],"lola.event.trigger: type="+e+" bubbles="+f)){f==void 0&&(f=true);j==void 0&&(j=true);
var m=e;if(c.type.get(m)==="string")m=document.createEvent("Event"),m.initEvent(e,f,j),m.data=g;d.hasOwnProperty("dispatchEvent")?d.dispatchEvent(m):(m=new k(m,d),a(m,"capture"),f&&a(m,"bubble"))}};this.addDOMListener=function(a,d,e,k){d=f[d]?f[d]:[d];d.forEach(function(f){try{c.support.domEvent&&a.addEventListener?a.addEventListener(f,e,k):c.support.msEvent&&a.attachEvent?a.attachEvent("on"+f,e):a["on"+f.toLowerCase()]==null&&(a["on"+d.toLowerCase()]=e)}catch(j){c.debug("lola.event.addDOMListener error:",
a,d,e,k)}})};this.removeDOMListener=function(a,d,e,k){d=f[d]?f[d]:[d];d.forEach(function(){try{c.support.domEvent&&a.removeEventListener?a.removeEventListener(d,e,k):c.support.msEvent&&a.detachEvent?a.detachEvent("on"+d,e):a["on"+d.toLowerCase()]==null&&delete a["on"+d.toLowerCase()]}catch(f){c.debug("lola.event.removeDOMListener error:",a,d,e,k)}})};this.getDOMTarget=function(a,d){if(a){if(a.currentTarget)d=a.currentTarget;else if(a.srcElement)d=a.srcElement;if(d&&d.nodeType==3)d=d.parentNode}return d};
this.getDOMKeycode=function(a){var d;if(a.keyCode)d=a.keyCode;else if(a.which)d=a.which;return d};this.getDOMKey=function(a){return String.fromCharCode(d.getDOMKeycode(a))};this.getDOMGlobalXY=function(a){var d=0,c=0;if(a.pageX||a.pageY)d=a.pageX,c=a.pageY;else if(a.clientX||a.clientY)d=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,c=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:d,y:c}};this.getDOMLocalXY=function(a){return{x:a.layerX||a.offsetX||
0,y:a.layerY||a.offsetY||0}};this.phaseString=function(a,d){return d&&(c.support.domEvent||c.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=true,a.cancel=true,a.returnValue=false;return false};this.selectorMethods={addListener:function(a,c,e,k,f){this.forEach(function(j){d.addListener(j,
a,c,e,k,f)});return this},removeListener:function(a,c,e){this.forEach(function(k){d.removeListener(k,a,c,e)});return this},removeHandler:function(a,c,e){this.forEach(function(k){d.removeHandler(k,a,c,e)});return this},trigger:function(a,c,e,k){this.forEach(function(f){d.trigger(f,a,c,e,k)});return this}};var k=function(a,d){return this.init(a,d)};k.prototype={originalEvent:null,propagationStopped:false,immediatePropagationStopped:false,target:null,currentTarget:null,globalX:null,globalY:null,key:null,
init:function(a,e){c.extend(this,a,false,false);this.originalEvent=a;if(e)this.target=e;this.currentTarget=d.getDOMTarget(a,e);var k=d.getDOMGlobalXY(a);this.globalX=k.x;this.globalY=k.y;k=d.getDOMLocalXY(a);this.localX=k.x;this.localY=k.y;this.key=d.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();this.propagationStopped=true},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();
this.immediatePropagationStopped=true}};this.addHook("hover",new function(){function a(d){var e=c.dom.attr(d,"hoverDelay"),e=e==null||e==void 0?250:parseInt(e),k=c.data.get(d,g);k||(k={hasIntent:false,wait:e,timeout:-1},c.data.set(d,k,g,true));return k}function d(c){f.addListener(c.currentTarget,"mouseout",e,false,0,this);c=a(c.currentTarget);c.hasIntent=true;if(c.timeout<0)c.timeout=setTimeout(k,c.wait)}function e(d){f.removeListener(d.currentTarget,"mouseout",e,false);a(d.currentTarget).hasIntent=
false}function k(d){f.removeListener(d,"mouseout",e,false,0,this);var c=a(d);c.timeout=-1;c.hasIntent&&f.trigger(d,j)}var f=this,j="hover",g="eventHover";this.addListener=function(c,e,k,g,m,h){e=f.addListener(c,j,k,g,m,h);a(c);f.addListener(c,"mouseover",d,false,0,this);return e};this.removeListener=function(a,e,k,n){e=c.data.get(a,l);f.removeListener(a,j,k,n);k=f.phaseString(a,n);if(e[k][j]==null||Object.keys(e[k][j]).length==0)f.removeListener(a,"mouseover",d,false),c.data.remove(a,g)};return this});
var m=new function(){function a(d){var e=c.data.get(d,m);e||(e={within:false},c.data.set(d,e,m,true));return e}function d(a){c.support.msEvent||(a="do"+a);return a}function e(d){var c=a(d.currentTarget);if(!c.within&&d.currentTarget!=d.relatedTarget)c.within=true,f.trigger(d.currentTarget,j,false)}function k(d){var e=a(d.currentTarget);if(e.within&&!c.util.isAncestor(d.currentTarget,d.relatedTarget)&&d.currentTarget!=d.relatedTarget)e.within=false,f.trigger(d.currentTarget,g,false)}var f=this,j="domouseenter",
g="domouseleave",m="eventMouseEnterState";this.addListener=function(a,n,j,g,m,h){c.support.msEvent||(f.addListener(a,"mouseover",e,g,m,h),f.addListener(a,"mouseout",k,g,m,h));return f.addListener(a,d(n),j,g,m,h)};this.removeListener=function(a,n,j,g){var m=c.data.get(a,l),h=f.phaseString(a,g),n=d(n);f.removeListener(a,n,j,g);if(!c.support.msEvent&&m[h][n]==null||m[h][n].keys().length==0)f.removeListener(a,"mouseover",e,g),f.removeListener(a,"mouseout",k,g)}};this.addHook("mouseenterstate",m);this.addHook("mouseleave",
m);this.addHook("mouseenter",m)})})(lola);
(function(c){c.registerModule(new function(){var c=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return c};this.normalizeRadians=function(c){for(var a=2*Math.PI;c<a;)c+=a;return c%a};this.normalizeDegrees=function(c){for(;c<360;)c+=360;return c%360};this.normalizeRange=function(c,a,d){return Math.max(c,Math.min(d,a))};this.selectorMethods={maxValue:function(c){return this.compareValues(c,Math.max,Number.MIN_VALUE)},minValue:function(c){return this.compareValues(c,Math.min,
Number.MAX_VALUE)},totalValue:function(c){return this.compareValues(c,function(a,d){return a+d},0)},avgValue:function(c){return this.totalValue(c)/this.length}}})})(lola);
(function(c){c.registerModule(new function(){var c=this,h=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return h};this.rgb2hsl=function(a,d,c){var f=0,j=0,g=0,a=a<0?0:a,a=a>1?1:a,d=d<0?0:d,d=d>1?1:d,c=c<0?0:c,c=c>1?1:c,g=a>d?c>a?c:a:c>d?c:d,k=a<d?c<a?c:a:c<d?c:d;g!=0&&(j=(g-k)/g);if(j>0){var f=(g-a)/(g-k),m=(g-d)/(g-k),c=(g-c)/(g-k),f=a==g?c-m:d==g?2+f-c:4+m-f;for(f/=6;f<0;)f++}return{h:f,s:j,l:g}};this.rgb2hex=function(a,d,c){var f="",a=a<0?0:a,d=d<0?0:d,d=d>
1?1:d,c=c<0?0:c,c=c>1?1:c,a=Math.round((a>1?1:a)*255),d=Math.round(d*255),c=Math.round(c*255),j=[];j.push((a-a%16)/16);j.push(a%16);j.push((d-d%16)/16);j.push(d%16);j.push((c-c%16)/16);j.push(c%16);j.forEach(function(a){f+="0123456789ABCDEF".charAt(a)});return f};this.rgb2int=function(a,d,e){return parseInt("0x"+c.rgb2hex(a,d,e))};this.hsl2rgb=function(a,d,c){var a=a<0?0:a,a=a>1?1:a,d=d<0?0:d,d=d>1?1:d,c=c<0?0:c,c=c>1?1:c,f=0,j=0,g=0;if(d==0)g=j=f=b;else{var a=(a-Math.floor(a))*6,k=a-Math.floor(a),
m=c*(1-d),n=c*(1-d*k),d=c*(1-d*(1-k));switch(Math.floor(a)){case 0:f=c;j=d;g=m;break;case 1:f=n;j=c;g=m;break;case 2:f=m;j=c;g=d;break;case 3:f=m;j=n;g=c;break;case 4:f=d;j=m;g=c;break;case 5:f=c,j=m,g=n}}return{r:f,g:j,b:g}};this.hsl2int=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2int(a.r,a.g,a.b)};this.hsl2hex=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2hex(a.r,a.g,a.b)};this.int2rgb=function(a){a=a>16777215?16777215:a;a=a<0?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}};
this.int2hsl=function(a){a=c.int2rgb(a);return c.rgb2hsl(a.r,a.g,a.b)};this.int2hex=function(a){a=c.int2rgb(a);return c.rgb2hex(a.r,a.g,a.b)};this.hex2int=function(a){return parseInt("0x"+(a.length==3?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))};this.hex2rgb=function(a){return c.int2rgb(this.hex2int(a))};this.hex2hsl=function(a){return c.int2hsl(this.hex2int(a))}})})(lola);
(function(c){c.registerModule(new function(){function g(a){f[a]||(f[a]=c.string.camelCase(a));return f[a]}function h(a,e,f){if(f==void 0)return a=d.getRawStyle(a,e),parseFloat(a.replace(c.regex.isDimension,"$1"));else f=String(f).match(c.regex.isDimension)?f:f+"px",d.setRawStyle(a,e,f)}function a(a,c){return a?a.indexOf("%")>0?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/c:0}var d=this,e=["type","math.color"],f={},j={},l={};this.namespace=function(){return"css"};this.dependencies=function(){return e};
this.initialize=function(){c.debug("lola.css::initialize");"padding margin background-position border-top-width border-right-width border-bottom-width border-left-width border-width bottom font-size height left line-height list-style-position margin margin-top margin-right margin-bottom margin-left max-height max-width min-height min-width outline-width padding padding-top padding-right padding-bottom padding-left right text-indent top width".split(" ").forEach(function(a){d.registerStyleHook(a,h)});
d.addStyleSheet("_default");f["float"]=c.support.cssFloat?"cssFloat":"styleFloat";delete d.initialize};this.style=function(a,c,e){var f=g(c);if(j[f]!=null)return j[f].apply(a,arguments);else e==void 0?d.getRawStyle(a,f):d.setRawStyle(a,f,e);return false};this.getRawStyle=function(a,c){var d=g(c);return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,void 0)[d]:typeof document.body.currentStyle!=="undefined"?a.currentStyle[d]:a.style[d]};this.setRawStyle=
function(a,c,d){c=g(c);return a.style[c]=d};this.registerStyleHook=function(a,c){var d=g(a);j[d]=c};this.addStyleSheet=function(a,e){var f=c.support.cssRules?document.createElement("style"):document.createStyleSheet();if(e)f.source=e;a&&d.registerStyleSheet(f,a);c("head").appendChild(f)};this.registerStyleSheet=function(a,c){l[c]=a};this.addSelector=function(a,e,f){c.type.get(f)=="string"&&(f=l._default);var f=f||l._default,e=e||[],j=c.support.cssRules?f.cssRules.length:f.rules.length;f.addRule?f.addRule(a,
null,j):f.insertRule(a+" { }",j);var g=c.support.cssRules?f.cssRules[j]:f.rules[j];e&&e.keys().forEach(function(a){d.style(g,a,e[a])});return g};this.performRuleAction=function(a,d,e){for(var a=a.toLowerCase(),e=e?e.toLowerCase():"",f=0;f<document.styleSheets.length;f++){var j=document.styleSheets[f];if(!e||e==j.mediaText){var j=c.support.cssRules?j.cssRules:j.rules,g;for(g in j)j[g]&&j[g].selectorText&&j[g].selectorText.toLowerCase()==a&&d(f,g)}}};this.getRules=function(a,d){var e=[];this.performRuleAction(a,
function(a,d){c.support.cssRules?e.push(document.styleSheets[a].cssRules[d]):e.push(document.styleSheets[a].rules[d])},d);return e};this.updateRules=function(a,c,d){var e=this.getRules(a,d);c.keys().forEach(function(a){e.forEach(function(d){this.style(d,a,c[a])})});return e};this.deleteRules=function(a,d){this.performRuleAction(a,function(a,d){c.support.cssRules?document.styleSheets[a].deleteRule(d):document.styleSheets[a].removeRule(d)},d)};this.classes=function(a,d){return d!=void 0?(c.type.get(d)!=
"array"&&(d=c.type.get(d)=="string"?[d]:[]),a.className=d.join(" "),d):a.className.replace(c.regex.extraSpace," ").split(" ").reverse()};this.hasClass=function(a,d){var e=this.classes(a);return c.array.isIn(e,d)};this.addClass=function(a,e){var f=this.classes(a);c.array.isIn(f,e)||(f.push(e),d.classes(a,f))};this.removeClass=function(a,c){var e=this.classes(a),f=e.indexOf(c);f>=0&&(e.splice(f,1),d.classes(a,e))};this.clearStyle=function(a,c){delete a.style[g(c)]};this.parseHSLColor=function(d){var e=
{h:0,s:0,l:0,a:1},d=d.match(c.type.rIsHSLColor);if(d!=null)d=d[1].replace(/\s+/g,""),d=d.split(","),e.h=a(d[0],360),e.s=a(d[1],1),e.l=a(d[2],1),e.a=d.length>3?a(d[3],1):1;return e};this.selectorMethods={style:function(a,e){if(e!=void 0)return this.forEach(function(c){d.style(c,a,e)}),this;else{var f=[];this.forEach(function(c){f.push(d.style(c,a))});return c.__(f)}},classes:function(a){if(a!=void 0)return this.forEach(function(c){d.classes(c,a)}),this;else{var e=[];this.forEach(function(a){e.push(d.classes(a))});
return c.__(e)}},hasClass:function(a){var c=true;this.forEach(function(e){d.hasClass(e,a)||(c=false)});return c},addClass:function(a){this.forEach(function(c){d.addClass(c,a)});return this},removeClass:function(a){this.forEach(function(c){d.removeClass(c,a)});return this}};this.Color=function(a){return this.init(a)};this.Color.prototype={outputType:"",hexValue:null,rgbValue:null,hslValue:null,init:function(a){a&&this.parseString(a);return this},parseString:function(a){var e=a.match(c.regex.isColor);
if(e){var f,j,g;switch(e[1]){case "#":a=a.match(c.regex.isHexColor);g=a!=null?a[1]:"000000";f=c.math.color.hex2rgb(g);j=c.math.color.rgb2hsl(f.r,f.g,f.b);f.a=j.a=1;break;case "rgb":case "rgba":f=d.parseRGBColor(a);j=c.math.color.rgb2hsl(f.r,f.g,f.b);g=c.math.color.rgb2hex(f.r,f.g,f.b);j.a=f.a;this.valueType="rgba";break;case "hsl":case "hsla":j=d.parseHSLColor(a),f=c.math.color.hsl2rgb(j.h,j.s,j.l),g=c.math.color.rgb2hex(f.r,f.g,f.b),f.a=j.a,this.valueType="hsla"}this.hexValue=g;this.rgbValue=f;this.hslValue=
j}},toString:function(){return this.outputType=="#"?this.toHexString():this.outputType=="hsl"?this.toHslString():this.outputType=="hsla"?this.toHslaString():this.outputType=="rgb"?this.toRgbString():this.toRgbaString()},toInt:function(){return parseInt("0x"+this.hexValue)},toHexString:function(){return"#"+this.hexValue},toHslString:function(){return"hsl("+Math.round(this.hslValue.h*360)+","+Math.round(this.hslValue.s*100)+"%,"+Math.round(this.hslValue.l*100)+"%)"},toHslaString:function(){return"hsla("+
Math.round(this.hslValue.h*360)+","+Math.round(this.hslValue.s*100)+"%,"+Math.round(this.hslValue.l*100)+"%,"+this.hslValue.a+"%)"},toRgbString:function(){return"rgb("+Math.round(this.rgbValue.r*255)+","+Math.round(this.rgbValue.g*255)+","+Math.round(this.rgbValue.b*255)+")"},toRgbaString:function(){return"rgba("+Math.round(this.rgbValue.r*255)+","+Math.round(this.rgbValue.g*255)+","+Math.round(this.rgbValue.b*255)+","+this.rgbValue.a+")"}}})})(lola);
(function(c){c.registerModule(new function(){var g=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return g};this.transform=function(a,c,e){var f,j;if(window.ActiveXObject){f=new ActiveXObject("MSXML2.XSLTemplate");f.stylesheet=c.documentElement;c=f.createProcessor();c.input=a;for(j in e)c.addParameter(j,e[j]);c.transform();a=document.createElement("div");a.innerHTML=c.output;f=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var g=
new XSLTProcessor;g.importStylesheet(c);for(j in e)g.setParameter(null,j,e[j]);if(a=g.transformToFragment(a,document))f=a.childNodes}return f};this.cacheXsl=function(){};this.encode=function(a){typeof a=="string"&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){typeof a=="string"&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.selectorMethods={applyTransform:function(a,d,e){this.html(d);
this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.data)});c.event.addListener(a,"fault",function(){$(d).html(e)})});a.load()},applyRequest:function(a,d,e,f){this.html(e);this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.currentTarget.responseText())});c.event.addListener(a,"fault",function(){$(d).html(f)})});a.load()},loadContent:function(a,d,e){this.applyRequest(new c.http.AsyncRequest(a,"get",[]),{},d,e)}};var h=function(a,d,e,f,j,g){function k(){if(n)switch(n.readyState){case 1:c.event.trigger(h,
"loading",true,true,n);break;case 2:c.event.trigger(h,"loaded",true,true,n);break;case 3:c.event.trigger(h,"interactive",true,true,n);break;case 4:c.event.trigger(h,"stateComplete",true,true,n),n.status==200&&!o?(o=true,c.event.trigger(h,"result",true,true,n)):n.status>=400&&(console.info("AsyncRequest.readyStateChange.fault:",a),c.event.trigger(h,"fault",false,false,n))}}var h=this,n=false,o=false;this.ready=function(){return o};var x=function(){var a=false;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=
new XMLHttpRequest}catch(c){a=false}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){a=false}}return a};this.send=function(o){n=x();n.open(d,a,f,j,g);n.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var q=0;q<e.length;q++)try{n.setRequestHeader(e[q].name,e[q].value)}catch(A){}if(o!=void 0&&c.type.get(o)!="string"){var q=[],t;for(t in o)q.push(t+"="+c.string.encode(o[t]));o=q.join("&")}n.onreadystatechange=
function(){k.call(h)};n.send(o);return n};this.responseText=function(){return o||!f?n.responseText:false};this.responseXML=function(){return o||!f?n.responseXML:false};d=d||"POST";e=e||[];f=f==void 0?true:f;j=j||null;g=g||null;return this};this.AsyncRequest=function(a,c,e,f,j){return new h(a,c,e,true,f,j)};this.SyncRequest=function(a,c,e,f,j){return new h(a,c,e,false,f,j)};this.Transform=function(a,d,e,f){function j(){a.ready()&&d.ready()&&(f&&f!=""&&h.cacheXsl(f,d),o=h.transform(a.responseXML(),
d.responseXML(),e),c.event.trigger(n,"result",true,true,o))}function g(){c.event.trigger(n,"fault",true,true,"xsl fault")}function k(){c.event.trigger(n,"fault",true,true,"xml fault")}var h=n,n=this,o=[];this.resultNodes=function(){return o};this.send=function(c,e){a.ready()||a.send(c);d.ready()||d.send(e)};this.cancel=function(){c.event.removeListener(d,"result",j,true);c.event.removeListener(d,"fault",g,true);c.event.removeListener(a,"result",j,true);c.event.removeListener(a,"fault",k,true);try{d.abort()}catch(e){}try{a.abort()}catch(f){}};
(function(){f=f||"";if(c.type.get(d)=="string"){var a=d;d=h.getCachedXsl(a);if(!d)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=d;if(this.xsl&&this.xml)c.event.addListener(this.xsl,"result",j,true,0,this),c.event.addListener(this.xsl,"fault",g,true,0,this),c.event.addListener(this.xml,"result",j,true,0,this),c.event.addListener(this.xml,"fault",k,true,0,this),j();else throw Error("transform error!");})();return this}})})(lola);
(function(c){c.registerModule(new function(){function g(a){return j.test(a)?'"'+a.replace(j,function(a){var c=d.meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(a,c){var d,e,f,j,m=this.gap,s,p=c[a];p&&typeof p==="object"&&typeof p.toJSON==="function"&&(p=p.toJSON(a));typeof k==="function"&&(p=k.call(c,a,p));switch(typeof p){case "string":return g(p);case "number":return isFinite(p)?String(p):"null";case "boolean":case "null":return String(p);
case "object":if(!p)return"null";this.gap+=this.indent;s=[];if(Object.prototype.toString.apply(p)==="[object Array]"){j=p.length;for(d=0;d<j;d+=1)s[d]=h(d,p)||"null";f=s.length===0?"[]":l?"[\n"+l+s.join(",\n"+l)+"\n"+m+"]":"["+s.join(",")+"]";l=m;return f}if(k&&typeof k==="object"){j=k.length;for(d=0;d<j;d+=1)e=k[d],typeof e==="string"&&(f=h(e,p))&&s.push(g(e)+(l?": ":":")+f)}else for(e in p)Object.hasOwnProperty.call(p,e)&&(f=h(e,p))&&s.push(g(e)+(l?": ":":")+f);f=s.length===0?"{}":l?"{\n"+l+s.join(",\n"+
l)+"\n"+m+"}":"{"+s.join(",")+"}";l=m;return f}}function a(a,c){function d(a,e){var f,j,g=a[e];if(g&&typeof g==="object")for(f in g)Object.hasOwnProperty.call(g,f)&&(j=d(g,f),j!==void 0?g[f]=j:delete g[f]);return c.call(a,e,g)}var e,a=String(a);f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return e=eval("("+a+")"),typeof c==="function"?d({"":e},""):e;throw new SyntaxError("JSON.parse");}var d=this,e=["http"],f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=null,k=null,m=0;this.namespace=function(){return"json"};this.dependencies=function(){return e};this.encode=function(a){l="";k=void 0;return h("",
{"":a})};this.decode=function(c){return a(c)};this.get=function(a,e,f){console.log("json.get: "+a);var j=new c.URL(a);if(j.protocol=="____")a=new c.http.AsyncRequest(a),e&&$(a).addListener("result",function(a){console.log("    result");a=d.parse(a.data.responseText);e(a)}),a.send();else{console.log("    cross domain");var g=m++;d.handleResponse[g]=function(a){e(a);delete d.handleResponse[g]};j.vars[f?f:"jsonp"]="lola.json.handleResponse["+g+"]";c.loadScript(j.toString())}};this.selectorMethods={};
if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+c.string.padFront(this.getUTCDate(),"0",2)+"T"+c.string.padFront(this.getUTCHours(),"0",2)+":"+c.string.padFront(this.getUTCMinutes(),"0",2)+":"+c.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}})})(lola);
(function(c){c.registerModule(new function(){var g=this,h={},a=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){c.debug("lola.agent::initialize");c.checkDependencies(this.dependencies);var d=a.length;for(i=0;i<d;i++)c.hasFn(a,i)&&(a[i](),delete a[i]);delete g.initialize};this.registerAgent=function(d){var e=d.namespace();console.info("register agent: "+e);if(e&&c.hasFn(d,"sign")&&c.hasFn(d,"drop")){var f=c.getPackage(c.agent,
e,d);c.hasFn(d,"getDependencies")&&(this.dependencies["agent."+e]=d.getDependencies());h[e]=f;c.hasFn(d,"initialize")&&a.push(function(){d.initialize()});c.hasFn(d,"preinitialize")&&d.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,c){var f=h[c];if(f)f.sign(a);else throw Error("unknown agent: "+c);};this.drop=function(a,c){var f={};c==void 0?f=h:typeof c=="string"&&c.split(",").forEach(function(a){f[a]=h[a]});for(var j in f){var g=f[j];g&&g.drop(a)}};
this.selectorMethods={assignAgent:function(a){this.forEach(function(c){g.assign(c,a)});return this},dropAgent:function(a){this.forEach(function(c){g.drop(c,a)})}};c.addSafeDeleteHook(this.drop,this)})})(lola);
(function(c){c.registerModule(new function(){function g(a){h.execute(a.type,a.data.parameters,a.data.responder)}var h=this,a=[],d={},e={};this.namespace=function(){return"cmd"};this.dependencies=function(){return a};this.register=function(a,e){if(typeof a!="string"&&e==void 0)e=a.name;c.debug("register command: "+e);d[e]!=null&&typeof d[e]!="string"&&console.warn('command "'+e+'" has already been registered... overwriting');d[e]=a;c.event.addListener(h,e,g)};this.execute=function(a,g,l){if(d[a])if(l||
(l=new h.Responder),typeof d[a]=="string")e[a]||(c.loadScript(d[a],function(){if(c.hasFn(d,a)){for(var g=e[a].length,j=0;j<g;j++){var k=e[a][j];h.execute(k.name,k.params,k.responder)}delete c.cmd.callLater[a]}else throw Error('The command loaded from "'+d[a]+'" is not named "'+a+'"');}),e[a]=[]),e[a].push({name:a,params:g,responder:l});else{var k=d[a];k&&(k=new k,l&&(c.event.addListener(k,"result",l.handleResult),c.event.addListener(k,"fault",l.handleFault),c.event.addListener(k,"status",l.handleStatus)),
k.execute(g))}else throw Error("Unknown command type: "+a);return l};this.Responder=function(){this.getLastResponse=function(){}};this.Data=function(a,c){this.parameters=function(){return a};this.responder=function(){return c}}})})(lola);
(function(c){c.registerModule(new function(){function g(a){var d={};this.toString=function(){Object.keys(d);var a=[];d.forEach(function(c,d){a.push(d+":"+c)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(Object.keys(d).length>0)switch(c.type.get(a)){case "boolean":a=d[a?"0":"1"];break;default:a=d[a]}return a};a&&this.parse(a);return this}function h(a){if(typeof a!="function")throw Error("invalid hook.");this.evaluate=function(d,e){return a.apply(c.window,arguments)}}function a(a){function d(a){for(var c=
[],j=a.search(e);j>=0;){var l=a.match(e),A=a.substring(0,j);A&&c.push(A);c.push(new g(l[1]));a=a.substring(j+l[0].length);j=a.search(e)}a&&c.push(a);f=c;h=c.length}var e=/\$\{([^\}]+)\}/,f=[],h=0;this.evaluate=function(a){var d=[];c.type.get(a)!="array"&&(a=[a]);a.forEach(function(a,c){for(var e=0;e<h;){var g=f[e];typeof g==="string"?d.push(g):d.push(g.evaluate(a,c));e++}});return d.join("")};a&&d(a);return this}var d=this,e=["json"],f={};this.namespace=function(){return"template"};this.dependencies=
function(){return e};this.initialize=function(){c.debug("lola.template::initialize");if(!c)throw Error("lola not defined!");var a=c.now(),e=c.now();c.debug("templates parsed in "+(e-a)+" ms");delete d.initialize};this.add=function(c,d){if(!c||c=="getValue")throw Error("invalid template id");f[c]=new a(d)};this.addHook=function(a,c){if(!a||a=="getValue")throw Error("invalid hook id");f[a]=new h(c)};this.apply=function(a,c){var d="",e;if(!f[a])throw Error('hook "'+a+'" not found.');(e=f[a])&&(d=e.evaluate(c));
return d};this.selectorMethods={applyTemplate:function(a,d){this.html(c.template.apply(a,d))}}})})(lola);
(function(c){c.registerModule(new function(){var g=this,h=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return h};this.getOffset=function(a,d){d||(d=false);var e=new g.Point(a.offsetLeft,a.offsetTop);if(d&&a.offsetParent)var f=g.getOffset(a.offsetParent,true),e=c.math.point.add(e,f);return e};this.absolutePosition=function(a){return g.getOffset(a,true)};this.relativePosition=function(a){return g.getOffset(a,false)};this.width=function(a,d){if(d){var e=c.css.style(a,
"borderLeft"),f=c.css.style(a,"borderRight"),g=c.css.style(a,"paddingLeft"),h=c.css.style(a,"paddingRight");d-=e+f+g+h;return c.css.style(a,"width",d)}else return a.offsetWidth?a.offsetWidth:a.clientWidth};this.height=function(a,d){if(d){var e=c.css.style(a,"borderTop"),f=c.css.style(a,"borderBottom"),g=c.css.style(a,"paddingTop"),h=c.css.style(a,"paddingBottom");d-=e+f+g+h;return c.css.style(a,"height",d)}else return a.offsetHeight?a.offsetHeight:a.clientHeight};this.Point=function(a,c){this.x=a;
this.y=c;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),d=Math.sqrt(this.x*this.x+this.y*this.y);return new c.geometry.Vector(d,a)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new g.Point(this.x,this.y)},operate:function(a,c){for(var e=this.copy(),f=c.length,g=1;g<f;g++){var h=arguments[g];typeof h=="number"?(e.x=a(e.x,h),e.y=a(e.y,h)):(e.x=a(e.x,h.x),e.y=a(e.y,h.y))}return e},add:function(){return this.operate(function(a,
c){return a+c},arguments)},subtract:function(){return this.operate(function(a,c){return a-c},arguments)},multiply:function(){return this.operate(function(a,c){return a*c},arguments)},divide:function(){return this.operate(function(a,c){return a/c},arguments)},pow:function(){return this.operate(function(a,c){return Math.pow(a,c)},arguments)},offsetPoint:function(a,c){var e=this.copy();e.x+=Math.cos(a)*c;e.y+=Math.sin(a)*c;return e},distance:function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-
this.y,2))}};this.Spline=function(a,c){this.points=a?a:[];this.flags=c==void 0?0:c;return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.Spline.prototype={points:[],flags:0,addPoint:function(a,c){if(c==void 0)c=this.points.length;this.points.splice(c,0,a)},removePoint:function(a){a!=void 0&&this.points.splice(a,1,void 0)},updatePoint:function(a,c){c!=void 0&&this.points.splice(c,1,a)},getPoint:function(a){return this.points[a]},getPoints:function(){return this.points},
draw:function(a,c){c=c==void 0?this.flags:c;if(this.points.length>1){var e=[];this.points.forEach(function(a){e.push(a.getControl1());e.push(a.getAnchor());e.push(a.getControl2())});var f=e.length;if(c&geometry.Spline.CONTROLS){a.beginPath();a.moveTo(e[1].x,e[1].y);a.lineTo(e[2].x,e[2].y);a.stroke();a.closePath();for(var g=3;g<f-3;g+=3){var h=g+1,k=g+2;a.beginPath();a.moveTo(e[g].x,e[g].y);a.lineTo(e[h].x,e[h].y);a.stroke();a.closePath();a.beginPath();a.moveTo(e[h].x,e[h].y);a.lineTo(e[k].x,e[k].y);
a.stroke();a.closePath()}a.beginPath();a.moveTo(e[g].x,e[g].y);a.lineTo(e[g+1].x,e[g+1].y);a.stroke();a.closePath()}a.beginPath();a.moveTo(e[1].x,e[1].y);for(g=2;g<f-3;g+=3)a.bezierCurveTo(e[g].x,e[g].y,e[g+1].x,e[g+1].y,e[g+2].x,e[g+2].y);c&geometry.Spline.CLOSED&&a.bezierCurveTo(e[f-1].x,e[f-1].y,e[0].x,e[0].y,e[1].x,e[1].y);c&geometry.Spline.FILL&&a.fill();c&geometry.Spline.STROKE&&a.stroke();a.closePath()}else throw Error("not enough spline points");},normalize:function(a,c,e,f,j,h){for(var j=
j===true,h=h===true,k=new g.Spline,m=this.getPoints(),n=m.length,o=c.subtract(a),x=f.subtract(e),c=function(c){c=c.subtract(a).divide(o);if(j)c.x=1-c.x;if(h)c.y=1-c.y;return c.multiply(x)},e=0;e<n;e++){var v=m[e].getControl1(),q=m[e].getAnchor(),f=m[e].getControl2(),q=c(q),v=q.subtract(c(v)).toVector(),f=c(f).subtract(q).toVector(),f=new g.SplinePoint(q.x,q.y,v.velocity,v.angle,f.velocity,f.angle);k.addPoint(f)}return k}};this.SplinePoint=function(a,c,e,f,g,h){return this.init(a,c,e,f,g,h)};this.SplinePoint.prototype=
{anchor:void 0,entry:void 0,exit:void 0,init:function(a,d,e,f,g,h){this.anchor=new c.geometry.Point(a,d);this.entry=new c.geometry.Vector(e,f);this.exit=new c.geometry.Vector(g,h==void 0?f:h)},setAngle:function(a,c){this.entry.angle=a;this.exit.angle=c==void 0?a:c},getAnchor:function(){return this.anchor},getControl1:function(){return c.math.point.subtract(this.anchor,this.entry.toPoint())},getControl2:function(){return c.math.point.add(this.anchor,this.exit.toPoint())}};this.Vector=function(a,c){this.velocity=
a;this.angle=c;return this};this.Vector.prototype={velocity:void 0,angle:void 0,toPoint:function(){return new c.geometry.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)}}})})(lola);
(function(c){c.registerModule(new function(){function g(a){typeof a==="string"&&(a=h.getContext(a));return a||d}var h=this,a=["util"],d=null,e={},f={},j={},l={};this.namespace=function(){return"graphics"};this.dependencies=function(){return a};this.registerContext=function(a,d){var f=a.getContext("2d"),d=d==void 0?c(a).identify().attr("id"):d,g=$(a).getData("_graphics",true);if(g.contexts==null)g.contexts=[];g.contexts.push(d);e[d]=f};this.removeContext=function(a){if((a=c(a).getData("_graphics",
false))&&a.contexts)for(var d;d=a.contexts.pop();)delete e[d]};this.getContext=function(a){return e[a]};this.setContext=function(a){d=g(a)};this.resetContext=function(a){typeof a=="string"&&(d=g(a));d&&c.util.copyPrimitives(f,d)};this.registerStyle=function(a,d){var e={};c.util.copyPrimitives(d,e);j[a]=e};this.removeStyle=function(a){delete j[a]};this.registerRoutine=function(a,c){l[a]=c};this.removeRoutine=function(a){delete this.routines[a]};this.executeRoutine=function(a){if(c.hasFn(l,a))l[a](d)};
this.applyStyle=function(a,d){var d=g(d),e=typeof a=="string"?e[a]||f:a;c.util.copyPrimitives(f,d);c.util.copyPrimitives(e,d)};this.draw=function(a,e){c.hasFn(a,"draw")&&a.draw(d,e)};this.clear=function(a){a=g(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){this.forEach(function(a){c.graphics.registerContext(a)});return this}};c.addSafeDeleteHook(h.removeContext,h);var k=document.createElement("canvas").getContext("2d"),m;for(m in k)c.type.isPrimitive(k[m])&&
(f[m]=k[m])})})(lola);
(function(c){c.registerModule(new function(){var g=this,h=["geometry"],a={},d="ease";this.namespace=function(){return"easing"};this.dependencies=function(){return h};this.setDefaultEase=function(c){a[c]&&(d=c)};this.initialize=function(){c.debug("lola.easing::initialize");g.registerSimpleEasing("none",0,0,1,1);g.registerSimpleEasing("ease",0.25,0.1,0.25,1);g.registerSimpleEasing("linear",0,0,1,1);g.registerSimpleEasing("ease-in",0.42,0,1,1);g.registerSimpleEasing("ease-out",0,0,0.58,1);g.registerSimpleEasing("ease-in-out",
0.42,0,0.58,1);delete g.initialize};this.register=function(c,d,g,h){var g=g?g:1E3,h=h===true,k=d.getPoint(0).getAnchor(),m=d.getPoint(d.getPoints().length-1).getAnchor();if(k.x==0&&k.y==0&&m.x==1&&m.y==1)if(!a[c]||h)a[c]=function(){this.exec=function(a,c,e,k){a/=k;var h=g,m=d.getPoints(),l=m.length-1,k=[];if(l>0){h*=l;for(var s=[],p=1;p<=l;p++)s.push(m[p].getAnchor().x);for(var p=l=0,y=s[0],z=0;z<=h;z++){var u=z/h;if(u<=y){var u=(u-l)/(y-l),B=m[p].getAnchor(),r=m[p].getControl2(),C=m[p+1].getControl1(),
D=m[p+1].getAnchor(),w=1-u,u=B.multiply(w*w*w).add(r.multiply(3*w*w*u),C.multiply(3*w*u*u),D.multiply(u*u*u));k.push(u)}else p++,l=y,y=s[p],z--}}h=1;for(m=k.length;a>k[h].x&&h<m;)if(h++,a<=k[h].x)return m=k[h-1],k=k[h],a=(a-m.x)/(k.x-m.x),this.lastIndex=h,c+e*(m.y+a*(k.y-m.y))};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,d,h,l,k){var m=c.geometry,n=new m.Spline,d=new m.Point(d,h),l=new m.Point(l,k),k=d.toVector(),
l=l.toVector();n.addPoint(new m.SplinePoint(0,0,0,0,k.velocity,k.angle));n.addPoint(new m.SplinePoint(1,1,l.velocity,l.angle,1,1));g.register(a,n)};this.get=function(c){return a[c]?new a[c]:(console.warn('easing method "'+c+'" not found.'),new a[d])}})})(lola);
(function(c){c.registerModule(new function(){function g(a){switch(x){case 1:c.window.requestAnimationFrame(a);break;case 2:c.window.mozRequestAnimationFrame(a);break;case 3:c.window.webkitRequestAnimationFrame(a);break;case 4:c.window.oRequestAnimationFrame(a);break;default:setTimeout(a,v)}}function h(a,e,f,g){var k,h,j;k=g.from?g.from:typeof g=="function"?g.call(e):e[f];var n=0;if(k!=null&&k!=void 0)if(c.type.isPrimitive(g))h=g;else if(g.to)n=0,h=g.to;else if(g.add)n=1,h=g.add;else{if(g.by)n=1,h=
g.by}else throw Error("invalid tween parameters");var l,r;if(m[f])l=m[f];else for(var v in o)if(l=o[v],l.match.test(String(h))&&l.match.test(String(k)))break;else l=null;if(l)h=l.parse(h),k=l.parse(k),j=l.getDelta(h,k,n),r=l.proxy,l.canTween(k,h)||(l=null);if(!l)r=c.tween.setAfterProxy,j=h;return new d.TweenObject(a,e,f,k,j,r)}function a(){var d=false,e=c.now(),h;for(h in k)k[h].active&&(d=true,k[h].complete?(c.event.trigger(k[h],"tweencomplete",false,false),delete k[h],l.push(parseInt(h))):k[h].calculate(e));
for(var j in f){var e=0,m;for(m in f[j]){h=[];for(var o;o=f[j][m].shift();)o&&k[o.tweenId]&&k[o.tweenId].active&&(o.apply(k[o.tweenId].value),h.push(o));f[j][m]=h;f[j][m].length==0?delete f[j][m]:e++}e==0&&delete f[j]}d?g(a):n=false}var d=this,e=["css","event","easing"],f={},j=0,l=[],k={},m={},n=false,o={},x=0,v=1E3/30;this.namespace=function(){return"tween"};this.dependencies=function(){return e};this.startTicking=function(){n||(n=true,g(a))};this.registerTween=function(a){var c=l.length>0?l.pop():
j++;k[c]=a;return c};this.start=function(a){k[a]&&(k[a].start(),c.event.trigger(k[a],"tweenstart",false,false))};this.stop=function(a){k[a]&&(k[a].stop(),c.event.trigger(k[a],"tweenstop",false,false))};this.pause=function(a){k[a]&&(k[a].pause(),c.event.trigger(k[a],"tweenpause",false,false))};this.resume=function(a){k[a]&&(k[a].resume(),c.event.trigger(k[a],"tweenresume",false,false))};this.addTarget=function(a,d,e,g){if(k[a]){g=g===true;c.type.get(d)!="array"&&(d=[d]);for(var j=d.length,m=0;m<j;m++){var n=
d[m],l=$(n).identify().attr("id");f[l]||(f[l]={});for(var o in e)if(o=="style")for(var r in e[o]){if(g||f[l]["style:"+r]==null){if(!e[o][r].from&&!n.style[r]){var v=c.css.style(n,r);typeof e[o][r]=="object"?e[o][r].from=v:e[o][r]={from:v,to:String(e[o][r])}}f[l]["style:"+r]||(f[l]["style:"+r]=[]);g?f[l]["style:"+r].push(h(a,n.style,r,e[o][r])):f[l]["style:"+r]=[h(a,n.style,r,e[o][r])]}}else this.targets[l][o]||(this.targets[l][o]=[]),g?this.targets[l][o].push(h(a,n,o,e[o])):this.targets[l][o]=[h(a,
n,o,e[o])]}}else throw Error("tween not found");};this.addTweenType=function(a,c){o[a]=c};this.selectorMethods={tweenStyle:function(a,c,e,f,g){var h=[];this.forEach(function(a){h.push(a.style)});c=d.registerTween(new d.Tween(c,f,e));d.addTarget(c,h,a,g);d.start(c)},tween:function(a,c,e,f,g){var h=[];this.forEach(function(a){h.push(a)});c=d.registerTween(new d.Tween(c,f,e));d.addTarget(c,h,a,g);d.start(c)}};this.Tween=function(a,c,d){this.init(a,c,d);return this};this.Tween.prototype={startTime:-1,
pauseTime:-1,lastCalc:0,duration:1E3,delay:0,value:0,easing:null,active:false,complete:false,init:function(a,c,d){this.duration=a;this.easing=c;this.delay=d;if(!c)this.easing={exec:function(a,c,d,e){return a/e*d+c}}},calculate:function(a){a=a-this.startTime-this.delay;if(a>=this.duration)a=this.duration,this.active=this.complete=true;this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active=true;this.startTime=c.now();d.startTicking()},stop:function(){this.active=false;this.complete=
true},pause:function(){this.active=false;this.pauseTime=c.now()},resume:function(){this.active=false;this.startTime+=c.now()-this.pauseTime;d.startTicking()}};this.TweenObject=function(a,c,d,e,f,g){this.init(a,c,d,e,f,g);return this};this.TweenObject.prototype={target:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,c,d,e,f,g){this.target=c;this.property=d;this.tweenId=a;this.initialValue=e;this.deltaValue=f;this.proxy=g},apply:function(a){this.proxy?
this.proxy(this.target,this.property,this.initialValue,this.deltaValue,a):this.target[this.property]=this.initialValue+this.deltaValue*a}}})})(lola);
(function(c){c.registerModule(new function(){var c=this,h=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return h};this.Grid=function(a,c,e,f,g,h){return this.init(a,c,e,f,g,h)};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=2;this.Grid.prototype={x:0,y:0,width:100,height:100,spacing:10,flags:3,init:function(a,c,e,f,g,h){this.x=a||0;this.y=c||0;this.width=e||100;this.height=f||100;this.spacing=g||10;this.flags=h==void 0?3:h;return this},draw:function(a,d){var d=d==void 0?
this.flags:d,e;if(d&c.Grid.VERTICAL)for(e=this.x+this.spacing;e<=this.width+this.x;e+=this.spacing)a.beginPath(),a.moveTo(e,this.y),a.lineTo(e,this.y+this.height),a.stroke(),a.closePath();if(d&c.Grid.HORIZONTAL)for(e=this.y+this.spacing;e<=this.height+this.y;e+=this.spacing)a.beginPath(),a.moveTo(this.x,e),a.lineTo(this.x+this.width,e),a.stroke(),a.closePath()}};this.Axis=function(a,c,e,f,g,h){return this.init(a,c,e,f,g,h)};this.Axis.VERTICAL=1;this.Axis.prototype={x:0,y:0,size:100,label:void 0,labelOffset:{x:0,
y:0},flags:2,init:function(a,c,e,f,g,h){this.x=a||0;this.y=c||0;this.size=e||100;this.label=f;if(g)this.labelOffset=g;this.flags=h==void 0?0:h;return this},draw:function(a,d){d=d==void 0?this.flags:d;a.beginPath();a.moveTo(this.x,this.y);d&c.Axis.VERTICAL?a.lineTo(this.x,this.y+this.size):a.lineTo(this.x+this.size,this.y);a.stroke();a.closePath();if(this.label)d&c.Axis.VERTICAL?(a.textAlign="center",a.fillText(this.label,this.x+this.labelOffset.x,this.y+this.size+this.labelOffset.y)):(a.textAlign=
"right",a.fillText(this.label,this.x+this.labelOffset.x,this.y+this.labelOffset.y))}}})})(lola);
(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return c};this.pv=function(c,a,d){return c/Math.pow(1+a,d)};this.fv=function(c,a,d){return c*Math.pow(1+a,d)};this.pva=function(c,a,d){return c*(1-1/Math.pow(1+a,d))/a};this.fva=function(c,a,d){return c*(Math.pow(1+a,d)-1)/a};this.payment=function(c,a,d,e){d=Math.pow(1+a,d);return c*a/(1-1/d)-e*a/(d-1)}})})(lola);
(function(c){c.registerModule(new function(){function g(){f++;if(f<j.length){var a=j[f];l=a;a.execute()&&setTimeout(function(){g()},10)}else console.log("lola.test.complete")}function h(a){return this.init(a)}function a(a){return this.init(a)}var d=[],e="tests.xml",f=-1,j=[],l=null;this.namespace=function(){return"test"};this.dependencies=function(){return d};this.setSource=function(a){e=a};this.current=function(){return l};this.start=function(){console.log("lola.test.run: "+e);var d=new c.http.SyncRequest(e);
d.send();d=d.responseXML();j=[];if(d.documentElement.tagName=="tests")for(var d=d.documentElement,m=d.childNodes.length,n=0;n<m;n++){var l=d.childNodes[n];if(l.nodeType==1)switch(l.nodeName.toLowerCase()){case "script":l=new h(l);j.push(l);break;case "test":l=new a(l),j.push(l)}}f=-1;g()};h.prototype={name:"",value:"",init:function(a){if(a.hasAttribute("name"))this.name=a.attributes.getNamedItem("name").nodeValue;for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;this.value=c;return this},
execute:function(){console.log("executing",'"'+this.name+'"',"script");c.evaluate(this.value);return true}};a.prototype={name:void 0,result:void 0,assert:"==",compareTo:void 0,test:void 0,async:false,passed:void 0,error:"",init:function(a){this.name=a.attributes.getNamedItem("name").nodeValue;if(a.hasAttribute("async"))this.async=a.attributes.getNamedItem("async").nodeValue=="true";if(a.hasAttribute("equals"))this.assert="equals";else if(a.hasAttribute("strictlyEquals"))this.assert="strictlyEquals";
else if(a.hasAttribute("doesNotEqual"))this.assert="doesNotEqual";else if(a.hasAttribute("greaterThan"))this.assert="greaterThan";else if(a.hasAttribute("lessThan"))this.assert="lessThan";else if(a.hasAttribute("greaterThanOrEquals"))this.assert="greaterThanOrEquals";else if(a.hasAttribute("lessThanOrEquals"))this.assert="lessThanOrEquals";var c=a.attributes.getNamedItem(this.assert).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":this.compareTo=parseFloat(c);break;case "int":this.compareTo=
parseInt(c);break;case "bool":this.compareTo=c==="true";break;default:this.compareTo=String(c)}for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;this.test=c;return this},execute:function(){console.log(this.name);try{return this.async?(c.evaluate(this.test),false):(this.result=eval(this.test),this.compare(),true)}catch(a){return this.passed=false,this.error="failed due to error: "+a.message,console.error("    ",this.error),console.log("    ",a),true}},setResult:function(a){this.result=
a;this.compare();g()},compare:function(){switch(this.assert){case "equals":this.passed=this.result==this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" == "+this.compareTo;break;case "strictlyEquals":this.passed=this.result===this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" === "+this.compareTo;break;case "doesNotEqual":this.passed=this.result!=this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" != "+this.compareTo;break;case "greaterThan":this.passed=
this.result>this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" > "+this.compareTo;break;case "lessThan":this.passed=this.result<this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" < "+this.compareTo;break;case "greaterThanOrEquals":this.passed=this.result>=this.compareTo;if(!this.passed)this.error="assertion false: "+this.result+" >= "+this.compareTo;break;case "lessThanOrEquals":this.passed=this.result<=this.compareTo;if(!this.passed)this.error="assertion false: "+
this.result+" <= "+this.compareTo;break;default:if(this.passed=this.result==this.compareTo,!this.passed)this.error="assertion false: "+this.result+" == "+this.compareTo}if(!this.passed)this.error="failed, "+this.error,console.error("    ",this.error)}}})})(lola);
(function(c){document.readyState==="complete"?c.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",c.initialize,false),c.window.addEventListener("load",c.initialize,false)):document.attachEvent&&(document.attachEvent("onreadystatechange",c.initialize),c.window.attachEvent("onload",c.initialize))})(lola);