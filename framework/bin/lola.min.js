"use strict";(function(c){var k=(new Date).getTime(),i=function(a,c){return new i.Selector(a,c)};i.window=c;var a=!1;i.isInitialized=function(){return a};i.extend=function(a,c,f,g){void 0==f&&(f=!1);void 0==g&&(g=!1);for(var l in c)if(f||null==a[l])a[l]=c[l];else if(g)throw Error("property "+l+" already exists on extend target!");};i.getPackage=function(a,c,f){if("string"===typeof c)for(var c=c.split("."),g;g=c.shift();)null==a[g]&&(a[g]={}),0==c.length&&f&&(a[g]=f),a=a[g];return a};i.registerModule=function(a,
c){var c=void 0==c?!1:c,f=a.namespace();c?i.extend(i.getPackage(i,f),a,!1,!1):i.getPackage(i,f,a);this.hasFn(a,"dependencies")&&i.addDependencies(f,a.dependencies());a.selectorMethods&&(i.extend(i.Selector.prototype,a.selectorMethods,!1,!1),delete a.selectorMethods);i.hasFn(a,"initialize")&&i.addInitializer(a.initialize);i.debug("module registered:",f)};i.initialize=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",i.initialize,!1),i.window.removeEventListener("load",
i.initialize,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",i.initialize),i.window.detachEvent("onload",i.initialize));i.checkDependencies();i.executeInitializers();a=!0;var d=(new Date).getTime()-k;delete i.initialize;i.debug("initialization completed in",d,"ms")};c.lola=i;c.$=i})(window);Object.keys||(Object.keys=function(c){var k=[],i;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&k.push(i);return k});Object.forEach||(Object.forEach=function(c,k,i){if(void 0===c||null===c)throw new TypeError;c=Object(c);if("function"!==typeof k)throw new TypeError;for(var a in c)c.hasOwnProperty(a)&&k.call(i,c[a],a,c)});
Array.prototype.forEach||(Array.prototype.forEach=function(c,k){if(void 0===this||null===this)throw new TypeError;var i=Object(this),a=i.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=0;d<a;d++)d in i&&c.call(k,i[d],d,i)});
Array.prototype.indexOf||(Array.prototype.indexOf=function(c){if(void 0===this||null===this)throw new TypeError;var k=Object(this),i=k.length>>>0;if(0===i)return-1;var a=0;0<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));if(a>=i)return-1;for(a=0<=a?a:Math.max(i-Math.abs(a),0);a<i;a++)if(a in k&&k[a]===c)return a;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(c){if(void 0===this||null===this)throw new TypeError;var k=Object(this),i=k.length>>>0;if(0===i)return-1;var a=i;1<arguments.length&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a))));for(i=0<=a?Math.min(a,i-1):i-Math.abs(a);0<=i;i--)if(i in k&&k[i]===c)return i;return-1});
Array.prototype.filter||(Array.prototype.filter=function(c,k){if(void 0===this||null===this)throw new TypeError;var i=Object(this),a=i.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=[],e=0;e<a;e++)if(e in i){var f=i[e];c.call(k,f,e,i)&&d.push(f)}return d});
Array.prototype.every||(Array.prototype.every=function(c,k){if(void 0===this||null===this)throw new TypeError;var i=Object(this),a=i.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=0;d<a;d++)if(d in i&&!c.call(k,i[d],d,i))return!1;return!0});
Array.prototype.map||(Array.prototype.map=function(c,k){if(void 0===this||null===this)throw new TypeError;var i=Object(this),a=i.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=Array(a),e=0;e<a;e++)e in i&&(d[e]=c.call(k,i[e],e,i));return d});
Array.prototype.some||(Array.prototype.some=function(c,k){if(void 0===this||null===this)throw new TypeError;var i=Object(this),a=i.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=0;d<a;d++)if(d in i&&c.call(k,i[d],d,i))return!0;return!1});
Array.prototype.reduce||(Array.prototype.reduce=function(c){var k,i=this.length,a;if("function"!==typeof c)throw new TypeError("First argument is not callable");if((0==i||null===i)&&1>=arguments.length)throw new TypeError("Array length is 0 and no second argument");1>=arguments.length?(a=this[0],k=1):a=arguments[1];for(k=k||0;k<i;++k)k in this&&(a=c.call(void 0,a,this[k],k,this));return a});
Array.isArray||(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)||c instanceof Array});String.prototype.trim||(String.prototype.trim=function(){return(""+this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});(function(c){c.Selector=function(k,i){var a=0;if(Array.isArray(k))for(var d=k.length,a=0;a<d;a++)this[a]=d[a];else if("object"===typeof k)this[a]=k,a++;else if("string"===typeof k)if(window.Sizzle)for(var e=Sizzle(k,i),a=0;a<d;a++)this[a]=e[a];else try{i||(i=document);for(var e=i.querySelectorAll(k),f=e.length,a=0;a<f;a++)this[a]=e.item(a);this.length=a}catch(g){console.warn("Exception:",k)}else"function"==typeof k&&c.addInitializer(k);this.length=a;return this};c.Selector.prototype={};c.Selector.prototype.forEach=
Array.prototype.forEach;c.Selector.prototype.every=Array.prototype.every;c.Selector.prototype.filter=Array.prototype.filter;c.Selector.prototype.indexOf=Array.prototype.indexOf;c.Selector.prototype.join=Array.prototype.join;c.Selector.prototype.lastIndexOf=Array.prototype.lastIndexOf;c.Selector.prototype.map=Array.prototype.map;c.Selector.prototype.push=Array.prototype.push;c.Selector.prototype.pop=Array.prototype.pop;c.Selector.prototype.shift=Array.prototype.shift;c.Selector.prototype.unshift=Array.prototype.unshift;
c.Selector.prototype.slice=Array.prototype.slice;c.Selector.prototype.splice=Array.prototype.splice;c.Selector.prototype.reverse=Array.prototype.reverse})(lola);(function(c){var k=new function(){function i(a){var m=[];Object.forEach(a,function(a){c.hasPackage(c,a)||m.push(a)});return m}var a=this,d={},e=0,f=[],g=[],l=!1,j;this.namespace=function(){return""};this.dependencies=function(){return d};this.url=function(){return j};this.setURL=function(h){j=new a.URL(h);l="true"==j.vars.debug};this.debugMode=function(){return l};this.getGUID=function(){return e++};this.addInitializer=function(a){c.isInitialized()?a(c):f.push(a)};this.addSafeDeleteHook=function(a,
m){g.push({fn:a,scope:m})};this.addDependencies=function(a,m){d[a]=m};this.safeDelete=function(a,m){for(var d=m?a[m]:a,c=g.length-1;0<=c;c--)if(d){var l=g[c];l.fn.call(l.scope,d)}a&&m&&delete a[m]};this.checkDependencies=function(a){var a=a?a:d,m=[],c;for(c in a){var g=i(a[c]);0<g.length&&m.push(c+": "+g.join(", "))}if(0<m.length)throw Error("module dependency checks failed for: \n\t"+m.join("\n\t"));};this.executeInitializers=function(){c.debug("core::executeInitializers");var a,m=f.length;for(a=
0;a<m;a++)c.hasFn(f,a)&&(f[a](c),delete f[a])};this.evaluate=function(a,m){null==m&&(m=document.getElementsByTagName("head")[0],m||(m=document.documentElement));var d=document.createElement("script");d.type="text/javascript";c.support.domEval?d.appendChild(document.createTextNode(a)):d.text=a;m.insertBefore(d,m.firstChild);m.removeChild(d)};this.loadScript=function(a,m){var d=document.getElementsByTagName("head")[0];d||(d=document.documentElement);var g=document.createElement("script");"function"==
typeof m&&c.event.addListener(g,"load",function(){m.apply()});g.src=a;d.insertBefore(g,d.firstChild)};this.hasPackage=function(a,m){var d=a;if("string"===typeof m)for(var c=m.split("."),g;g=c.shift();){if(null==d[g])return!1;d=d[g]}return!0};this.hasFn=function(a,d){return a&&a[d]&&"function"==typeof a[d]};this.debug=function(){l&&console.log("["+this.now()+"]",[].splice.call(arguments,0).join(" "))};this.now=function(){return(new Date).getTime()};this.__=function(a){return 1==a.length?a[0]:a};this.selectorMethods=
{identify:function(){this.forEach(function(a){a.id||(a.id="lola-guid-"+c.getGUID())});return this},get:function(a){void 0==a&&(a=0);return this[a]},getAll:function(){return this.slice(0)},count:function(){return this.length},concat:function(a,d){var g=this;a instanceof c.Selector?a.forEach(function(a){g.push(a)}):Array.isArray(a)?a.forEach(function(a){g.push(a)}):g.push(a);if(void 0==d||!0===d){var l=c.array.unique(this);this.splice(0,this.length);l.forEach(function(a){g.push(a)})}return this},g:function(){return c.__(this.i.apply(this,
arguments))},s:function(){this.i.apply(this,arguments);return this},_:function(){var a=this.i.apply(this,arguments);return void 0==arguments[arguments.length-1]?c.__(a):this},i:function(){var a=[],d=this,c=arguments.length;if(c){for(var g=arguments[0],l=[],j=1;j<c;j++)l.push(arguments[j]);this.forEach(function(c){a.push(g.apply(d,[c].concat(l)))})}return a}};this.URL=function(a){a=a.split("#",2);this.hash=a[1]?a[1]:"";var d={},a=a[0].replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,g){d[c]=g;return""});
this.vars=d;a=a.split(":");2==a.length?(this.protocol=a[0],a=a[1].substr(2).split("/"),this.domain=a.shift()):a=a[0].split("/");this.page=a.pop();this.path=""==this.domain?"":"/";0<a.length&&(this.path=this.path+a.join("/")+"/");return this};this.URL.prototype={protocol:"",domain:"",path:"",page:"",vars:{},hash:"",toString:function(){var a=[];Object.forEach(this.vars,function(d,m){a.push(m+"="+d)});var d=a.length?"?"+a.join("&"):"",c=""==this.hash?"":"#"+this.hash;return""!=this.protocol?this.protocol+
"://"+this.domain+this.path+this.page+d+c:this.path+this.page+d+c}};return this};k.setURL(c.window.location.href);c.registerModule(k,!0)})(lola);(function(c){c.registerModule(new function(){var k=this,i=[];this.colorAlpha=this.cssFloat=this.style=this.domEval=!1;this.deleteExpando=!0;this.msEvent=!1;this.domEvent=!0;this.animationFrameType=0;this.cssRules=!1;this.namespace=function(){return"support"};this.dependencies=function(){return i};this.initialize=function(){c.debug("lola.support::initialize");k.cssRules=0<document.styleSheets.length&&document.styleSheets[0].cssRules||void 0==document.createStyleSheet?!0:!1};var a=document.documentElement,
d=document.createElement("script"),e="scriptCheck"+(new Date).getTime();d.type="text/javascript";try{d.appendChild(document.createTextNode("lola.window."+e+"=true;"))}catch(f){}a.insertBefore(d,a.firstChild);a.removeChild(d);k.domEval=c.window[e];delete c.window[e];a=document.createElement("div");a.innerHTML="<div style='color:black;opacity:.25;float:left;background-color:rgba(255,0,0,0.5);' test='true' >test</div>";a=a.firstChild;k.style="string"===typeof a.getAttribute("style");k.cssFloat=/^left$/.test(a.style.cssFloat);
k.colorAlpha=/^rgba.*/.test(a.style.backgroundColor);try{delete a.test}catch(g){k.deleteExpando=!1}document.addEventListener?k.domEvent=!0:document.attachEvent&&(k.msEvent=!0);window.requestAnimationFrame?k.animationFrameType=1:window.mozRequestAnimationFrame?k.animationFrameType=2:window.webkitRequestAnimationFrame?k.animationFrameType=3:window.oRequestAnimationFrame&&(k.animationFrameType=4)})})(lola);(function(c){c.registerModule(new function(){function c(a){return function(d,c){var f=d[a],g=c[a];return f<g?-1:f>g?1:0}}var i=[];this.namespace=function(){return"array"};this.dependencies=function(){return i};this.hasObjectWithProperty=function(a,d,c){return a.some(function(a){return a[d]==c})};this.unique=function(a){for(var d=[],c=a.length-1;0<=c;c--)-1==d.indexOf(a[c])&&d.push(a[c]);return d};this.isIn=function(a,d){return 0<=a.indexOf(d)};this.pruneNulls=function(a){var d=[];a.forEach(function(a){null!=
a&&d.push(a)});return d};this.sortOn=function(a,d){return d.sort(c(a))};this.selectorMethods={}})})(lola);(function(c){c.registerModule(new function(){function k(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object HTML/g,"").replace(/Element\]/g,""),d=""==d?"Element":d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function i(a){var a=document.createElement(a),a=Object.prototype.toString.call(a),d=a.replace(/\[object /g,"").replace(/Element\]/g,""),d=""==d?"Element":
d;f[a]=d.toLowerCase();a="lola.Selector.prototype['is"+d+"'] = function(index){ return this.isType('"+d.toLowerCase()+"',index); };";c.evaluate(a)}function a(a){f["[object "+a+"]"]=a.toLowerCase();a="lola.Selector.prototype['is"+a+"'] = function(index){ return this.isType('"+a.toLowerCase()+"',index); };";c.evaluate(a)}var d=this,e=[],f={},g=["boolean","number","string","undefined","null"];this.namespace=function(){return"type"};this.dependencies=function(){return e};this.get=function(a){return(a=
f[Object.prototype.toString.call(a)])?a:"other"};this.isPrimitive=function(a){return 0<=g.indexOf(d.get(a))};this.selectorMethods={getType:function(){return this.g(d.get)},isType:function(a,c){return void 0!=c&&0<=c?d.get(this[c])===a:this.every(function(c){return d.get(c)===a})},isPrimitive:function(a){return void 0!=a&&0<=a?d.isPrimitive(this.getType(a)):this.every(function(a){return 0<=d.isPrimitive(a)})}};(function(){"String,Number,Date,Array,Boolean,RegExp,Function,Object,Undefined,Null".split(",").forEach(a);
"a,abbr,acronym,address,applet,area,article,aside,audio,b,base,bdi,bdo,big,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,dir,div,dl,dt,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,label,legend,li,link,map,mark,menu,meta,meter,nav,noframes,noscript,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,s,samp,script,section,select,small,source,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbrxmp".split(",").forEach(k);
["object"].forEach(i);var d=document.createTextNode("test"),g=document.createComment("test"),d=Object.prototype.toString.call(d),g=Object.prototype.toString.call(g),h=Object.prototype.toString.call(c.window);f[d]="textnode";f[g]="commentnode";f[h]="window"})()})})(lola);(function(c){c.registerModule(new function(){var k=this,i=[],a={};this.namespace=function(){return"dom"};this.dependencies=function(){return i};this.attr=function(d,e,f,g){if(!1!==g&&a[e])return a[e].apply(d,arguments);if(d){if(f||""==f){if(c.type.isPrimitive(f))return d[e]=f;throw Error("attribute values must be primitives");}return d[e]}};this.addAttrHook=function(d,c){Array.isArray(d)||(d=[d]);d.forEach(function(d){a[d]=c})};this.deleteExpando=function(a,e){c.support.deleteExpando?delete a[e]:
a[e]=null};this.isDescendant=function(a,c){return k.isAncestor(c,a)};this.isAncestor=function(a,c){for(var f=c;f&&(f=f.parentNode)&&"BODY"!=f.nodeName;)if(a==f)return!0;return!1};this.selectorMethods={find:function(a){var c=$([]);this.forEach(function(f){f=$(a,f);c.concat(f)});return c},generation:function(a){a||(a=1);var c=$([]);this.forEach(function(f){for(var g=0;f=f.parentNode&&g<a;)g++;f&&c.concat([f])});return c},html:function(a){if(0==arguments.length){var e=[];this.forEach(function(a){e.push(a?
a.innerHTML:null)});return c.__(e)}this.forEach(function(e){if(e.childNodes){for(var g=e.childNodes.length,l=0;l<g;l++){var j=e.childNodes.item(l);c.safeDelete(j)}switch(c.type.get(a)){case "null":case "undefined":e.innerHTML="";break;case "string":e.innerHTML=a;break;case "array":e.innerHTML="";for(var h in a)e.appendChild(h);break;default:e.innerHTML="",e.appendChild(a)}}});return this},appendChild:function(a){0<this.length&&this.get().appendChild(a);return this},prependChild:function(a){0<this.length&&
this.get().insertBefore(a,this.get().firstChild);return this},cloneNode:function(a){return 0<this.length?this.get().cloneNode(a):null},insertBefore:function(a){1==this.length&&this.parent().insertBefore(a,this[0]);return this},insertAfter:function(a){1==this.length&&this.parent().insertAfter(a,this[0]);return this},removeChild:function(a){0<this.length&&(c.safeDelete(a),this.get().removeChild(a));return this},replaceChild:function(a,e){0<this.length&&(c.safeDelete(e),this.get().replaceChild(a,e));
return this},attr:function(a,e){if(void 0!=e)return this.forEach(function(c){k.attr(c,a,e)}),this;var f=[];this.forEach(function(c){f.push(k.attr(c,a))});return c.__(f)},removeAttr:function(a){this.forEach(function(c){c.removeAttribute(a)});return this},parent:function(a){if(void 0!=a)return this.forEach(function(c){$(a).appendChild(c)}),this;var e=[];this.forEach(function(a){e.push(a?a.parentNode:null)});return c.__(e)},nodeIndex:function(){var a=[];this.forEach(function(c){if(c.previousSibling){for(var f=
0;null!=(c=c.previousSibling);)f++;a.push(f)}else a.push(0)});return c.__(a)},deleteExpando:function(a){return this.s(c.deleteExpando,a)}};k.addAttrHook(["value","checked","selected"],function(a,e,f){var g=k.attr(a,e,void 0,!1);return void 0!=f?(e=k.attr(a,e,f,!1),g!=f&&c.event.trigger(a,"change",!1,!1),e):g})})})(lola);(function(c){c.registerModule(new function(){function k(a,d){var d=void 0==d?!0:d,j=c.dom.attr(a,f);if(null==j)switch(c.type.get(a)){case "function":case "object":j=a[f];null==j&&d&&(j=e++,a[f]=j);break;case "applet":case "embed":case "number":case "date":case "array":case "boolean":case "regexp":case "string":case "textnode":case "commentnode":break;case "htmlobject":break;default:j=c.dom.attr(a,f),null==j&&d&&(j=e++,c.dom.attr(a,f,j))}return j}var i=this,a=["dom","type"],d={},e=1,f="LOLA-DATA-UID";
this.namespace=function(){return"data"};this.dependencies=function(){return a};this.get=function(a,c,j){var h=k(a,!1);return null==d[c]||null==h?j?i.set(a,{},c,!1):null:d[c][h]};this.getNamespaceData=function(a){return d[a]};this.set=function(a,l,j,h){a=k(a,!0);null==d[j]&&(d[j]={});h||null==d[j][a]?d[j][a]=l:c.extend(d[j][a],l,!0);return d[j][a]};this.remove=function(a,l,j){var h=k(a,!1);if(h){if(null==l||void 0==l){var l=[],m;for(m in d)l.push(m)}else"array"!=c.type.get(l)&&(l=[l]);l.forEach(function(a){delete d[a][h]})}void 0===
j&&(j=!0);j&&a.childNodes&&"array"==c.type.get(a.childNodes)&&a.childNodes.forEach(function(a){i.remove(a,l,!0)})};this.selectorMethods={getData:function(a,c){return this.g(i.get,a,c)},putData:function(a,c){return this.s(i.set,a,c)},updateData:function(a,c){return this.s(i.set,a,c,!1)},removeData:function(a,c){return this.s(i.remove,a,c)},removeAllData:function(a){return this.removeData(null,a)}};c.addSafeDeleteHook(this.remove,this)})})(lola);(function(c){c.registerModule(new function(){var k=[];this.namespace=function(){return"util"};this.dependencies=function(){return k};this.copyPrimitives=function(i,a){for(var d in i)c.type.isPrimitive(i[d])&&(a[d]=i[d])};this.checkArgs=function(i,a,d){for(var e=!0,f=[],g=a.length-1;0<=g;g--)if(void 0===a[g][1]||null===a[g][1])e=!1,f.push(a[g][0]+" is not set!");e||(console.groupCollapsed?console.groupCollapsed(i):console.group(i),"array"==c.type.get(d)&&d.forEach(function(a){console.info(a)}),f.forEach(function(a){console.warn(a)}),
console.groupEnd());return e};this.getInlineValue=function(i,a,d,e){i=$('script[type="text/x-lola-'+a+'"]',i);return i.length&&(i=eval(i[0].innerHTML),c.type.get(i)===d.toLowerCase())?i:e};this.nodeList2Array=function(c){try{return Array.prototype.slice.call(c,0)}catch(a){for(var d=[],e=c.length;e--;d.unshift(c[e]));return d}};this.selectorMethods={compareValues:function(c,a,d){var e=d;"string"===typeof c?this.foreach(function(d){e=a.call(this,e,Number(d[c]))}):"function"===typeof c&&this.foreach(function(d){e=
a.call(this,e,c.call(this,d))});return e}}})})(lola);(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"string"};this.dependencies=function(){return c};this.padFront=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.push(a),e++;return c.join("")};this.padEnd=function(c,a,d){for(var c=c.toString(),e=c.length,c=[c];e<d;)c.unshift(a),e++;return c.join("")};this.camelCase=function(c){for(var c=(""+c).split("-"),a=c.length,d=1;d<a;d++)0<c[d].length&&(c[d]=c[d].charAt(0).toUpperCase()+c[d].slice(1));return c.join("")};
this.dashed=function(c){for(var c=c.split(""),a,d=[];a=c.shift();)a==a.toUpperCase()&&d.push("-"),d.push(a.toLowerCase());return d.join("")}})})(lola);(function(c){c.registerModule(new function(){var c=[];this.extraSpace=/\s\s+/g;this.isNumber=/^-?\d*(?:\.\d+)?$/;this.isDimension=/^(-?\d*(?:\.\d+)?)(%|in|cm|mm|em|ex|pt|pc|px)$/;this.isColor=/^(#|rgb|rgba|hsl|hsla)(.*)$/;this.isHexColor=/^#([A-F0-9]{3,6})$/;this.isRGBColor=/^rgba?\(([^\)]+)\)$/;this.isHSLColor=/^hsla?\(([^\)]+)\)$/;this.namespace=function(){return"regex"};this.dependencies=function(){return c};this.selectorMethods={}})})(lola);(function(c){c.registerModule(new function(){function k(d){d=d||c.window.event;a(d,"capture")}function i(d){d=d||c.window.event;a(d,"bubble")}function a(a,d){var g=a.originalEvent?a:new j(a,{}),h=c.data.get(g.currentTarget,l);if(h&&h[d]&&h[d][a.type]){var e=[],f;for(f in h[d][a.type])e.push(h[d][a.type][f]);var e=c.array.sortOn("priority",e),i;for(i in e){if(g._immediatePropagationStopped)break;f=e[i];f.handler?f.handler.call(f.scope,g):delete h[d][a.type][f.huid]}}}var d=this;this.PRIORITY_BEFORE=
1;this.PRIORITY_FIRST=4194304;this.PRIORITY_NORMAL=8388608;this.PRIORITY_LAST=12582912;this.PRIORITY_AFTER=16777215;var e=["data","util","type"],f={mousewheel:["mousewheel","DOMMouseScroll"]},g={},l="_event";this.namespace=function(){return"event"};this.dependencies=function(){return e};this.addHook=function(a,c){g[a]=c};this.addListener=function(a,h,j,e,f,q,n){if(c.util.checkArgs("ERROR: lola.event.addListener( "+h+" )",[["target",a],["type",h],["handler",j]],[a,"type: "+h,"useCapture: "+e])){if(!1!==
n&&null!=g[h])return q=g[h],q.addListener(a,h,j,e,f,q);n=c.data.get(a,l);n||(n={capture:{},bubble:{}},c.data.set(a,n,l,!0));e=d.phaseString(a,e);f=f||d.PRIORITY_NORMAL;null==j.uid&&(j.uid=p++);var p=j.uid;null==n[e][h]&&(n[e][h]={});n[e][h][p]={priority:f,huid:p,handler:j,scope:q||a};"capture"==e?d.addDOMListener(a,h,k,!0):d.addDOMListener(a,h,i,!1);return p}};this.removeListener=function(a,h,j,e,f){c.util.checkArgs("ERROR: lola.event.removeListener( "+h+" )",[["target",a],["type",h],["handler",j]],
[a,"type: "+h,"useCapture: "+e])&&(!1!==f&&null!=g[h]?g[h].removeListener.call(g[h],a,h,j,e):((f=c.data.get(a,l))||(f={capture:{},bubble:{}}),e=d.phaseString(a,e),j="function"==c.type.get(j)?j.uid:j,delete f[e][h][j],0==Object.keys(f[e][h]).length&&("capture"==e?d.removeDOMListener(a,h,k,!0):d.removeDOMListener(a,h,i,!1))))};this.removeHandler=function(a,h,g){if(c.utils.checkArgs("ERROR: lola.event.removeHandler",[["handler",a]],[])){var a="function"==c.type.get(a)?a.uid:a,j=c.data.getNamespace(l);
if(j){var g=void 0==g?["capture","bubble"]:g?["capture"]:["bubble"],e;for(e in j){void 0!=h&&(h="array"==c.type.get(h)?h:[h]);for(var f in g){var n;if(h)for(n in h)j[e][f][n]&&delete j[e][f][n][a];else for(n in j[e][f])delete j[e][f][n][a];0==Object.keys(j[e][f][n]).length&&d.removeDOMListener(target,n,"capture"==f?k:i,"capture"==f)}}}}};this.trigger=function(d,h,g,e,l){if(c.util.checkArgs([d,h],["target","type"],"lola.event.trigger: type="+h+" bubbles="+g)){void 0==g&&(g=!0);void 0==e&&(e=!0);var f=
h;"string"===c.type.get(f)&&(f=document.createEvent("Event"),f.initEvent(h,g,e),f.data=l);d.dispatchEvent?d.dispatchEvent(f):(f=new j(f,d),a(f,"capture"),g&&a(f,"bubble"))}};this.addDOMListener=function(a,d,h,g){d=f[d]?f[d]:[d];d.forEach(function(j){try{c.support.domEvent&&a.addEventListener?a.addEventListener(j,h,g):c.support.msEvent&&a.attachEvent?a.attachEvent("on"+j,h):null==a["on"+j.toLowerCase()]&&(a["on"+d.toLowerCase()]=h)}catch(e){c.debug("lola.event.addDOMListener error:",a,d,h,g)}})};this.removeDOMListener=
function(a,d,h,g){d=f[d]?f[d]:[d];d.forEach(function(){try{c.support.domEvent&&a.removeEventListener?a.removeEventListener(d,h,g):c.support.msEvent&&a.detachEvent?a.detachEvent("on"+d,h):null==a["on"+d.toLowerCase()]&&delete a["on"+d.toLowerCase()]}catch(j){c.debug("lola.event.removeDOMListener error:",a,d,h,g)}})};this.getDOMTarget=function(a,c){a&&(a.currentTarget?c=a.currentTarget:a.srcElement&&(c=a.srcElement),c&&3==c.nodeType&&(c=c.parentNode));return c};this.getDOMKeycode=function(a){var c;
a.keyCode?c=a.keyCode:a.which&&(c=a.which);return c};this.getDOMKey=function(a){a=d.getDOMKeycode(a);return 65535<a?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):String.fromCharCode(a)};this.getDOMGlobalXY=function(a){var c=0,d=0;if(a.pageX||a.pageY)c=a.pageX,d=a.pageY;else if(a.clientX||a.clientY)c=a.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,d=a.clientY+document.documentElement.scrollTop+document.body.scrollTop;return{x:c,y:d}};this.getDOMLocalXY=function(a){return{x:a.layerX||
a.offsetX||0,y:a.layerY||a.offsetY||0}};this.phaseString=function(a,d){return d&&(c.support.domEvent||c.support.msEvent)||!a.dispatchEvent&&!a.attachEvent?"capture":"bubble"};this.preventDefault=function(a){if(a=a?a:window.event)a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1;return!1};this.selectorMethods={addListener:function(a,c,h,g,j){return this.s(d.addListener,
a,c,h,g,j)},removeListener:function(a,c,h){return this.s(d.removeListener,a,c,h)},removeHandler:function(a,c,h){return this.s(d.removeHandler,a,c,h)},trigger:function(a,c,h,g){return this.s(d.trigger,a,c,h,g)}};var j=function(a,c){return this.init(a,c)};j.prototype={originalEvent:null,propagationStopped:!1,immediatePropagationStopped:!1,target:null,currentTarget:null,globalX:null,globalY:null,key:null,init:function(a,h){c.extend(this,a,!1,!1);this.originalEvent=a;h&&(this.target=h);this.currentTarget=
d.getDOMTarget(a,h);var g=d.getDOMGlobalXY(a);this.globalX=g.x;this.globalY=g.y;g=d.getDOMLocalXY(a);this.localX=g.x;this.localY=g.y;this.key=d.getDOMKey(a);return this},preventDefault:function(){this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent.stopPropagation();this.propagationStopped=!0},stopImmediatePropagation:function(){this.originalEvent.stopImmediatePropagation();this.immediatePropagationStopped=!0}};this.AliasHook=function(a){this.addListener=function(d,h,
g,j,e,l){c.debug("alias hook addListener",h);var f;a.forEach(function(a){c.debug("    ",a);f=c.event.addListener(d,a,g,j,e,l,!1)});return f};this.removeListener=function(d,h,g,j){c.debug("alias hook removeListener",h);a.forEach(function(a){c.debug("    ",a);c.event.removeListener(d,a,g,j,!1)})}};this.addHook("transitionend",new this.AliasHook(["transitionend","webkitTransitionEnd","oTransitionEnd"]));this.addHook("hover",new function(){function a(d){var h=c.dom.attr(d,"hoverDelay"),h=null==h||void 0==
h?250:parseInt(h),g=c.data.get(d,f);g||(g={hasIntent:!1,wait:h,timeout:-1},c.data.set(d,g,f,!0));return g}function d(c){j.addListener(c.currentTarget,"mouseout",h,!1,0,j);c=a(c.currentTarget);c.hasIntent=!0;0>c.timeout&&(c.timeout=setTimeout(g,c.wait))}function h(c){j.removeListener(c.currentTarget,"mouseout",h,!1);a(c.currentTarget).hasIntent=!1}function g(c){j.removeListener(c,"mouseout",h,!1,0,j);var d=a(c);d.timeout=-1;d.hasIntent&&j.trigger(c,e)}var j=this,e="hover",f="eventHover";this.addListener=
function(c,h,g,l,f,i){h=j.addListener(c,e,g,l,f,i);a(c);j.addListener(c,"mouseover",d,!1,0,j);return h};this.removeListener=function(a,h,g,m){h=c.data.get(a,l);j.removeListener(a,e,g,m);g=j.phaseString(a,m);if(null==h[g][e]||0==Object.keys(h[g][e]).length)j.removeListener(a,"mouseover",d,!1),c.data.remove(a,f)};return this});var h=new function(){function a(d){var h=c.data.get(d,i);h||(h={within:!1},c.data.set(d,h,i,!0));return h}function d(a){c.support.msEvent||(a="do"+a);return a}function h(c){var d=
a(c.currentTarget);!d.within&&c.currentTarget!=c.relatedTarget&&(d.within=!0,j.trigger(c.currentTarget,e,!1))}function g(d){var h=a(d.currentTarget);h.within&&!c.util.isAncestor(d.currentTarget,d.relatedTarget)&&d.currentTarget!=d.relatedTarget&&(h.within=!1,j.trigger(d.currentTarget,f,!1))}var j=this,e="domouseenter",f="domouseleave",i="eventMouseEnterState";this.addListener=function(a,e,l,f,m,i){c.support.msEvent||(j.addListener(a,"mouseover",h,f,m,i),j.addListener(a,"mouseout",g,f,m,i));return j.addListener(a,
d(e),l,f,m,i)};this.removeListener=function(a,e,f,m){var i=c.data.get(a,l),k=j.phaseString(a,m),e=d(e);j.removeListener(a,e,f,m);if(!c.support.msEvent&&null==i[k][e]||0==i[k][e].keys().length)j.removeListener(a,"mouseover",h,m),j.removeListener(a,"mouseout",g,m)}};this.addHook("mouseenterstate",h);this.addHook("mouseleave",h);this.addHook("mouseenter",h)})})(lola);(function(c){c.registerModule(new function(){var c=["util"];this.namespace=function(){return"math"};this.dependencies=function(){return c};this.normalizeRadians=function(c){for(var a=2*Math.PI;c<a;)c+=a;return c%a};this.normalizeDegrees=function(c){for(;360>c;)c+=360;return c%360};this.normalizeRange=function(c,a,d){return Math.max(c,Math.min(d,a))};this.selectorMethods={maxValue:function(c){return this.compareValues(c,Math.max,Number.MIN_VALUE)},minValue:function(c){return this.compareValues(c,Math.min,
Number.MAX_VALUE)},totalValue:function(c){return this.compareValues(c,function(a,c){return a+c},0)},avgValue:function(c){return this.totalValue(c)/this.length}}})})(lola);(function(c){c.registerModule(new function(){var c=this,i=["math"];this.namespace=function(){return"math.color"};this.dependencies=function(){return i};this.rgb2hsl=function(a,c,e){var f=0,g=0,a=0>a?0:a,a=1<a?1:a,c=0>c?0:c,c=1<c?1:c,e=0>e?0:e,e=1<e?1:e,l=a>c?e>a?e:a:e>c?e:c,j=a<c?e<a?e:a:e<c?e:c;0!=l&&(g=(l-j)/l);if(0<g)for(var f=(l-a)/(l-j),h=(l-c)/(l-j),e=(l-e)/(l-j),f=(a==l?e-h:c==l?2+f-e:4+h-f)/6;0>f;)f++;return{h:f,s:g,l:l}};this.rgb2hex=function(a,c,e){var f="",a=0>a?0:a,c=0>c?0:c,c=1<c?1:c,
e=0>e?0:e,e=1<e?1:e,a=Math.round(255*(1<a?1:a)),c=Math.round(255*c),e=Math.round(255*e),g=[];g.push((a-a%16)/16);g.push(a%16);g.push((c-c%16)/16);g.push(c%16);g.push((e-e%16)/16);g.push(e%16);g.forEach(function(a){f+="0123456789ABCDEF".charAt(a)});return f};this.rgb2int=function(a,d,e){return parseInt("0x"+c.rgb2hex(a,d,e))};this.hsl2rgb=function(a,c,e){var a=0>a?0:a,a=1<a?1:a,c=0>c?0:c,c=1<c?1:c,e=0>e?0:e,e=1<e?1:e,f=0,g=0,l=0;if(0==c)l=g=f=b;else{var a=6*(a-Math.floor(a)),j=a-Math.floor(a),h=e*
(1-c),m=e*(1-c*j),c=e*(1-c*(1-j));switch(Math.floor(a)){case 0:f=e;g=c;l=h;break;case 1:f=m;g=e;l=h;break;case 2:f=h;g=e;l=c;break;case 3:f=h;g=m;l=e;break;case 4:f=c;g=h;l=e;break;case 5:f=e,g=h,l=m}}return{r:f,g:g,b:l}};this.hsl2int=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2int(a.r,a.g,a.b)};this.hsl2hex=function(a,d,e){a=c.hsl2rgb(a,d,e);return c.rgb2hex(a.r,a.g,a.b)};this.int2rgb=function(a){a=16777215<a?16777215:a;a=0>a?0:a;return{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}};this.int2hsl=
function(a){a=c.int2rgb(a);return c.rgb2hsl(a.r,a.g,a.b)};this.int2hex=function(a){a=c.int2rgb(a);return c.rgb2hex(a.r,a.g,a.b)};this.hex2int=function(a){return parseInt("0x"+(3==a.length?a[0]+a[0]+a[1]+a[1]+a[2]+a[2]:a))};this.hex2rgb=function(a){return c.int2rgb(this.hex2int(a))};this.hex2hsl=function(a){return c.int2hsl(this.hex2int(a))}})})(lola);(function(c){c.registerModule(new function(){function k(a){1==l?c.window.requestAnimationFrame(a):2==l?c.window.mozRequestAnimationFrame(a):3==l?c.window.webkitRequestAnimationFrame(a):4==l?c.window.oRequestAnimationFrame(a):setTimeout(a,j)}function i(){var a=!1,d=c.now(),j;for(j in f)f[j].isActive()&&(a=!0,f[j].isComplete()?(c.event.trigger(f[j],"animationcomplete",!1,!1),delete f[j],e.push(parseInt(j))):f[j].enterFrame(d));a?k(i):g=!1}var a=this,d=["event"],e=[],f={},g=!1,l=0,j=1E3/30;this.namespace=
function(){return"animation"};this.dependencies=function(){return d};this.initialize=function(){l=c.support.animationFrameType};this.register=function(a,c){f[a]=c};this.start=function(a){f[a]&&f[a].start()};this.stop=function(a){f[a]&&f[a].stop()};this.pause=function(a){f[a]&&f[a].pause()};this.resume=function(a){f[a]&&f[a].resume()};this.selectorMethods={};this.Animation=function(d,j){var e=-1,l=-1,f=-1,s=!1,q=!1,n="function"===typeof d?d:function(){return!1};this.enterFrame=function(a){var c=a-
f,d=a-e;f=a;s=n.call(j,a,c,d)};this.isActive=function(){return s};this.isComplete=function(){return q};this.start=function(){s||this.restart()};this.pause=function(){s&&(s=!1,l=c.now(),c.event.trigger(a,"animationpause",!1,!1))};this.resume=function(){s||(s=!0,e+=c.now()-l,g||(g=!0,k(i)),c.event.trigger(a,"animationresume",!1,!1))};this.restart=function(){s=!0;q=!1;e=f=c.now();g||(g=!0,k(i));c.event.trigger(a,"animationstart",!1,!1)};this.stop=function(){s=!1;q=!0;c.event.trigger(a,"animationstop",
!1,!1)};return this}})})(lola);(function(c){c.registerModule(new function(){function k(a){e[a]||(e[a]=c.string.camelCase(a));return e[a]}function i(d,g,h){if(void 0==h)return d=a.getRawStyle(d,g),parseFloat(d.replace(c.regex.isDimension,"$1"));h=(""+h).match(c.regex.isDimension)?h:h+"px";a.setRawStyle(d,g,h)}var a=this,d=["type","math.color"],e={},f={},g={};this.namespace=function(){return"css"};this.dependencies=function(){return d};this.initialize=function(){c.debug("lola.css::initialize");"padding,margin,background-position,border-top-width,border-right-width,border-bottom-width,border-left-width,border-width,bottom,font-size,height,left,line-height,list-style-position,margin,margin-top,margin-right,margin-bottom,margin-left,max-height,max-width,min-height,min-width,outline-width,padding,padding-top,padding-right,padding-bottom,padding-left,right,text-indent,top,width".split(",").forEach(function(c){a.registerStyleHook(c,
i)});a.addStyleSheet("_default");e["float"]=c.support.cssFloat?"cssFloat":"styleFloat";var d=function(d,h,g,e){h=a.style(d,h,g,!1);return"auto"==h?c.geometry.getOffset(d,d.offsetParent)[e]+"px":h};a.registerStyleHook("top",function(a,c,g){return d(a,c,g,"y")});a.registerStyleHook("left",function(a,c,g){return d(a,c,g,"x")});delete a.initialize};this.style=function(c,d,h,g){var e=k(d);return null!=f[e]&&!1!==g?f[e].apply(c,arguments):void 0==h?a.getRawStyle(c,e):a.setRawStyle(c,e,h)};this.getRawStyle=
function(a,d){var h=k(d);if(void 0!=a.style[h])return a.style[h];var g;document.defaultView&&document.defaultView.getComputedStyle&&(g=document.defaultView.getComputedStyle(a,void 0));if(g)return g.getPropertyValue(c.string.dashed(h));if("undefined"!==typeof document.body.currentStyle)return a.currentStyle[h]};this.setRawStyle=function(a,c,d){c=k(c);return a.style[c]=d};this.registerStyleHook=function(a,c){var d=k(a);f[d]=c};this.addStyleSheet=function(d,g){var h=c.support.cssRules?document.createElement("style"):
document.createStyleSheet();g&&(h.source=g);d&&a.registerStyleSheet(h,d);c("head").appendChild(h)};this.registerStyleSheet=function(a,c){g[c]=a};this.addSelector=function(d,e,h){"string"==c.type.get(h)&&(h=g._default);var h=h||g._default,e=e||[],f=c.support.cssRules?h.cssRules.length:h.rules.length;h.addRule?h.addRule(d,null,f):h.insertRule(d+" { }",f);var r=c.support.cssRules?h.cssRules[f]:h.rules[f];e&&e.keys().forEach(function(c){a.style(r,c,e[c])});return r};this.performRuleAction=function(a,
d,g){for(var a=a.toLowerCase(),g=g?g.toLowerCase():"",e=0;e<document.styleSheets.length;e++){var f=document.styleSheets[e];if(!g||g==f.mediaText){var f=c.support.cssRules?f.cssRules:f.rules,i;for(i in f)f[i]&&f[i].selectorText&&f[i].selectorText.toLowerCase()==a&&d(e,i)}}};this.getRules=function(d,g){var h=[];a.performRuleAction(d,function(a,d){c.support.cssRules?h.push(document.styleSheets[a].cssRules[d]):h.push(document.styleSheets[a].rules[d])},g);return h};this.updateRules=function(c,d,g){var e=
a.getRules(c,g);d.keys().forEach(function(c){e.forEach(function(g){a.style(g,c,d[c])})});return e};this.deleteRules=function(d,g){a.performRuleAction(d,function(a,d){c.support.cssRules?document.styleSheets[a].deleteRule(d):document.styleSheets[a].removeRule(d)},g)};this.classes=function(a,d){return void 0!=d?("array"!=c.type.get(d)&&(d="string"==c.type.get(d)?[d]:[]),a.className=d.join(" "),d):a.className.replace(c.regex.extraSpace," ").split(" ").reverse()};this.hasClass=function(d,g){var h=a.classes(d);
return c.array.isIn(h,g)};this.addClass=function(d,g){var h=a.classes(d);c.array.isIn(h,g)||(h.push(g),a.classes(d,h))};this.removeClass=function(c,d){var g=a.classes(c),e=g.indexOf(d);0<=e&&(g.splice(e,1),a.classes(c,g))};this.clearStyle=function(a,c){delete a.style[k(c)]};this.selectorMethods={style:function(c,d){return this._(a.style,c,d)},classes:function(c){return this._(a.classes,c)},hasClass:function(c){return this.every(function(d){return a.hasClass(d,c)})},addClass:function(c){return this.s(a.addClass,
c)},removeClass:function(c){return this.s(a.removeClass,c)}};this.Color=function(a){function d(a,c){return a?0<a.indexOf("%")?parseFloat(a.replace(/%/g,""))/100:parseFloat(a)/c:0}var g=this,e=c.math.color,f,i,k;this.getRgbValue=function(){return f};this.getHslValue=function(){return i};this.getHexValue=function(){return k};this.toInt=function(){return parseInt("0x"+k)};this.toHexString=function(){return"#"+k};this.toHslString=function(a){return(a?"hsla":"hsl")+"("+Math.round(360*i.h)+","+Math.round(100*
i.s)+"%,"+Math.round(100*i.l)+"%"+(a?","+i.a:"")+")"};this.toHslaString=function(){return g.toHslString(!0)};this.toRgbString=function(a){return(a?"rgba":"rgb")+"("+Math.round(255*f.r)+","+Math.round(255*f.g)+","+Math.round(255*f.b)+(a?","+f.a:"")+")"};this.toRgbaString=function(){return g.toRgbString(!0)};(function(a){if("string"==typeof a){var g=a.match(c.regex.isColor);if(g)switch(g[1]){case "#":a=a.match(c.regex.isHexColor);k=null!=a?a[1]:"000000";f=e.hex2rgb(k);i=e.rgb2hsl(f.r,f.g,f.b);f.a=i.a=
1;break;case "rgb":case "rgba":g={r:0,g:0,b:0,a:1};a=a.match(c.regex.isRGBColor);null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),g.r=d(a[0],255),g.g=d(a[1],255),g.b=d(a[2],255),g.a=3<a.length?d(a[3],1):1);f=g;k=e.rgb2hex(f.r,f.g,f.b);i=e.rgb2hsl(f.r,f.g,f.b);break;case "hsl":case "hsla":g={h:0,s:0,l:0,a:1},a=a.match(c.regex.isHSLColor),null!=a&&(a=a[1].replace(/\s+/g,""),a=a.split(","),g.h=d(a[0],360),g.s=d(a[1],1),g.l=d(a[2],1),g.a=3<a.length?d(a[3],1):1),i=g,f=e.hsl2rgb(i.h,i.s,i.l),k=e.rgb2hex(f.r,
f.g,f.b),f.a=i.a}}else void 0!=a.r&&void 0!=a.g&&void 0!=a.b?(f=a,k=e.rgb2hex(f.r,f.g,f.b),i=e.rgb2hsl(f.r,f.g,f.b)):void 0!=a.h&&void 0!=a.s&&void 0!=a.l&&(i=a,f=e.hsl2rgb(i.h,i.s,i.l),k=e.rgb2hex(f.r,f.g,f.b)),void 0!=a.a?(f.a=a.a,i.a=a.a):(f.a=1,i.a=1)})(a);return this}})})(lola);(function(c){c.registerModule(new function(){var k=["event","type","string"];this.namespace=function(){return"http"};this.dependencies=function(){return k};this.transform=function(a,c,e){var f,g;if(window.ActiveXObject){f=new ActiveXObject("MSXML2.XSLTemplate");f.stylesheet=c.documentElement;c=f.createProcessor();c.input=a;for(g in e)c.addParameter(g,e[g]);c.transform();a=document.createElement("div");a.innerHTML=c.output;f=a.childNodes}else if(document.implementation&&document.implementation.createDocument){var l=
new XSLTProcessor;l.importStylesheet(c);for(g in e)l.setParameter(null,g,e[g]);if(a=l.transformToFragment(a,document))f=a.childNodes}return f};this.cacheXsl=function(){};this.encode=function(a){"string"==typeof a&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/&/g,"&amp;"));return a};this.unencode=function(a){"string"==typeof a&&(a=a.replace(/\$lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};this.selectorMethods={applyTransform:function(a,d,e){this.html(d);
this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.data)});c.event.addListener(a,"fault",function(){$(d).html(e)})});a.load()},applyRequest:function(a,d,e,f){this.html(e);this.forEach(function(d){c.event.addListener(a,"result",function(a){$(d).html(a.currentTarget.responseText())});c.event.addListener(a,"fault",function(){$(d).html(f)})});a.load()},loadContent:function(a,d,e){this.applyRequest(new c.http.AsyncRequest(a,"get",[]),{},d,e)}};var i=function(a,d,e,f,g,l){function j(){if(i)switch(i.readyState){case 1:c.event.trigger(h,
"loading",!0,!0,i);break;case 2:c.event.trigger(h,"loaded",!0,!0,i);break;case 3:c.event.trigger(h,"interactive",!0,!0,i);break;case 4:c.event.trigger(h,"statecomplete",!0,!0,i),200==i.status&&!r?(r=!0,c.event.trigger(h,"result",!0,!0,i)):400<=i.status&&(console.info("AsyncRequest.readyStateChange.fault:",a),c.event.trigger(h,"fault",!1,!1,i))}}var h=this,i=!1,r=!1;this.ready=function(){return r};var v=function(){var a=!1;if(window.XMLHttpRequest&&!window.ActiveXObject)try{a=new XMLHttpRequest}catch(c){a=
!1}else if(window.ActiveXObject)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){a=!1}}return a};this.send=function(r){i=v();i.open(d,a,f,g,l);i.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var k=0;k<e.length;k++)try{i.setRequestHeader(e[k].name,e[k].value)}catch(q){}if(void 0!=r&&"string"!=c.type.get(r)){var k=[],n;for(n in r)k.push(n+"="+c.string.encode(r[n]));r=k.join("&")}i.onreadystatechange=function(){j.call(h)};
i.send(r);return i};this.responseText=function(){return r||!f?i.responseText:!1};this.responseXML=function(){return r||!f?i.responseXML:!1};d=d||"POST";e=e||[];f=void 0==f?!0:f;g=g||null;l=l||null;return this};this.AsyncRequest=function(a,c,e,f,g){return new i(a,c,e,!0,f,g)};this.SyncRequest=function(a,c,e,f,g){return new i(a,c,e,!1,f,g)};this.Transform=function(a,d,e,f){function g(){a.ready()&&d.ready()&&(f&&""!=f&&h.cacheXsl(f,d),r=h.transform(a.responseXML(),d.responseXML(),e),c.event.trigger(i,
"result",!0,!0,r))}function l(){c.event.trigger(i,"fault",!0,!0,"xsl fault")}function j(){c.event.trigger(i,"fault",!0,!0,"xml fault")}var h=i,i=this,r=[];this.resultNodes=function(){return r};this.send=function(c,g){a.ready()||a.send(c);d.ready()||d.send(g)};this.cancel=function(){c.event.removeListener(d,"result",g,!0);c.event.removeListener(d,"fault",l,!0);c.event.removeListener(a,"result",g,!0);c.event.removeListener(a,"fault",j,!0);try{d.abort()}catch(h){}try{a.abort()}catch(e){}};(function(){f=
f||"";if("string"==c.type.get(d)){var a=d;d=h.getCachedXsl(a);if(!d)throw Error('unknown xsl cache id: "'+a+'"');}else this.xsl=d;if(this.xsl&&this.xml)c.event.addListener(this.xsl,"result",g,!0,0,this),c.event.addListener(this.xsl,"fault",l,!0,0,this),c.event.addListener(this.xml,"result",g,!0,0,this),c.event.addListener(this.xml,"fault",j,!0,0,this),g();else throw Error("transform error!");})();return this}})})(lola);(function(c){c.registerModule(new function(){function k(a){return g.test(a)?'"'+a.replace(g,function(a){var c=d.meta[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function i(a,c){var d,g,h,e,f=this.gap,p,o=c[a];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(a));"function"===typeof j&&(o=j.call(c,a,o));switch(typeof o){case "string":return k(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+
o;case "object":if(!o)return"null";this.gap+=this.indent;p=[];if("[object Array]"===Object.prototype.toString.apply(o)){e=o.length;for(d=0;d<e;d+=1)p[d]=i(d,o)||"null";h=0===p.length?"[]":l?"[\n"+l+p.join(",\n"+l)+"\n"+f+"]":"["+p.join(",")+"]";l=f;return h}if(j&&"object"===typeof j){e=j.length;for(d=0;d<e;d+=1)g=j[d],"string"===typeof g&&(h=i(g,o))&&p.push(k(g)+(l?": ":":")+h)}else for(g in o)Object.hasOwnProperty.call(o,g)&&(h=i(g,o))&&p.push(k(g)+(l?": ":":")+h);h=0===p.length?"{}":l?"{\n"+l+p.join(",\n"+
l)+"\n"+f+"}":"{"+p.join(",")+"}";l=f;return h}}function a(a,c){function d(a,g){var h,e,f=a[g];if(f&&"object"===typeof f)for(h in f)Object.hasOwnProperty.call(f,h)&&(e=d(f,h),void 0!==e?f[h]=e:delete f[h]);return c.call(a,g,f)}var g,a=""+a;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return g=eval("("+a+")"),"function"===typeof c?d({"":g},""):g;throw new SyntaxError("JSON.parse");}var d=this,e=["http"],f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=null,j=null,h=0;this.namespace=function(){return"json"};this.dependencies=function(){return e};this.encode=function(a){l="";j=void 0;return i("",
{"":a})};this.decode=function(c){return a(c)};this.get=function(a,g,e){console.log("json.get: "+a);var f=new c.URL(a);if("____"==f.protocol)a=new c.http.AsyncRequest(a),g&&$(a).addListener("result",function(a){console.log("    result");a=d.parse(a.data.responseText);g(a)}),a.send();else{console.log("    cross domain");var j=h++;d.handleResponse[j]=function(a){g(a);delete d.handleResponse[j]};f.vars[e?e:"jsonp"]="lola.json.handleResponse["+j+"]";c.loadScript(f.toString())}};this.selectorMethods={};
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c.string.padFront(this.getUTCMonth()+1,"0",2)+"-"+c.string.padFront(this.getUTCDate(),"0",2)+"T"+c.string.padFront(this.getUTCHours(),"0",2)+":"+c.string.padFront(this.getUTCMinutes(),"0",2)+":"+c.string.padFront(this.getUTCSeconds(),"0",2)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()})})})(lola);(function(c){c.registerModule(new function(){var k=this,i={},a=[];this.namespace=function(){return"agent"};this.dependencies=function(){return["event","data"]};this.initialize=function(){c.debug("lola.agent::initialize");c.checkDependencies(this.dependencies);for(var d=a.length,e=0;e<d;e++)c.hasFn(a,e)&&(a[e](),delete a[e]);delete k.initialize};this.registerAgent=function(d){var e=d.namespace();c.debug("register agent: "+e);if(e&&c.hasFn(d,"sign")&&c.hasFn(d,"drop")){var f=c.getPackage(c.agent,e,
d);c.hasFn(d,"getDependencies")&&(this.dependencies["agent."+e]=d.getDependencies());i[e]=f;c.hasFn(d,"initialize")&&a.push(function(){d.initialize()});c.hasFn(d,"preinitialize")&&d.preinitialize()}else console.error("invalid agent implementation: "+name)};this.assign=function(a,c){var f=i[c];if(f)f.sign(a);else throw Error("unknown agent: "+c);};this.drop=function(a,c){var f={};void 0==c?f=i:"string"==typeof c&&c.split(",").forEach(function(a){f[a]=i[a]});for(var g in f){var l=f[g];l&&l.drop(a)}};
this.selectorMethods={assignAgent:function(a){return this.s(k.assign,a)},dropAgent:function(a){return this.s(k.drop,a)}};c.addSafeDeleteHook(this.drop,this)})})(lola);(function(c){c.registerModule(new function(){function k(a){i.execute(a.type,a.data.parameters,a.data.responder)}var i=this,a=[],d={},e={};this.namespace=function(){return"cmd"};this.dependencies=function(){return a};this.register=function(a,g){"string"!=typeof a&&void 0==g&&(g=(new a).getName());c.debug("register command: "+g);null!=d[g]&&"string"!=typeof d[g]&&console.warn('command "'+g+'" has already been registered... overwriting');d[g]=a;c.event.addListener(i,g,k)};this.call=function(a,c,d,e,
h){d=new i.Responder(d,e,h);i.execute(a,c,d)};this.execute=function(a,g,l){if(d[a])if("string"==typeof d[a])e[a]||(c.loadScript(d[a],function(){if(c.hasFn(d,a)){for(var g=e[a].length,j=0;j<g;j++){var l=e[a][j];i.execute(l.name,l.params,l.responder)}delete e[a]}else throw Error('The command loaded from "'+d[a]+'" is not named "'+a+'"');}),e[a]=[]),e[a].push({name:a,params:g,responder:l});else{var j=d[a];j&&(j=new j,l&&(c.event.addListener(j,"result",l.handleResult),c.event.addListener(j,"fault",l.handleFault),
c.event.addListener(j,"status",l.handleStatus)),j.execute(g))}else throw Error("Unknown command type: "+a);return l};this.Responder=function(a,d,e){var j=void 0;this.getLastResponse=function(){return j};this.handleStatus=function(a){if(!j||"status"==j.type)j=a;"function"==typeof e&&e.apply(c.window,[a])};this.handleResult=function(d){j=d;"function"==typeof a&&a.apply(c.window,[d])};this.handleFault=function(a){j=a;"function"==typeof d&&d.apply(c.window,[a])};return this};this.Data=function(a,c){this.parameters=
function(){return a};this.responder=function(){return c}}})})(lola);(function(c){c.registerModule(new function(){function k(a){var d={};this.toString=function(){Object.keys(d);var a=[];d.forEach(function(c,d){a.push(d+":"+c)});return"["+a.join(",")+"]"};this.evaluate=function(a){a=a[""];if(0<Object.keys(d).length)switch(c.type.get(a)){case "boolean":a=d[a?"0":"1"];break;default:a=d[a]}return a};a&&this.parse(a);return this}function i(a){if("function"!=typeof a)throw Error("invalid hook.");this.evaluate=function(d,e){return a.apply(c.window,arguments)}}function a(a){function d(a){for(var c=
[],g=a.search(e);0<=g;){var i=a.match(e),l=a.substring(0,g);l&&c.push(l);c.push(new k(i[1]));a=a.substring(g+i[0].length);g=a.search(e)}a&&c.push(a);h=c;f=c.length}var e=/\$\{([^\}]+)\}/,h=[],f=0;this.evaluate=function(a){var d=[];"array"!=c.type.get(a)&&(a=[a]);a.forEach(function(a,c){for(var g=0;g<f;){var e=h[g];"string"===typeof e?d.push(e):d.push(e.evaluate(a,c));g++}});return d.join("")};a&&d(a);return this}var d=this,e=["json"],f={};this.namespace=function(){return"template"};this.dependencies=
function(){return e};this.initialize=function(){c.debug("lola.template::initialize");if(!c)throw Error("lola not defined!");var a=c.now();c('script[type="text/x-lola-template"]').forEach(function(a){d.add(a.id,a.innerHTML)});var e=c.now();c.debug("templates parsed in "+(e-a)+" ms");delete d.initialize};this.add=function(c,d){if(!c||"getValue"==c)throw Error("invalid template id");f[c]=new a(d)};this.addHook=function(a,c){if(!a||"getValue"==a)throw Error("invalid hook id");f[a]=new i(c)};this.apply=
function(a,c){var d="",h;if(!f[a])throw Error('hook "'+a+'" not found.');(h=f[a])&&(d=h.evaluate(c));return d};this.selectorMethods={applyTemplate:function(a,d){this.html(c.template.apply(a,d))}}})})(lola);(function(c){c.registerModule(new function(){var k=this,i=["regex"];this.namespace=function(){return"geometry"};this.dependencies=function(){return i};this.getOffset=function(a,c){var e=new k.Point(a.offsetLeft,a.offsetTop);if(a.offsetParent)var f=k.getOffset(a.offsetParent),e=e.add(f);c&&(f=k.getOffset(c),e=e.subtract(f));return e};this.width=function(a,d){if(void 0!=d){var e=c.css.style(a,"borderLeft"),f=c.css.style(a,"borderRight"),g=c.css.style(a,"paddingLeft"),i=c.css.style(a,"paddingRight");
return c.css.style(a,"width",d-(e+f+g+i))}return a.offsetWidth?a.offsetWidth:a.clientWidth};this.innerWidth=function(a,d){var e;if("window"==$(a).getType()){e=-1;if(a.innerWidth)e=a.innerWidth;else{var f=a.document;f.documentElement&&f.documentElement.clientWidth?e=f.documentElement.clientWidth:f.body&&(e=f.body.clientWidth)}return e}if(void 0!=d)return c.css.style(a,"width",d);e=a.offsetWidth?a.offsetWidth:a.clientWidth;var f=c.css.style(a,"borderLeft"),g=c.css.style(a,"borderRight"),i=c.css.style(a,
"paddingLeft"),j=c.css.style(a,"paddingRight");return e-(f+g+i+j)};this.height=function(a,d){if(void 0!=d){var e=c.css.style(a,"borderTop"),f=c.css.style(a,"borderBottom"),g=c.css.style(a,"paddingTop"),i=c.css.style(a,"paddingBottom");return c.css.style(a,"height",d-(e+f+g+i))}return a.offsetHeight?a.offsetHeight:a.clientHeight};this.innerHeight=function(a,d){var e;if("window"==$(a).getType()){e=-1;if(a.innerHeight)e=a.innerHeight;else{var f=a.document;f.documentElement&&f.documentElement.clientHeight?
e=f.documentElement.clientHeight:f.body&&(e=f.body.clientHeight)}return e}if(void 0!=d)return c.css.style(a,"height",d);e=a.offsetHeight?a.offsetHeight:a.clientHeight;var f=c.css.style(a,"borderTop"),g=c.css.style(a,"borderBottom"),i=c.css.style(a,"paddingTop"),j=c.css.style(a,"paddingBottom");return e-(f+g+i+j)};this.selectorMethods={offset:function(a){return this.g(k.getOffset,a)},width:function(a){return this._(k.width,a)},height:function(a){return this._(k.height,a)},innerWidth:function(a){return this._(k.innerWidth,
a)},innerHeight:function(a){return this._(k.innerHeight,a)}};this.Point=function(a,c){this.x=a;this.y=c;return this};this.Point.prototype={x:void 0,y:void 0,toVector:function(){var a=Math.atan2(this.y,this.x),c=Math.sqrt(this.x*this.x+this.y*this.y);return new k.Vector(c,a)},toString:function(){return"{x:"+this.x+",y:"+this.y+"}"},copy:function(){return new k.Point(this.x,this.y)},operate:function(a,c){for(var e=this.copy(),f=c.length,g=0;g<f;g++){var i=c[g];"number"==typeof i?(e.x=a(e.x,i),e.y=a(e.y,
i)):(e.x=a(e.x,i.x),e.y=a(e.y,i.y))}return e},add:function(){return this.operate(function(a,c){return a+c},arguments)},subtract:function(){return this.operate(function(a,c){return a-c},arguments)},multiply:function(){return this.operate(function(a,c){return a*c},arguments)},divide:function(){return this.operate(function(a,c){return a/c},arguments)},pow:function(){return this.operate(function(a,c){return Math.pow(a,c)},arguments)},offsetPoint:function(a,c){var e=this.copy();e.x+=Math.cos(a)*c;e.y+=
Math.sin(a)*c;return e},distance:function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))}};this.Spline=function(a,c){a=a?a:[];c=void 0==c?0:c;this.addPoint=function(c,d){void 0==d&&(d=a.length);a.splice(d,0,c)};this.removePoint=function(c){void 0!=c&&a.splice(c,1,void 0)};this.updatePoint=function(c,d){void 0!=d&&a.splice(d,1,c)};this.getPoint=function(c){return c<a.length?a[c]:null};this.getPoints=function(){return a};this.draw=function(e,f){f=void 0==f?c:f;if(1<a.length){var g=
[];a.forEach(function(a){g.push(a.getControl1(),a.getAnchor(),a.getControl2())});var i=g.length;if(f&k.Spline.CONTROLS){var j=function(a,c){e.beginPath();e.moveTo(g[a].x,g[a].y);e.lineTo(g[c].x,g[c].y);e.stroke();e.closePath()};j(1,2);j(3,4)}e.beginPath();e.moveTo(g[1].x,g[1].y);for(j=2;j<i-3;j+=3)e.bezierCurveTo(g[j].x,g[j].y,g[j+1].x,g[j+1].y,g[j+2].x,g[j+2].y);f&k.Spline.CLOSED&&e.bezierCurveTo(g[i-1].x,g[i-1].y,g[0].x,g[0].y,g[1].x,g[1].y);f&k.Spline.FILL&&e.fill();f&k.Spline.STROKE&&e.stroke();
e.closePath()}else throw Error("not enough spline points");};this.normalize=function(a,c,d,i,j,h){for(var j=!0===j,h=!0===h,m=new k.Spline,r=this.getPoints(),v=r.length,x=c.subtract(a),s=i.subtract(d),c=function(c){c=c.subtract(a).divide(x);j&&(c.x=1-c.x);h&&(c.y=1-c.y);return c.multiply(s).add(d)},i=0;i<v;i++){var q=r[i].getControl1(),n=r[i].getAnchor(),p=r[i].getControl2(),n=c(n),q=n.subtract(c(q)).toVector(),p=c(p).subtract(n).toVector(),p=new k.SplinePoint(n.x,n.y,q.velocity,q.angle,p.velocity,
p.angle);m.addPoint(p)}return m};return this};this.Spline.CLOSED=1;this.Spline.FILL=2;this.Spline.STROKE=4;this.Spline.CONTROLS=8;this.SplinePoint=function(a,c,e,f,g,i){var j,h,m;this.setAngle=function(a,c){h.angle=a;m.angle=void 0==c?a+Math.PI:c};this.getAnchor=function(){return j};this.getControl1=function(a){return a?h:j.subtract(h.toPoint())};this.getControl2=function(a){return a?m:j.add(m.toPoint())};j=new k.Point(a,c);h=new k.Vector(e,f);m=new k.Vector(g,void 0==i?f+Math.PI:i);return this};
this.Vector=function(a,c){this.velocity=a;this.angle=c;this.copy=function(){return new k.Vector(this.velocity,this.angle)};this.add=function(a){this.velocity+=a.velocity;this.angle+=a.angle};this.toPoint=function(){return new k.Point(Math.cos(this.angle)*this.velocity,Math.sin(this.angle)*this.velocity)};return this}})})(lola);(function(c){c.registerModule(new function(){function k(c){"string"===typeof c&&(c=a.getContext(c));return c||e}function i(c){a[c]=function(){var a=k();a[c].apply(a,arguments)}}var a=this,d=["util"],e=null,f={},g={},l={},j={};this.namespace=function(){return"graphics"};this.dependencies=function(){return d};this.registerContext=function(a,d){var g=a.getContext("2d"),d=void 0==d?c(a).identify().attr("id"):d,h=$(a).getData("_graphics",!0);null==h.contexts&&(h.contexts=[]);h.contexts.push(d);f[d]=g};
this.removeContext=function(a){if((a=c(a).getData("_graphics",!1))&&a.contexts)for(var d;d=a.contexts.pop();)delete f[d]};this.getContext=function(a){return f[a]};this.setContext=function(a){e=k(a)};this.resetContext=function(a){"string"==typeof a&&(e=k(a));e&&c.util.copyPrimitives(g,e)};this.registerStyle=function(a,d){var g={};c.util.copyPrimitives(d,g);l[a]=g};this.removeStyle=function(a){delete l[a]};this.registerRoutine=function(a,c){j[a]=c};this.removeRoutine=function(a){delete this.routines[a]};
this.executeRoutine=function(a){if(c.hasFn(j,a))j[a](e)};this.applyStyle=function(a,d){var d=k(d),h="string"==typeof a?l[a]||g:a;c.util.copyPrimitives(g,d);c.util.copyPrimitives(h,d)};this.draw=function(a,d){c.hasFn(a,"draw")&&a.draw(e,d)};this.clear=function(a){a=k(a);a.clearRect(0,0,a.canvas.width,a.canvas.height)};this.selectorMethods={registerContext:function(){return this.s(a.registerContext)}};c.addSafeDeleteHook(a.removeContext,a);var h=document.createElement("canvas").getContext("2d"),m;for(m in h)c.type.isPrimitive(h[m])?
g[m]=h[m]:"function"==c.type.get(h[m])&&i(m)})})(lola);(function(c){c.registerModule(new function(){function k(a,c){var d=a.getPoints(),h=d.length-1,e=[];if(0<h){for(var c=c*h,f=[],i=1;i<=h;i++)f.push(d[i].getAnchor().x);for(var i=h=0,k=f[0],s=0;s<=c;s++){var q=s/c;if(q<=k){var q=(q-h)/(k-h),n=d[i].getAnchor(),p=d[i].getControl2(),o=d[i+1].getControl1(),w=d[i+1].getAnchor(),u=1-q,q=n.multiply(u*u*u).add(p.multiply(3*u*u*q),o.multiply(3*u*q*q),w.multiply(q*q*q));e.push(q)}else i++,h=k,k=f[i],s--}}return e}var i=this,a=["geometry"],d={},e="ease";this.namespace=
function(){return"easing"};this.methods=function(){return d};this.dependencies=function(){return a};this.setDefaultEase=function(a){d[a]&&(e=a,d["default"]=d[a])};this.sampleSpline=k;this.registerEasingSpline=function(a,c,e,h){var e=e?e:25,h=!0===h,f=c.getPoint(0).getAnchor(),i=c.getPoint(c.getPoints().length-1).getAnchor();if(0==f.x&&0==f.y&&1==i.x&&1==i.y)if(!d[a]||h)d[a]=new function(){this.getSpline=function(){return c};var a=k(c,e);this.getSamples=function(){return a};var d=a.length;this.exec=
function(c,g,h,e){for(var c=c/e,f=0;c>=a[f].x&&f<d;)if(f++,c<=a[f].x)return e=a[f-1],f=a[f],g+h*(e.y+(c-e.x)/(f.x-e.x)*(f.y-e.y));return 0};return this};else throw Error("easing id already taken");else throw Error("invalid easing spline");};this.registerSimpleEasing=function(a,d,e,h,f){var k=c.geometry,v=new k.Spline,d=new k.Point(d,e),h=new k.Point(1-h,1-f),f=d.toVector(),h=h.toVector();v.addPoint(new k.SplinePoint(0,0,0,0,f.velocity,f.angle));v.addPoint(new k.SplinePoint(1,1,h.velocity,h.angle,
0,0));i.registerEasingSpline(a,v)};this.registerEasingFn=function(a,c){d[a]=new function(){this.name=a;this.exec=c;return this}};this.get=function(a){if(d[a])return d[a];c.debug('easing method "'+a+'" not found.');return d[e]};this.getAll=function(){return d};this.params={back:{a:2.7,b:1.7}};var f={back:{easeIn:function(a,c,d,h){return d*(a/=h)*a*(i.params.back.a*a-i.params.back.b)+c},easeOut:function(a,c,d,h){return d*((a=a/h-1)*a*(i.params.back.a*a+i.params.back.b)+1)+c}},bounce:{easeIn:function(a,
c,d,h){return d-f.bounce.easeOut(h-a,0,d,h)+c},easeOut:function(a,c,d,h){return(a/=h)<1/2.75?d*7.5625*a*a+c:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+c}},circular:{easeIn:function(a,c,d,h){return-d*(Math.sqrt(1-(a/=h)*a)-1)+c},easeOut:function(a,c,d,h){return d*Math.sqrt(1-(a=a/h-1)*a)+c}},cubic:{easeIn:function(a,c,d,h){return d*(a/=h)*a*a+c},easeOut:function(a,c,d,h){return d*((a=a/h-1)*a*a+1)+c}},elastic:{easeIn:function(a,
c,d,h){if(0==a)return c;if(1==(a/=h))return c+d;var e,f;e=0.3*h;f=e/4;return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*h-f)*2*Math.PI/e))+c},easeOut:function(a,c,d,h){if(0==a)return c;if(1==(a/=h))return c+d;var e,f;f=0.3*h;e=f/4;return d*Math.pow(2,-10*a)*Math.sin((a*h-e)*2*Math.PI/f)+d+c}},exponential:{easeIn:function(a,c,d,h){return 0==a?c:d*Math.pow(2,10*(a/h-1))+c},easeOut:function(a,c,d,h){return a==h?c+d:d*(-Math.pow(2,-10*a/h)+1)+c}},quadratic:{easeIn:function(a,c,d,h){return d*(a/=h)*a+c},easeOut:function(a,
c,d,h){return-d*(a/=h)*(a-2)+c}},quartic:{easeIn:function(a,c,d,h){return d*(a/=h)*a*a*a+c},easeOut:function(a,c,d,h){return-d*((a=a/h-1)*a*a*a-1)+c}},quintic:{easeIn:function(a,c,d,h){return d*(a/=h)*a*a*a*a+c},easeOut:function(a,c,d,h){return d*((a=a/h-1)*a*a*a*a+1)+c}},sine:{easeIn:function(a,c,d,h){return-d*Math.cos(a/h*(Math.PI/2))+d+c},easeOut:function(a,c,d,h){return d*Math.sin(a/h*(Math.PI/2))+c}}};(function(){var a=c.now();c.debug("lola.easing::preinitialize");i.registerSimpleEasing("none",
0,0,1,1);i.registerSimpleEasing("linear",0,0,1,1);i.registerSimpleEasing("ease",0.25,0.1,0.25,1);i.registerSimpleEasing("ease-in",0.42,0,1,1);i.registerSimpleEasing("ease-out",0,0,0.58,1);i.registerSimpleEasing("ease-in-out",0.42,0,0.58,1);Object.keys(f).forEach(function(a){if(f[a].hasOwnProperty("easeIn")&&f[a].hasOwnProperty("easeOut")){var c=f[a].easeIn,d=f[a].easeOut;i.registerEasingFn(a+"-in",c);i.registerEasingFn(a+"-out",d);i.registerEasingFn(a+"-in-out",function(a,e,f,g){return a<g/2?c(a,
e,f/2,g/2):d(a-g/2,c(g,e,f/2,g),f/2,g/2)})}});var d=c.now();c.debug("easing preinitialization took",d-a,"ms");i.setDefaultEase("bounce-in-out")})();return this})})(lola);(function(c){c.registerModule(new function(){function k(a){var e=!1,i;for(i in g)if(g[i].active)if(e=!0,g[i].complete){c.event.trigger(g[i],"tweencomplete",!1,!1);for(var j in d)for(var k in d[j]){for(var l in d[j][k]){var q=d[j][k][l][0].target;if(q){c.event.trigger(q,"tweencomplete",!1,!1);break}}break}delete g[i];f.push(parseInt(i))}else g[i].calculate(a);for(var n in d){var a=0,p;for(p in d[n]){i=0;for(var o in d[n][p]){for(j=[];k=d[n][p][o].shift();)k&&g[k.tweenId]&&g[k.tweenId].active&&(k.apply(g[k.tweenId].value),
j.push(k));d[n][p][o]=j;0==d[n][p][o].length?delete d[n][p][o]:i++}0==i?delete d[n][p]:a++}0==a&&delete d[n]}return e}var i=this,a=["animation","css","event","easing"],d={},e=0,f=[],g={},l={},j={};this.namespace=function(){return"tween"};this.dependencies=function(){return a};this.initialize=function(){var a=new c.animation.Animation(k,i);c.animation.register("tween",a);0<Object.keys(g).length&&c.animation.start("tween")};this.registerTween=function(a){var c=0<f.length?f.pop():e++;g[c]=a;return c};
this.start=function(a){g[a]&&g[a].start()};this.stop=function(a){g[a]&&g[a].stop()};this.pause=function(a){g[a]&&g[a].pause()};this.resume=function(a){g[a]&&g[a].resume()};this.addTarget=function(a,e,f,j){if(g[a]){j=!0===j;"array"!=c.type.get(e)&&(e=[e]);for(var k=e.length,l=0;l<k;l++){var q=e[l],n=$(q).identify().attr("id");d[n]||(d[n]={});for(var p in f){d[n][p]||(d[n][p]={});for(var o in f[p])if(j||null==d[n][p][o])d[n][p][o]||(d[n][p][o]=[]),j?d[n][p][o].push(i.getTweenObject(a,q,p,o,f[p][o],
q)):d[n][p][o]=[i.getTweenObject(a,q,p,o,f[p][o],q)]}}}else throw Error("tween not found");};this.getTweenObject=function(a,d,e,f,g){var k,q,n;g.from||(k=c(d)[e](f),"object"==typeof g?g.from=k:g={from:k,to:""+g});k=g.from?g.from:"function"==typeof g?g.call(d):$(d)[e](f);var p=0;if(null!=k&&void 0!=k)c.type.isPrimitive(g)?q=g:g.to?(p=0,q=g.to):g.add?(p=1,q=g.add):g.by&&(p=1,q=g.by);else throw Error("invalid tween parameters");var o,w;if(l[e])o=l[e];else for(var u in j){o=j[u];if(u==e)break;if(o.match&&
o.match.test(""+q)&&o.match.test(""+k))break;else o=null}o&&(q=o.parse(q),k=o.parse(k),n=o.getDelta(q,k,p),w=o.proxy,o.canTween(k,q)||(o=null));o||(w=c.tween.setAfterProxy,n=q);return new i.TweenObject(a,d,e,f,k,n,w)};this.addTweenType=function(a,c){j[a]=c};this.addTweenType("simple",{match:c.regex.isNumber,parse:function(a){return parseFloat(a)},canTween:function(a,c){return void 0!=a&&void 0!=c},getDelta:function(a,c,d){return d?a:a-c},proxy:function(a,c){a.$target[a.type](a.property,a.initialValue+
a.deltaValue*c)}});this.addTweenType("dimensional",{match:c.regex.isDimension,parse:function(a){a=(""+a).match(c.regex.isDimension);return{value:parseFloat(a[1]),units:a[2]}},canTween:function(a,c){return a&&c&&(a.units==c.units||""==a.units&&""!=c.units)},getDelta:function(a,c,d){return d?{value:a.value,units:a.units}:{value:a.value-c.value,units:a.units}},proxy:function(a,c){var d=a.deltaValue;a.$target[a.type](a.property,a.initialValue.value+d.value*c+d.units)}});this.addTweenType("color",{match:c.regex.isColor,
parse:function(a){return(new c.css.Color(a)).getRgbValue()},canTween:function(a,c){return a&&c},getDelta:function(a,c,d){return d?{r:a.r,g:a.g,b:a.b,a:a.a}:{r:a.r-c.r,g:a.g-c.g,b:a.b-c.b,a:a.a-c.a}},proxy:function(a,d){var e=a.initialValue,f=a.deltaValue,g=255*(e.r+f.r*d)|0,i=255*(e.g+f.g*d)|0,j=255*(e.b+f.b*d)|0,e=e.a+f.a*d;if(c.support.colorAlpha)a.$target[a.type](a.property,"rgba("+[g,i,j,e].join()+")");else a.$target[a.type](a.property,"rgb("+[g,i,j].join()+")")}});this.addTweenType("class",{match:!1,
parse:function(){return!1},canTween:function(){return!0},getDelta:function(){return!1},proxy:function(a,c){var d=a.$target;1>c?d.hasClass(a.property)||d.addClass(a.property):d.hasClass(a.property)&&d.removeClass(a.property)}});this.selectorMethods={tween:function(a,c,d,e,f){c=i.registerTween(new i.Tween(c,e,d));i.addTarget(c,this.getAll(),a,f);i.start(c);return this}};this.Tween=function(a,c,d){this.init(a,c,d);return this};this.Tween.prototype={startTime:-1,pauseTime:-1,lastCalc:0,duration:1E3,delay:0,
value:0,easing:null,active:!1,complete:!1,init:function(a,d,e){this.duration=a;this.easing="function"==typeof d?d:"string"==typeof d?c.easing.get(d):c.easing.get("default");this.delay=e||0;d||(this.easing={exec:function(a,c,d,e){return a/e*d+c}})},calculate:function(a){a=a-this.startTime-this.delay;a>=this.duration&&(a=this.duration,this.active=this.complete=!0);this.value=a?this.easing.exec(a,0,1,this.duration):0},start:function(){this.active||(this.active=!0,this.startTime=c.now(),c.animation.start("tween"),
c.event.trigger(this,"tweenstart",!1,!1))},stop:function(){this.active=!1;this.complete=!0;c.event.trigger(this,"tweenstop",!1,!1)},pause:function(){this.active&&(this.active=!1,this.pauseTime=c.now(),c.event.trigger(this,"tweenpause",!1,!1))},resume:function(){this.active||(this.active=!0,this.startTime+=c.now()-this.pauseTime,c.animation.start("tween"),c.event.trigger(this,"tweenresume",!1,!1))}};this.TweenObject=function(a,c,d,e,f,g,i){this.init(a,c,d,e,f,g,i);return this};this.TweenObject.prototype=
{$target:null,target:null,type:null,property:null,tweenId:-1,initialValue:null,deltaValue:null,proxy:null,units:"",init:function(a,c,d,e,f,g,i){this.$target=$(c);this.target=c;this.type=d;this.property=e;this.tweenId=a;this.initialValue=f;this.deltaValue=g;this.proxy=i},apply:function(a){this.proxy(this,a)}}})})(lola);(function(c){c.registerModule(new function(){function k(a,c){console.log("tick[",a,"]",g,l);var d=!1;if(g!=l){var e=g-l,h=0>e?-1:1,e=e/2,j=f*(c/1E3),k=e*h;k>j?(i(l+j*h),d=!0):1>k?i(g):(i(l+e),d=!0)}return d}function i(a){console.log("update position:",a);for(var c=a>l,a=Math.round(Math.min(j,Math.max(0,a))),d=0;d<m;)h[d].setPosition(a,c),d++;l=a}var a=this,d=["tween"],e,f=2E3,g=0,l=0,j=1E4,h=[],m=0;this.namespace=function(){return"motion"};this.dependencies=function(){return d};this.setEndPosition=
function(a){j=a};this.setPosition=function(a){g=Math.round(a);e.start()};this.initialize=function(){c.debug("motion::initialize");e=new c.animation.Animation(k,a);c.animation.register("motion",e);delete a.initialize};this.addTarget=function(a,d){Array.isArray(a)||(a=[a]);var e=d.start?d.start:0,f=d.end?d.end:range,g=c.easing.get(d.ease?d.ease:"linear");delete d.start;delete d.end;delete d.ease;a.forEach(function(a){for(var c in d)for(var i in d[c])h.push(new r(a,c,i,d[c][i],void 0==d[c][i].ease?g:
d[c][i].ease,void 0==d[c][i].start?e:d[c][i].start,void 0==d[c][i].end?f:d[c][i].end))});m=h.length};this.selectorMethods={motionRange:function(c){a.addTarget(this.getAll(),c)}};var r=function(a,d,e,f,g,i,h){var j=new c.tween.getTweenObject(-1,a,d,e,f),k=!1,m=h-i;this.setPosition=function(a,c){a>=i&&a<=h?(k=!0,j.apply(g.exec(a-i,0,1,m))):k?(k=!1,j.apply(c?1:0)):c&&l<i&&a>h?j.apply(1):!c&&l>h&&a<i&&j.apply(0)}}})})(lola);(function(c){c.registerModule(new function(){var c=this,i=["graphics"];this.namespace=function(){return"chart"};this.dependencies=function(){return i};this.Grid=function(a,d,e,f,g,i){this.draw=function(j,h){var h=void 0==h?i:h,m;if(h&c.Grid.VERTICAL)for(m=a+g;m<=e+a;m+=g)j.beginPath(),j.moveTo(m,d),j.lineTo(m,d+f),j.stroke(),j.closePath();if(h&c.Grid.HORIZONTAL)for(m=d+g;m<=f+d;m+=g)j.beginPath(),j.moveTo(a,m),j.lineTo(a+e,m),j.stroke(),j.closePath()};return this};this.Grid.HORIZONTAL=1;this.Grid.VERTICAL=
2;this.Axis=function(a,d,e,f,g,i){this.draw=function(j,h){h=void 0==h?i:h;j.beginPath();j.moveTo(a,d);h&c.Axis.VERTICAL?j.lineTo(a,d+e):j.lineTo(a+e,d);j.stroke();j.closePath();f&&(h&c.Axis.VERTICAL?(j.textAlign="center",j.fillText(f,a+g.x,d+e+g.y)):(j.textAlign="right",j.fillText(f,a+g.x,d+g.y)))};return this};this.Axis.VERTICAL=1})})(lola);(function(c){c.registerModule(new function(){var c=[];this.namespace=function(){return"math.tvm"};this.dependencies=function(){return c};this.pv=function(c,a,d){return c/Math.pow(1+a,d)};this.fv=function(c,a,d){return c*Math.pow(1+a,d)};this.pva=function(c,a,d){return c*(1-1/Math.pow(1+a,d))/a};this.fva=function(c,a,d){return c*(Math.pow(1+a,d)-1)/a};this.payment=function(c,a,d,e){d=Math.pow(1+a,d);return c*a/(1-1/d)-e*a/(d-1)}})})(lola);(function(c){c.registerModule(new function(){function k(f){f=new c.http.SyncRequest(f);f.send();var g=f.responseXML(),f=[];if("tests"==g.documentElement.tagName)for(var g=g.documentElement,i=g.childNodes.length,h=0;h<i;h++){var k=g.childNodes[h];if(1==k.nodeType)switch(k.nodeName.toLowerCase()){case "script":k=new a(k);f.push(k);break;case "test":k=new d(k);f.push(k);break;case "xml":k=new e(k),f.push(k)}}f.unshift(0);f.unshift(l+1);j.splice.apply(j,f)}function i(){l++;if(l<j.length){var a=j[l];h=
a;a.execute()&&setTimeout(function(){i()},2)}else console.log("lola.test.complete")}function a(a){var d="",e="";this.execute=function(){m("executing",'"'+d+'"',"script");c.evaluate(e);return!0};a.hasAttribute("name")&&(d=a.attributes.getNamedItem("name").nodeValue);for(var f="",g=0;g<a.childNodes.length;g++)f+=a.childNodes[g].data;e=f;return this}function d(a){function d(){switch(g){case "equals":(l=f==h)||(t="assertion false: "+f+" == "+h);break;case "strictlyEquals":(l=f===h)||(t="assertion false: "+
f+" === "+h);break;case "doesNotEqual":(l=f!=h)||(t="assertion false: "+f+" != "+h);break;case "greaterThan":(l=f>h)||(t="assertion false: "+f+" > "+h);break;case "lessThan":(l=f<h)||(t="assertion false: "+f+" < "+h);break;case "greaterThanOrEquals":(l=f>=h)||(t="assertion false: "+f+" >= "+h);break;case "lessThanOrEquals":(l=f<=h)||(t="assertion false: "+f+" <= "+h);break;default:(l=f==h)||(t="assertion false: "+f+" == "+h)}l||(t="failed, "+t,r("    ",t))}var e,f,g="==",h,j,k=!1,l,t="";this.execute=
function(){m(e);try{if(k)return c.evaluate(j),!1;f=eval(j);d();return!0}catch(a){return l=!1,t="failed due to error: "+a.message,r("    ",t),m("    ",a),!0}};this.setResult=function(a){f=a;d();i()};(function(a){e=a.attributes.getNamedItem("name").nodeValue;a.hasAttribute("async")&&(k="true"==a.attributes.getNamedItem("async").nodeValue);a.hasAttribute("equals")?g="equals":a.hasAttribute("strictlyEquals")?g="strictlyEquals":a.hasAttribute("doesNotEqual")?g="doesNotEqual":a.hasAttribute("greaterThan")?
g="greaterThan":a.hasAttribute("lessThan")?g="lessThan":a.hasAttribute("greaterThanOrEquals")?g="greaterThanOrEquals":a.hasAttribute("lessThanOrEquals")&&(g="lessThanOrEquals");var c=a.attributes.getNamedItem(g).nodeValue;switch(a.attributes.getNamedItem("type").nodeValue){case "float":h=parseFloat(c);break;case "int":h=parseInt(c);break;case "bool":h="true"===c;break;default:h=""+c}for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].data;j=c})(a);return this}function e(a){var d;a.hasAttribute("src")&&
(d=a.attributes.getNamedItem("src").nodeValue);this.execute=function(){var a=c.string,a=a.padFront(a.padEnd("\nsource\n","=",56),"=",104);m(a);d&&k(d);return!0}}var f=[],g="tests.xml",l=-1,j=[],h=null,m=function(){console.log([].splice.call(arguments,0).join(" "))},r=function(){console.error([].splice.call(arguments,0).join(" "))};this.namespace=function(){return"test"};this.dependencies=function(){return f};this.setLogFn=function(a){m=a};this.setErrorFn=function(a){r=a};this.setSource=function(a){g=
a};this.current=function(){return h};this.start=function(){j=[];m("lola.test.run: "+g);k(g);l=-1;i();return""}})})(lola);(function(c){"complete"===document.readyState?c.initialize(window):document.addEventListener?(document.addEventListener("DOMContentLoaded",c.initialize,!1),c.window.addEventListener("load",c.initialize,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",c.initialize),c.window.attachEvent("onload",c.initialize))})(lola);